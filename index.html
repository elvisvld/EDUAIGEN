<html lang="en"><head><script src="https://apis.google.com/_/scs/abc-static/_/js/k=gapi.lb.en.nJpyt-fjzo8.O/m=client/rt=j/sv=1/d=1/ed=1/rs=AHpOoo9fTqXSCmwMDsu9FH68l5KSqr6MBg/cb=gapi.loaded_0?le=scs" async=""></script><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6ImY2ZTAxMDEwMWQ1NmE1NmIyZDY4Y2U3NDZkNmI5YzJlMmFlYzU5ZGQiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6XC9cL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbVwvZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIxODM3MTkxNTU0NzM1OTEyNjk3MSIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJleHAiOjE3NDg1NDIyNDYsImlhdCI6MTc0ODUzODY0NiwiYWxnIjoiUlMyNTYifQ.F-ezeoVB4shutTxov6QcGt1dFub8tZ3QT5k-S-LbsGyIrf6zTzp48L9B0gv6OUg8IA7q361hbdGWgvUoGACtwQij7hYMg6Bdg-70Mb8zZdO5Wcv2LDpfDUk2ZZxQJR83ePRBdVqcnAT7nClpdJDJHBwryODmcJ_vZQfi3ZtI5jDS5tZcWbypV80hCbXU0Za08Ezqq2b9Ga8LCvY5NpRsOrIYxbyYEseECLJ7kT5_4qJLWKFHqrbYWpEPEz9B_rEzj0zavY7BU0xewNSxMUi1hnx8F0faE5sfkYnxHp32phLxCMrpMgPhlKiLRYMMn3cnIhUW9Z3zQsZYk0YyKNXEuw","c_b1715218e4c993de_educationalAppHtmlBundle-747")</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  let originalGetUserMedia = realOriginalGetUserMedia;

  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          const mediaPromiseId = nextMediaPromiseId++;
          const promise = new Promise((resolve, reject) => {
            pendingMediaResolvers[mediaPromiseId] = (granted) => {
              delete pendingMediaResolvers[mediaPromiseId];
              if (granted) {
                if (originalGetUserMedia) {
                  originalGetUserMedia(constraints).then(resolve).catch(reject);
                } else {
                  reject(new Error("Original getUserMedia not available."));
                }
              } else {
              reject(new DOMException('Permission denied', 'NotAllowedError'));
            }
          };
        });

        window.parent.postMessage({
          type: 'requestMediaPermission',
          constraints: constraints,
          promiseId: mediaPromiseId,
        }, '*');

        return promise;
      },
      writable: false,
      configurable: false
    });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>(function() {
  const originalFetch = window.fetch;
  const googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict',
    'https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/veo-2.0-generate-001:predict',
    'https://generativelanguage.googleapis.com/v1beta/models/veo-2.0-generate-001:predictLongRunning',
  ];

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: 'models/' + modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

})();</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Curriculum Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif; 
            margin: 0;
            background-color: #f0f4f8; 
        }
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.right-3{right:0.75rem}.top-1\/2{top:50%}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-6{margin-bottom:1.5rem}.ml-2{margin-left:0.5rem}.mr-2{margin-right:0.5rem}.mt-1{margin-top:0.25rem}.mt-12{margin-top:3rem}.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.block{display:block}.flex{display:flex}.grid{display:grid}.h-4{height:1rem}.h-5{height:1.25rem}.max-h-\[90vh\]{max-height:90vh}.min-h-screen{min-height:100vh}.w-4{width:1rem}.w-5{width:1.25rem}.w-full{width:100%}.max-w-4xl{max-width:56rem}.max-w-2xl{max-width:42rem}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-105{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-not-allowed{cursor:not-allowed}.appearance-none{-webkit-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-y-auto{overflow-y:auto}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-t{border-top-width:1px}.border-slate-600{--tw-border-opacity:1;border-color:rgb(71 85 105 / var(--tw-border-opacity, 1))}.border-slate-700{--tw-border-opacity:1;border-color:rgb(51 65 85 / var(--tw-border-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-sky-600{--tw-bg-opacity:1;background-color:rgb(2 132 199 / var(--tw-bg-opacity, 1))}.bg-slate-700{--tw-bg-opacity:1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-opacity-75{--tw-bg-opacity:0.75}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-sky-400{--tw-gradient-from:#38bdf8 var(--tw-gradient-from-position);--tw-gradient-to:rgb(56 189 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-sky-500{--tw-gradient-from:#0ea5e9 var(--tw-gradient-from-position);--tw-gradient-to:rgb(14 165 233 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-slate-900{--tw-gradient-from:#0f172a var(--tw-gradient-from-position);--tw-gradient-to:rgb(15 23 42 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-blue-500{--tw-gradient-to:#3b82f6 var(--tw-gradient-to-position)}.to-blue-600{--tw-gradient-to:#2563eb var(--tw-gradient-to-position)}.to-slate-800{--tw-gradient-to:#1e293b var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.pr-10{padding-right:2.5rem}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-sky-300{--tw-text-opacity:1;color:rgb(125 211 252 / var(--tw-text-opacity, 1))}.text-sky-400{--tw-text-opacity:1;color:rgb(56 189 248 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-sky-500{--tw-text-opacity:1;color:rgb(14 165 233 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity:1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.placeholder-slate-400::placeholder{--tw-placeholder-opacity:1;color:rgb(148 163 184 / var(--tw-placeholder-opacity, 1))}.opacity-50{opacity:0.5}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-150{transition-duration:150ms}.ease-in-out{transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-600:hover{--tw-bg-opacity:1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.hover\:from-sky-600:hover{--tw-gradient-from:#0284c7 var(--tw-gradient-from-position);--tw-gradient-to:rgb(2 132 199 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:to-blue-700:hover{--tw-gradient-to:#1d4ed8 var(--tw-gradient-to-position)}.hover\:text-sky-300:hover{--tw-text-opacity:1;color:rgb(125 211 252 / var(--tw-text-opacity, 1))}.hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.focus\:border-sky-500:focus{--tw-border-opacity:1;border-color:rgb(14 165 233 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-sky-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(14 165 233 / var(--tw-ring-opacity, 1))}.focus\:ring-opacity-75:focus{--tw-ring-opacity:0.75}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-slate-600:disabled{--tw-bg-opacity:1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.disabled\:opacity-70:disabled{opacity:0.7}@media (min-width: 640px){.sm\:ml-2{margin-left:0.5rem}.sm\:mt-0{margin-top:0px}.sm\:flex-row{flex-direction:row}.sm\:space-y-0 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse))}.sm\:p-6{padding:1.5rem}.sm\:p-8{padding:2rem}.sm\:text-4xl{font-size:2.25rem;line-height:2.5rem}.sm\:text-sm{font-size:0.875rem;line-height:1.25rem}}@media (min-width: 768px){.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}}@media (min-width: 1024px){.lg\:p-8{padding:2rem}}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return r; }; var t, r = {}, e = Object.prototype, n = e.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", u = o.toStringTag || "@@toStringTag"; function c(t, r, e, n) { Object.defineProperty(t, r, { value: e, enumerable: !n, configurable: !n, writable: !n }); } try { c({}, ""); } catch (t) { c = function c(t, r, e) { return t[r] = e; }; } function h(r, e, n, o) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype); return c(a, "_invoke", function (r, e, n) { var o = 1; return function (i, a) { if (3 === o) throw Error("Generator is already running"); if (4 === o) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var u = n.delegate; if (u) { var c = d(u, n); if (c) { if (c === f) continue; return c; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (1 === o) throw o = 4, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = 3; var h = s(r, e, n); if ("normal" === h.type) { if (o = n.done ? 4 : 2, h.arg === f) continue; return { value: h.arg, done: n.done }; } "throw" === h.type && (o = 4, n.method = "throw", n.arg = h.arg); } }; }(r, n, new Context(o || [])), !0), a; } function s(t, r, e) { try { return { type: "normal", arg: t.call(r, e) }; } catch (t) { return { type: "throw", arg: t }; } } r.wrap = h; var f = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var l = {}; c(l, i, function () { return this; }); var p = Object.getPrototypeOf, y = p && p(p(x([]))); y && y !== e && n.call(y, i) && (l = y); var v = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(l); function g(t) { ["next", "throw", "return"].forEach(function (r) { c(t, r, function (t) { return this._invoke(r, t); }); }); } function AsyncIterator(t, r) { function e(o, i, a, u) { var c = s(t[o], t, i); if ("throw" !== c.type) { var h = c.arg, f = h.value; return f && "object" == _typeof(f) && n.call(f, "__await") ? r.resolve(f.__await).then(function (t) { e("next", t, a, u); }, function (t) { e("throw", t, a, u); }) : r.resolve(f).then(function (t) { h.value = t, a(h); }, function (t) { return e("throw", t, a, u); }); } u(c.arg); } var o; c(this, "_invoke", function (t, n) { function i() { return new r(function (r, o) { e(t, n, r, o); }); } return o = o ? o.then(i, i) : i(); }, !0); } function d(r, e) { var n = e.method, o = r.i[n]; if (o === t) return e.delegate = null, "throw" === n && r.i["return"] && (e.method = "return", e.arg = t, d(r, e), "throw" === e.method) || "return" !== n && (e.method = "throw", e.arg = new TypeError("The iterator does not provide a '" + n + "' method")), f; var i = s(o, r.i, e.arg); if ("throw" === i.type) return e.method = "throw", e.arg = i.arg, e.delegate = null, f; var a = i.arg; return a ? a.done ? (e[r.r] = a.value, e.next = r.n, "return" !== e.method && (e.method = "next", e.arg = t), e.delegate = null, f) : a : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, f); } function w(t) { this.tryEntries.push(t); } function m(r) { var e = r[4] || {}; e.type = "normal", e.arg = t, r[4] = e; } function Context(t) { this.tryEntries = [[-1]], t.forEach(w, this), this.reset(!0); } function x(r) { if (null != r) { var e = r[i]; if (e) return e.call(r); if ("function" == typeof r.next) return r; if (!isNaN(r.length)) { var o = -1, a = function e() { for (; ++o < r.length;) if (n.call(r, o)) return e.value = r[o], e.done = !1, e; return e.value = t, e.done = !0, e; }; return a.next = a; } } throw new TypeError(_typeof(r) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, c(v, "constructor", GeneratorFunctionPrototype), c(GeneratorFunctionPrototype, "constructor", GeneratorFunction), c(GeneratorFunctionPrototype, u, GeneratorFunction.displayName = "GeneratorFunction"), r.isGeneratorFunction = function (t) { var r = "function" == typeof t && t.constructor; return !!r && (r === GeneratorFunction || "GeneratorFunction" === (r.displayName || r.name)); }, r.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, c(t, u, "GeneratorFunction")), t.prototype = Object.create(v), t; }, r.awrap = function (t) { return { __await: t }; }, g(AsyncIterator.prototype), c(AsyncIterator.prototype, a, function () { return this; }), r.AsyncIterator = AsyncIterator, r.async = function (t, e, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(h(t, e, n, o), i); return r.isGeneratorFunction(e) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, g(v), c(v, u, "Generator"), c(v, i, function () { return this; }), c(v, "toString", function () { return "[object Generator]"; }), r.keys = function (t) { var r = Object(t), e = []; for (var n in r) e.unshift(n); return function t() { for (; e.length;) if ((n = e.pop()) in r) return t.value = n, t.done = !1, t; return t.done = !0, t; }; }, r.values = x, Context.prototype = { constructor: Context, reset: function reset(r) { if (this.prev = this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(m), !r) for (var e in this) "t" === e.charAt(0) && n.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0][4]; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(r) { if (this.done) throw r; var e = this; function n(t) { a.type = "throw", a.arg = r, e.next = t; } for (var o = e.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i[4], u = this.prev, c = i[1], h = i[2]; if (-1 === i[0]) return n("end"), !1; if (!c && !h) throw Error("try statement without catch or finally"); if (null != i[0] && i[0] <= u) { if (u < c) return this.method = "next", this.arg = t, n(c), !0; if (u < h) return n(h), !1; } } }, abrupt: function abrupt(t, r) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var n = this.tryEntries[e]; if (n[0] > -1 && n[0] <= this.prev && this.prev < n[2]) { var o = n; break; } } o && ("break" === t || "continue" === t) && o[0] <= r && r <= o[2] && (o = null); var i = o ? o[4] : {}; return i.type = t, i.arg = r, o ? (this.method = "next", this.next = o[2], f) : this.complete(i); }, complete: function complete(t, r) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && r && (this.next = r), f; }, finish: function finish(t) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var e = this.tryEntries[r]; if (e[2] === t) return this.complete(e[4], e[3]), m(e), f; } }, "catch": function _catch(t) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var e = this.tryEntries[r]; if (e[0] === t) { var n = e[4]; if ("throw" === n.type) { var o = n.arg; m(e); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(r, e, n) { return this.delegate = { i: x(r), r: e, n: n }, "next" === this.method && (this.arg = t), f; } }, r; }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
// --- Icon Components (Lucide-React inspired SVGs) ---
var BookOpenIcon = function BookOpenIcon(_ref) {
  var className = _ref.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"
  }));
};
var ClipboardListIcon = function ClipboardListIcon(_ref2) {
  var className = _ref2.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("rect", {
    width: "8",
    height: "4",
    x: "8",
    y: "2",
    rx: "1",
    ry: "1"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M12 11h4"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M12 16h4"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M8 11h.01"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M8 16h.01"
  }));
};
var FileTextIcon = function FileTextIcon(_ref3) {
  var className = _ref3.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "14 2 14 8 20 8"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "16",
    y1: "13",
    x2: "8",
    y2: "13"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "16",
    y1: "17",
    x2: "8",
    y2: "17"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "10",
    y1: "9",
    x2: "8",
    y2: "9"
  }));
};
var HelpCircleIcon = function HelpCircleIcon(_ref4) {
  var className = _ref4.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("circle", {
    cx: "12",
    cy: "12",
    r: "10"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    y1: "17",
    x2: "12.01",
    y2: "17"
  }));
};
var LoaderIcon = function LoaderIcon(_ref5) {
  var className = _ref5.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: "".concat(className, " animate-spin")
  }, /*#__PURE__*/React.createElement("line", {
    x1: "12",
    y1: "2",
    x2: "12",
    y2: "6"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    y1: "18",
    x2: "12",
    y2: "22"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "4.93",
    y1: "4.93",
    x2: "7.76",
    y2: "7.76"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "16.24",
    y1: "16.24",
    x2: "19.07",
    y2: "19.07"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "2",
    y1: "12",
    x2: "6",
    y2: "12"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "18",
    y1: "12",
    x2: "22",
    y2: "12"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "4.93",
    y1: "19.07",
    x2: "7.76",
    y2: "16.24"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "16.24",
    y1: "7.76",
    x2: "19.07",
    y2: "4.93"
  }));
};
var AlertTriangleIcon = function AlertTriangleIcon(_ref6) {
  var className = _ref6.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    y1: "9",
    x2: "12",
    y2: "13"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    y1: "17",
    x2: "12.01",
    y2: "17"
  }));
};
var ChevronDownIcon = function ChevronDownIcon(_ref7) {
  var className = _ref7.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("polyline", {
    points: "6 9 12 15 18 9"
  }));
};
var LogInIcon = function LogInIcon(_ref8) {
  var className = _ref8.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "10 17 15 12 10 7"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "15",
    y1: "12",
    x2: "3",
    y2: "12"
  }));
};
var LogOutIcon = function LogOutIcon(_ref9) {
  var className = _ref9.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "16 17 21 12 16 7"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "21",
    y1: "12",
    x2: "9",
    y2: "12"
  }));
};
var UploadCloudIcon = function UploadCloudIcon(_ref0) {
  var className = _ref0.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M12 12v9"
  }), /*#__PURE__*/React.createElement("path", {
    d: "m16 16-4-4-4 4"
  }));
};
var ExternalLinkIcon = function ExternalLinkIcon(_ref1) {
  var className = _ref1.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "15 3 21 3 21 9"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "10",
    y1: "14",
    x2: "21",
    y2: "3"
  }));
};
var Edit3Icon = function Edit3Icon(_ref10) {
  var className = _ref10.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M12 20h9"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"
  }));
};
var DownloadIcon = function DownloadIcon(_ref11) {
  var className = _ref11.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "7 10 12 15 17 10"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    y1: "15",
    x2: "12",
    y2: "3"
  }));
};

// --- Google API Configuration ---
var GOOGLE_CLIENT_ID = '937880952155-o3q3ocm7vcck3qnbkni74dcsnbfjpd0p.apps.googleusercontent.com';
var GOOGLE_API_KEY = '';
var DRIVE_API_DISCOVERY_DOCS = ["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"];
var DRIVE_API_SCOPES = 'https://www.googleapis.com/auth/drive.file';

// --- Curriculum Data and Parsing Logic ---
var biologyPdfTextContent = "\nNew Visions Biology Curriculum Overview\n\nUnit: Marathon Runner - Homeostasis\nDriving Question: How does the human body maintain dynamic equilibrium and respond to internal and\nexternal changes in its environment?\nAnchor Phenomenon: Marathon Runner Collapse\nTopic: Gas Exchange and Cellular Respiration\nInvestigative Question: Did the marathon runner run out of breath or not get enough oxygen?\n- Planning Investigation on Sugar & Yeast\n- Analyzing Cellular Respiration\n- Constructing Input/Output Models\n- Analyzing Blood Gas Levels\n- Explaining Homeostasis Feedback\nTopic: Muscles & Energy\nInvestigative Question: Did the marathon runner's muscles get tired?\n- Exploring Muscle Fatigue\n- ATP and Energy Models\nSystem Interactions Analysis\n- Applying Feedback Models\n- Evidence-Based Explanation\n\nUnit: Humans vs. Bacteria - Natural Selection and Evolution\nDriving Question: How has evolution shaped how humans and bacteria interact? How can we prevent future\noutbreaks of bacterial infections?\nAnchor Phenomenon: The number of deaths from infectious diseases is increasing globally.\nTopic: The Black Death\nInvestigative Question: Why were some people able to survive the Black Death?\n- Historical Account Review\n- Disease Transmission Simulation\n- Evaluating Survival Claims\nTrait Variation Analysis\nDesigning Cholera Prevention\n\nUnit: Evolution of Sick Humans - Mismatch Between Body and Environment\nDriving Question: How have our environments and culture changed over time? How have these changes\nimpacted our health?\nAnchor Phenomenon: Student unable to digest dairy after arriving in NYC.\nTopic: Lactase Persistence\nInvestigative Question: Why are some people able to digest dairy into adulthood?\nGlobal Lactose Map Analysis\nDigestive Sample Investigation\nGenetic Explanation of Lactase\nMutation Impact Modeling\n- Application to School Health Design\n\nUnit: Saving the Mountain Lion - Genetics and Variation\nDriving Question: How can we save the mountain lion?\nAnchor Phenomenon: A mountain lion was hit by a car on a highway outside NYC.\nTopic: Mountain Lion Populations\nInvestigative Question: How can we figure out where the Connecticut Cat came from?\n- Intro Texts & Video\nGenetic Data Analysis\nModeling Population Origin\nAllele Frequency Review\n- Habitat and Genetic Link\n\nUnit: Food for All - Energy and Matter in Ecosystems\nDriving Question: What caused an epidemic of pellagra in the early 20th century?\nAnchor Phenomenon: Pellagra epidemic in the early 20th century Southeastern US.\nTopic: The SuperFood That Changed the World\nInvestigative Question: Why was corn used as a primary source and was it the cause of pellagra?\n- Historical Context Discussion\n- Investigating Corn Dependency\nComparing Corn Processing Techniques\n- Diet and Deficiency Mapping\nSolution Planning for Nutrition Equity\n\nUnit: Woolly Mammoth - Ecology and Biodiversity\nDriving Question: What is the story of woolly mammoth extinction? What types of information do we need to\nknow in order to evaluate the cause of a species' extinction?\nAnchor Phenomenon: Woolly Mammoth Extinction\nTopic: Tuskless Elephants\nInvestigative Question: Why are there more tuskless elephants now than in the past?\n- Analyzing Tuskless Population Graph\n- Linking Poaching to Trait Changes\nConservation Concerns Discussion\n- Designing Intervention Models\n- Evaluating Extinction Arguments\n";
var essPdfTextContent = "\nEarth and Space Science Curriculum Overview\n\nUnit 1: Discovering New Worlds\nPerformance Expectations: HS-ESS1-1, HS-ESS1-3, HS-ESS1-4\nAnchor Phenomenon: Observation of a new exoplanet\nTopic: How the Sun Works\n- How does the Sun generate energy?\nWhat is the composition of the Sun?\n- What is the role of nuclear fusion?\nTopic: Star Life Cycles\n- How do stars change over time?\n- What types of stars are stable?\nWhat happens in a supernova?\nTopic: Planets and Orbits\nWhat factors allow planets to maintain stable temperature?\nWhat is the importance of distance from a star?\n\nUnit 2: Earthquakes, Volcanoes, and Tsunamis: Who's at Risk?\nPerformance Expectations: HS-ESS3-1, HS-ESS3-2\nAnchor Phenomenon: A recent major geological event\nTopic: Earthquake Risk\n- How do earthquakes form?\nWhere is earthquake risk highest?\nTopic: Volcano Risk\n- Why do volcanoes form?\nWhich areas are most at risk for eruptions?\nTopic: Tsunami Risk\n- What causes tsunamis?\n- How can we prepare for tsunamis?\n\nUnit 3: Climate Change Throughout Human History\nPerformance Expectations: HS-ESS2-2, HS-ESS2-4, HS-ESS3-1\nAnchor Phenomenon: Ice core data showing CO2 fluctuations\nTopic: Earth's Climate Record\n- How do we know Earth's climate has changed?\n- What evidence shows long-term patterns?\nTopic: Human Impacts\n- How have humans affected climate?\n- What are signs of anthropogenic climate change?\nTopic: Natural Factors\n- How do volcanoes and solar cycles affect climate?\n\nUnit 4: More Hurricanes and Blizzards in NYC?\nPerformance Expectations: HS-ESS3-5, HS-ESS2-8\nAnchor Phenomenon: Increased frequency of extreme weather events in NYC\nTopic: Atmosphere and Weather Variables (3E)\n- What is the atmosphere made of?\n- How does air behave at different altitudes?\nTopic: Blizzards (5E)\nWhat causes blizzards?\n- How can we predict severe winter storms?\nTopic: Paths of Severe Storms (5E)\n- Why do storms follow patterns?\n- How do global winds affect storms?\nTopic: Hurricanes (5E)\n- How do hurricanes form?\n- Why do hurricanes occur in patterns?\n\nUnit 5: Equitable Solutions for a Sustainable Future\nPerformance Expectations: HS-ESS3-3, HS-ESS3-4, HS-ETS1-1\nAnchor Phenomenon: Local community facing an environmental challenge\nTopic: Design Thinking\n- How can we design sustainable solutions?\n- What are the criteria and constraints for solutions?\nTopic: Environmental Justice\n- What are the inequities in environmental impacts?\n- How can solutions be equitable?\nTopic: Local Action Plans\n- How do we assess sustainability in our community?\n- What projects can we implement?\n\nUnit 6: Probability of Life Elsewhere\nPerformance Expectations: HS-ESS1-2, HS-ESS1-4, HS-ESS1-6, HS-ESS2-5, HS-ESS2-7\nAnchor Phenomenon: The Drake Equation and Fermi Paradox\nTopic: Stability of the Solar System (5E)\n- How often do asteroids hit Earth?\n- How was life affected by past impacts?\nTopic: Coevolution of Earth and Life (5E)\n- How did life evolve to intelligence?\n- What conditions were required?\nTopic: Origin of the Universe (5E)\n- How did the universe form?\n- How many galaxies exist?\n- What does that mean for life elsewhere?\n";
function parseCurriculumTextToStructure(text, subjectName) {
  var lines = text.split('\n').map(function (line) {
    return line.trim();
  }).filter(function (line) {
    return line;
  });
  var curriculum = {
    units: []
  };
  var currentUnit = null;
  var currentTopic = null;
  var unitAnchorPhenomenon = null;
  var ignoredLineStarts = ['--- PAGE', 'New Visions Biology Curriculum Overview', 'Earth and Space Science Curriculum Overview', 'Driving Question:', 'Investigative Question:', 'Performance Expectations:'];
  var _iterator = _createForOfIteratorHelper(lines),
    _step;
  try {
    var _loop = function _loop() {
        var line = _step.value;
        if (ignoredLineStarts.some(function (start) {
          return line.startsWith(start) || line.match(/^HS-[A-Z0-9-]+/);
        })) {
          return 0; // continue
        }
        var unitMatch = line.match(/^Unit: (.*?) -/);
        if (!unitMatch) {
          unitMatch = line.match(/^Unit \d+: (.*)/);
        }
        if (unitMatch) {
          var unitTitle = unitMatch[1].trim();
          currentUnit = {
            title: unitTitle,
            "5e_sequences": []
          };
          curriculum.units.push(currentUnit);
          currentTopic = null;
          unitAnchorPhenomenon = null;
          return 0; // continue
        }
        var anchorMatch = line.match(/^Anchor Phenomenon: (.*)/);
        if (anchorMatch && currentUnit && !unitAnchorPhenomenon) {
          unitAnchorPhenomenon = anchorMatch[1].trim();
          var anchorTopic = {
            title: "Anchor: ".concat(unitAnchorPhenomenon),
            lesson_titles: ["Exploring: ".concat(unitAnchorPhenomenon)]
          };
          currentUnit["5e_sequences"].unshift(anchorTopic);
          return 0; // continue
        }
        var topicMatch = line.match(/^Topic: (.*)/);
        if (topicMatch && currentUnit) {
          var topicTitle = topicMatch[1].trim();
          currentTopic = {
            title: topicTitle,
            lesson_titles: []
          };
          currentUnit["5e_sequences"].push(currentTopic);
          return 0; // continue
        }
        if (currentTopic && currentUnit) {
          var isLesson = false;
          var lessonText = '';
          if (line.startsWith('- ')) {
            isLesson = true;
            lessonText = line.substring(2).trim();
          } else if (!line.match(/^Unit[:\s]/) && !line.match(/^Topic:/) && !line.match(/^Anchor Phenomenon:/) && !ignoredLineStarts.some(function (start) {
            return line.startsWith(start);
          })) {
            isLesson = true;
            lessonText = line.trim();
          }
          if (isLesson && lessonText) {
            if (!currentTopic.lesson_titles.includes(lessonText)) {
              currentTopic.lesson_titles.push(lessonText);
            }
          }
        }
      },
      _ret;
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      _ret = _loop();
      if (_ret === 0) continue;
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  curriculum.units.forEach(function (unit) {
    unit["5e_sequences"] = unit["5e_sequences"].filter(function (seq) {
      return seq.title && seq.lesson_titles.length > 0;
    });
  });
  curriculum.units = curriculum.units.filter(function (unit) {
    return unit.title && unit["5e_sequences"].length > 0;
  });
  return curriculum;
}
var allCurriculaData = {
  "Biology": parseCurriculumTextToStructure(biologyPdfTextContent, "Biology"),
  "Earth & Space Science": parseCurriculumTextToStructure(essPdfTextContent, "Earth & Space Science")
};

// --- Main Application Component ---
function App() {
  var _React$useState = React.useState('lessonPlan'),
    _React$useState2 = _slicedToArray(_React$useState, 2),
    materialType = _React$useState2[0],
    setMaterialType = _React$useState2[1];
  var _React$useState3 = React.useState(''),
    _React$useState4 = _slicedToArray(_React$useState3, 2),
    sourceText = _React$useState4[0],
    setSourceText = _React$useState4[1];
  var _React$useState5 = React.useState(''),
    _React$useState6 = _slicedToArray(_React$useState5, 2),
    generatedContent = _React$useState6[0],
    setGeneratedContent = _React$useState6[1];
  var _React$useState7 = React.useState(null),
    _React$useState8 = _slicedToArray(_React$useState7, 2),
    lastGeneratedLessonPlan = _React$useState8[0],
    setLastGeneratedLessonPlan = _React$useState8[1];
  var _React$useState9 = React.useState(false),
    _React$useState0 = _slicedToArray(_React$useState9, 2),
    isLoading = _React$useState0[0],
    setIsLoading = _React$useState0[1];
  var _React$useState1 = React.useState(''),
    _React$useState10 = _slicedToArray(_React$useState1, 2),
    error = _React$useState10[0],
    setError = _React$useState10[1];
  var _React$useState11 = React.useState(false),
    _React$useState12 = _slicedToArray(_React$useState11, 2),
    showInfoModal = _React$useState12[0],
    setShowInfoModal = _React$useState12[1];
  var _React$useState13 = React.useState(''),
    _React$useState14 = _slicedToArray(_React$useState13, 2),
    selectedSubject = _React$useState14[0],
    setSelectedSubject = _React$useState14[1];
  var _React$useState15 = React.useState([]),
    _React$useState16 = _slicedToArray(_React$useState15, 2),
    subjectsList = _React$useState16[0],
    setSubjectsList = _React$useState16[1];
  var _React$useState17 = React.useState(null),
    _React$useState18 = _slicedToArray(_React$useState17, 2),
    currentCurriculumData = _React$useState18[0],
    setCurrentCurriculumData = _React$useState18[1];
  var _React$useState19 = React.useState(''),
    _React$useState20 = _slicedToArray(_React$useState19, 2),
    selectedUnit = _React$useState20[0],
    setSelectedUnit = _React$useState20[1];
  var _React$useState21 = React.useState(''),
    _React$useState22 = _slicedToArray(_React$useState21, 2),
    selectedTopic = _React$useState22[0],
    setSelectedTopic = _React$useState22[1];
  var _React$useState23 = React.useState(''),
    _React$useState24 = _slicedToArray(_React$useState23, 2),
    selectedLesson = _React$useState24[0],
    setSelectedLesson = _React$useState24[1];
  var _React$useState25 = React.useState([]),
    _React$useState26 = _slicedToArray(_React$useState25, 2),
    unitsList = _React$useState26[0],
    setUnitsList = _React$useState26[1];
  var _React$useState27 = React.useState([]),
    _React$useState28 = _slicedToArray(_React$useState27, 2),
    topicsList = _React$useState28[0],
    setTopicsList = _React$useState28[1];
  var _React$useState29 = React.useState([]),
    _React$useState30 = _slicedToArray(_React$useState29, 2),
    lessonsList = _React$useState30[0],
    setLessonsList = _React$useState30[1];
  var _React$useState31 = React.useState(''),
    _React$useState32 = _slicedToArray(_React$useState31, 2),
    parseError = _React$useState32[0],
    setParseError = _React$useState32[1];

  // Google Auth State
  var _React$useState33 = React.useState(false),
    _React$useState34 = _slicedToArray(_React$useState33, 2),
    gapiLoaded = _React$useState34[0],
    setGapiLoaded = _React$useState34[1];
  var _React$useState35 = React.useState(false),
    _React$useState36 = _slicedToArray(_React$useState35, 2),
    gisLoaded = _React$useState36[0],
    setGisLoaded = _React$useState36[1];
  var _React$useState37 = React.useState(null),
    _React$useState38 = _slicedToArray(_React$useState37, 2),
    tokenClient = _React$useState38[0],
    setTokenClient = _React$useState38[1];
  var _React$useState39 = React.useState(false),
    _React$useState40 = _slicedToArray(_React$useState39, 2),
    isLoggedIn = _React$useState40[0],
    setIsLoggedIn = _React$useState40[1];
  var _React$useState41 = React.useState(null),
    _React$useState42 = _slicedToArray(_React$useState41, 2),
    userInfo = _React$useState42[0],
    setUserInfo = _React$useState42[1];
  var _React$useState43 = React.useState(''),
    _React$useState44 = _slicedToArray(_React$useState43, 2),
    googleAuthError = _React$useState44[0],
    setGoogleAuthError = _React$useState44[1];
  var _React$useState45 = React.useState(''),
    _React$useState46 = _slicedToArray(_React$useState45, 2),
    uploadStatus = _React$useState46[0],
    setUploadStatus = _React$useState46[1];
  var _React$useState47 = React.useState(false),
    _React$useState48 = _slicedToArray(_React$useState47, 2),
    isProcessingDoc = _React$useState48[0],
    setIsProcessingDoc = _React$useState48[1];
  var materialTypes = [{
    id: 'lessonPlan',
    name: 'Lesson Plan',
    icon: /*#__PURE__*/React.createElement(ClipboardListIcon, {
      className: "w-5 h-5 mr-2"
    })
  }, {
    id: 'worksheet',
    name: 'Worksheet',
    icon: /*#__PURE__*/React.createElement(FileTextIcon, {
      className: "w-5 h-5 mr-2"
    })
  }, {
    id: 'readingMaterial',
    name: 'Reading Material',
    icon: /*#__PURE__*/React.createElement(BookOpenIcon, {
      className: "w-5 h-5 mr-2"
    })
  }, {
    id: 'clusterQuestions',
    name: 'Cluster Questions',
    icon: /*#__PURE__*/React.createElement(HelpCircleIcon, {
      className: "w-5 h-5 mr-2"
    })
  }];
  var InfoModal = function InfoModal() {
    return /*#__PURE__*/React.createElement("div", {
      className: "fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 overflow-y-auto"
    }, /*#__PURE__*/React.createElement("div", {
      className: "bg-slate-800 text-gray-100 p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"
    }, /*#__PURE__*/React.createElement("h3", {
      className: "text-2xl font-semibold text-sky-400 mb-4"
    }, "How to Use This Tool Effectively"), /*#__PURE__*/React.createElement("div", {
      className: "mb-6"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "text-lg font-semibold text-sky-500 mb-2"
    }, "1. Select Subject & Curriculum"), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-slate-300 mb-2"
    }, "First, select a Subject. The curriculum for the selected subject is pre-loaded. The \"Anchor Phenomenon\" for each unit is its first topic.")), /*#__PURE__*/React.createElement("div", {
      className: "mb-6"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "text-lg font-semibold text-sky-500 mb-2"
    }, "2. Login with Google (Optional but Recommended)"), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-slate-300 mb-2"
    }, "To save or open your generated material as a Google Doc, click \"Login with Google\"."), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-yellow-500 font-semibold mb-1"
    }, "IMPORTANT: For Google features to work, the Google Client ID (`", GOOGLE_CLIENT_ID, "`) must be correctly configured in your Google Cloud Console (especially \"Authorized JavaScript origins\").")), /*#__PURE__*/React.createElement("div", {
      className: "mb-6"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "text-lg font-semibold text-sky-500 mb-2"
    }, "3. Select Material Type & Options"), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-slate-300 mb-2"
    }, "Choose the type of educational material you want."), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-slate-300 mb-2"
    }, "Use the dropdowns to select Unit, Topic, and Lesson for context.")), /*#__PURE__*/React.createElement("div", {
      className: "mb-6"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "text-lg font-semibold text-sky-500 mb-2"
    }, "4. Generate & Interact"), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-slate-300 mb-3"
    }, "Click \"Generate Material\". Once generated, you can copy it, upload to Drive, or open it directly as a Google Doc (if logged in). If you generate a Lesson Plan, a button will appear to generate a worksheet specifically for that lesson plan.")), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return setShowInfoModal(false);
      },
      className: "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md transition duration-150"
    }, "Got it!")));
  };

  // --- Google API Initialization ---
  React.useEffect(function () {
    var scriptGapi = document.createElement('script');
    scriptGapi.src = 'https://apis.google.com/js/api.js';
    scriptGapi.async = true;
    scriptGapi.defer = true;
    scriptGapi.onload = function () {
      window.gapi.load('client', function () {
        window.gapi.client.init({
          apiKey: GOOGLE_API_KEY,
          discoveryDocs: DRIVE_API_DISCOVERY_DOCS
        }).then(function () {
          setGapiLoaded(true);
          console.log("GAPI client initialized");
        })["catch"](function (error) {
          console.error("Error initializing GAPI client:", error);
          setGoogleAuthError("Failed to initialize Google API Client. Check console.");
        });
      });
    };
    document.body.appendChild(scriptGapi);
    var scriptGis = document.createElement('script');
    scriptGis.src = 'https://accounts.google.com/gsi/client';
    scriptGis.async = true;
    scriptGis.defer = true;
    scriptGis.onload = function () {
      setGisLoaded(true);
      console.log("GIS client loaded");
    };
    document.body.appendChild(scriptGis);
    return function () {
      document.body.removeChild(scriptGapi);
      document.body.removeChild(scriptGis);
    };
  }, []);
  React.useEffect(function () {
    if (gisLoaded && GOOGLE_CLIENT_ID && GOOGLE_CLIENT_ID !== 'YOUR_GOOGLE_CLIENT_ID') {
      try {
        var client = window.google.accounts.oauth2.initTokenClient({
          client_id: GOOGLE_CLIENT_ID,
          scope: DRIVE_API_SCOPES,
          callback: function callback(tokenResponse) {
            if (tokenResponse && tokenResponse.access_token) {
              setIsLoggedIn(true);
              var decodedToken = tokenResponse.id_token ? JSON.parse(atob(tokenResponse.id_token.split('.')[1])) : {};
              setUserInfo({
                name: decodedToken.name || decodedToken.email || 'Google User'
              });
              setGoogleAuthError('');
              console.log("Google Sign-In successful.");
            } else {
              console.error("Google Sign-In: No access token.", tokenResponse);
              setGoogleAuthError("Login failed: No access token. Check console.");
              setIsLoggedIn(false);
            }
          },
          error_callback: function error_callback(error) {
            console.error("Google Sign-In Error:", error);
            var detailedError = "Login Error: ".concat(error.reason || error.type || error.message || 'Unknown error', ". ");
            if (error.type === 'popup_closed_by_user' || error.reason === 'popup_closed_by_user') {
              detailedError += "The sign-in popup was closed before completion. Please try again.";
            } else if (error.type === 'popup_failed_to_open' || error.reason === 'popup_failed_to_open') {
              detailedError += "The sign-in popup failed to open. Please check if your browser is blocking popups.";
            } else {
              detailedError += "Check Client ID & 'Authorized JavaScript origins' in Google Cloud Console.";
            }
            setGoogleAuthError(detailedError);
            setIsLoggedIn(false);
          }
        });
        setTokenClient(client);
      } catch (e) {
        console.error("Error initializing GIS token client:", e);
        setGoogleAuthError("Failed to init Google Sign-In. Check Client ID.");
      }
    } else if (GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID') {
      setGoogleAuthError("Google Client ID not configured. Please update the code with your actual Client ID from Google Cloud Console.");
      console.warn("Google Client ID is not configured.");
    }
  }, [gisLoaded]);
  var handleGoogleLogin = function handleGoogleLogin() {
    setGoogleAuthError('');
    if (GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID') {
      setGoogleAuthError("Google Client ID is not configured. Please update the code.");
      return;
    }
    if (!gisLoaded || !tokenClient) {
      setGoogleAuthError("Google Sign-In is not ready. Please wait or check console for errors.");
      console.error("Google Sign-In not ready (gisLoaded, tokenClient):", gisLoaded, tokenClient);
      return;
    }
    try {
      tokenClient.requestAccessToken();
    } catch (e) {
      console.error("Error requesting access token:", e);
      setGoogleAuthError("Error requesting access token. Check console.");
    }
  };
  var handleGoogleLogout = function handleGoogleLogout() {
    setIsLoggedIn(false);
    setUserInfo(null);
    console.log("User logged out.");
  };
  var createAndUploadGoogleDoc = /*#__PURE__*/function () {
    var _ref12 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(content, fileNameToUse) {
      var openAfterCreate,
        metadata,
        boundary,
        delimiter,
        close_delim,
        multipartRequestBody,
        request,
        response,
        _error$result,
        errorMsg,
        _args = arguments;
      return _regeneratorRuntime().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            openAfterCreate = _args.length > 2 && _args[2] !== undefined ? _args[2] : false;
            if (isLoggedIn) {
              _context.next = 4;
              break;
            }
            setUploadStatus("Please login with Google first.");
            return _context.abrupt("return", null);
          case 4:
            if (content) {
              _context.next = 7;
              break;
            }
            setUploadStatus("No content available.");
            return _context.abrupt("return", null);
          case 7:
            if (!(!gapiLoaded || !window.gapi.client || !window.gapi.client.drive)) {
              _context.next = 10;
              break;
            }
            setUploadStatus("Google Drive API not ready.");
            return _context.abrupt("return", null);
          case 10:
            setIsProcessingDoc(true);
            setUploadStatus(openAfterCreate ? "Creating Google Doc..." : "Uploading to Google Drive...");
            metadata = {
              name: fileNameToUse,
              mimeType: 'application/vnd.google-apps.document'
            };
            boundary = '-------314159265358979323846';
            delimiter = "\r\n--" + boundary + "\r\n";
            close_delim = "\r\n--" + boundary + "--";
            multipartRequestBody = delimiter + 'Content-Type: application/json; charset=UTF-8\r\n\r\n' + JSON.stringify(metadata) + delimiter + 'Content-Type: text/plain; charset=UTF-8\r\n\r\n' + content + close_delim;
            _context.prev = 17;
            request = window.gapi.client.request({
              path: '/upload/drive/v3/files',
              method: 'POST',
              params: {
                uploadType: 'multipart'
              },
              headers: {
                'Content-Type': 'multipart/related; boundary="' + boundary + '"'
              },
              body: multipartRequestBody
            });
            _context.next = 21;
            return request;
          case 21:
            response = _context.sent;
            console.log("File action successful:", response.result);
            if (openAfterCreate && response.result && response.result.webViewLink) {
              setUploadStatus("Google Doc created! Opening...");
              window.open(response.result.webViewLink, '_blank');
            } else if (openAfterCreate) {
              setUploadStatus("Google Doc created, but no link to open. Find it in Drive.");
            } else {
              setUploadStatus("Success! File \"".concat(fileNameToUse, "\" uploaded to Google Drive."));
            }
            setIsProcessingDoc(false);
            return _context.abrupt("return", response.result);
          case 28:
            _context.prev = 28;
            _context.t0 = _context["catch"](17);
            console.error("Error with Google Drive action:", _context.t0);
            errorMsg = ((_error$result = _context.t0.result) === null || _error$result === void 0 || (_error$result = _error$result.error) === null || _error$result === void 0 ? void 0 : _error$result.message) || _context.t0.message || 'Unknown error';
            setUploadStatus("Action failed: ".concat(errorMsg, ". Check console."));
            setIsProcessingDoc(false);
            return _context.abrupt("return", null);
          case 35:
          case "end":
            return _context.stop();
        }
      }, _callee, null, [[17, 28]]);
    }));
    return function createAndUploadGoogleDoc(_x, _x2) {
      return _ref12.apply(this, arguments);
    };
  }();
  var handleUploadToDrive = function handleUploadToDrive() {
    var materialTitle = selectedLesson || selectedTopic || selectedUnit || materialType;
    var fileName = "".concat(selectedSubject || 'Generated Material', "_").concat(materialTitle.replace(/[^a-zA-Z0-9\s-_]/g, '').replace(/\s+/g, '_'), ".gdoc");
    createAndUploadGoogleDoc(generatedContent, fileName, false);
  };
  var handleOpenInGoogleDocs = function handleOpenInGoogleDocs() {
    var materialTitle = selectedLesson || selectedTopic || selectedUnit || materialType;
    var fileName = "".concat(selectedSubject || 'Generated Material', "_").concat(materialTitle.replace(/[^a-zA-Z0-9\s-_]/g, '').replace(/\s+/g, '_'), ".gdoc");
    createAndUploadGoogleDoc(generatedContent, fileName, true);
  };

  // --- Curriculum Dropdown Logic ---
  React.useEffect(function () {
    setSubjectsList(Object.keys(allCurriculaData));
  }, []);
  React.useEffect(function () {
    if (selectedSubject && allCurriculaData[selectedSubject]) {
      setCurrentCurriculumData(allCurriculaData[selectedSubject]);
      setUnitsList(allCurriculaData[selectedSubject].units.map(function (u) {
        return u.title;
      }));
      setSelectedUnit('');
      setSelectedTopic('');
      setSelectedLesson('');
      setTopicsList([]);
      setLessonsList([]);
    } else {
      setCurrentCurriculumData(null);
      setUnitsList([]);
      setSelectedUnit('');
      setSelectedTopic('');
      setSelectedLesson('');
      setTopicsList([]);
      setLessonsList([]);
    }
  }, [selectedSubject]);
  React.useEffect(function () {
    if (selectedUnit && currentCurriculumData && currentCurriculumData.units) {
      var unit = currentCurriculumData.units.find(function (u) {
        return u.title === selectedUnit;
      });
      setTopicsList(unit && unit["5e_sequences"] ? unit["5e_sequences"].map(function (seq) {
        return seq.title;
      }) : []);
      setSelectedTopic('');
      setSelectedLesson('');
      setLessonsList([]);
    } else if (!selectedUnit) {
      setTopicsList([]);
      setLessonsList([]);
      setSelectedTopic('');
      setSelectedLesson('');
    }
  }, [selectedUnit, currentCurriculumData]);
  React.useEffect(function () {
    if (selectedTopic && selectedUnit && currentCurriculumData && currentCurriculumData.units) {
      var _unit$5e_sequences;
      var unit = currentCurriculumData.units.find(function (u) {
        return u.title === selectedUnit;
      });
      var topicSequence = unit === null || unit === void 0 || (_unit$5e_sequences = unit["5e_sequences"]) === null || _unit$5e_sequences === void 0 ? void 0 : _unit$5e_sequences.find(function (seq) {
        return seq.title === selectedTopic;
      });
      setLessonsList(topicSequence ? topicSequence.lesson_titles : []);
      setSelectedLesson('');
    } else if (!selectedTopic) {
      setLessonsList([]);
      setSelectedLesson('');
    }
  }, [selectedTopic, selectedUnit, currentCurriculumData]);
  var constructPrompt = function constructPrompt() {
    var isForWorksheetFromLessonPlan = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    var lessonPlanContent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
    var subjectFocus = "";
    var unitDetails = "";
    var topicDetails = "";
    var lessonDetails = "";
    if (selectedUnit) unitDetails = "Unit: \"".concat(selectedUnit, "\"");
    if (selectedTopic) topicDetails = "Topic/5e Sequence: \"".concat(selectedTopic, "\"");
    if (selectedLesson) lessonDetails = "Lesson: \"".concat(selectedLesson, "\"");
    if (selectedSubject) {
      subjectFocus = "Subject: ".concat(selectedSubject);
      if (unitDetails) subjectFocus += ", ".concat(unitDetails);
      if (topicDetails) subjectFocus += ", ".concat(topicDetails);
      if (lessonDetails) subjectFocus += ", ".concat(lessonDetails);
      if (!unitDetails) subjectFocus += " (general)";
    } else {
      if (!sourceText.trim() && !isForWorksheetFromLessonPlan) {
        setError("Please select a Subject, and optionally Unit/Topic/Lesson, or provide 'Additional Source Text' to define a topic.");
        return '';
      }
      subjectFocus = "Topic to be inferred from Source Text or Lesson Plan";
    }
    var currentMaterialType = isForWorksheetFromLessonPlan ? 'worksheet' : materialType;
    var prompt = "You are an expert instructional designer. The user is requesting educational material for ".concat(selectedSubject ? 'the subject: ' + selectedSubject : 'a science topic', ".\n          Please generate the content with formatting optimized for direct copy-pasting into Google Docs. \n          This means: highly organized text, clear paragraph separation (one blank line between paragraphs), bold main section titles (e.g., **Section Title**), \n          numbered primary lists (e.g., 1. Item A, 2. Item B), and lettered indented sub-lists (e.g., a. Sub-item 1, b. Sub-item 2). \n          Avoid complex text formatting, asterisks for lists/emphasis, and any elements that do not transfer well to a standard word processor environment.\n          The descriptive text in parentheses within the following specific instructions (like \"(A clear, engaging title...)\") is for your guidance on content and should NOT be part of the final generated material.\n\n          Generate educational material based on the following specifications.\n          The user is providing a subject focus derived from their curriculum structure and optionally some additional source text.\n          The additional source text may contain relevant information from curricula like \"New Vision HS Biology,\" \"MLL cBiology,\" and the \"NYS Culturally Responsive-Sustaining Education Framework.\"\n          Use this information and your expertise to create high-quality, relevant content.\n\n          Subject Focus: ").concat(subjectFocus, "\n          Additional Source Text (use this to supplement information for the subject focus if provided, otherwise rely on general knowledge for the subject focus):\n          ---\n          ").concat(isForWorksheetFromLessonPlan ? "N/A - Worksheet is based on the provided Lesson Plan content below." : sourceText || "No additional source text provided. Rely on general knowledge for the subject focus.", "\n          ---\n          ").concat(isForWorksheetFromLessonPlan ? "\n\nLesson Plan Content to Base Worksheet On:\n---\n".concat(lessonPlanContent, "\n---\n") : "", "\n          Material Type: ").concat(currentMaterialType, "\n          ");
    switch (currentMaterialType) {
      // Use currentMaterialType here
      case 'lessonPlan':
        prompt += "\n              Generate a Lesson Plan with the following structure:\n\n              **Lesson Title and Overview:**\n              (Content: A clear, engaging title that reflects the content focus. A short summary of goals within the lesson. Title should be specific to the Subject Focus.)\n\n              **Aim:**\n              (Content: A clear question outlining the main goal or purpose of the lesson, specific to the Subject Focus. Do not include explanation.)\n\n              **Do Now:**\n              (Content: A brief activity or question designed to engage students at the beginning of the lesson. Related to the Subject Focus, serving as a warm-up to activate prior knowledge. Incorporate elements of the Culturally Responsive-Sustaining Education Framework from NYS. If possible, model an activity style from the relevant curriculum (e.g., New Vision HS Biology or Earth Science) based on provided source text or general knowledge of it.)\n\n              **Learning Objectives:**\n              (Content: A list of 3 specific, measurable learning objectives students should achieve for the Subject Focus. Format as a numbered list. One sentence per objective. Align with relevant standards. Model from the relevant curriculum if possible.)\n              Example Format:\n              1. Objective one.\n              2. Objective two.\n              3. Objective three.\n\n              **Standards Alignment:**\n              (Content: Detailed alignment with relevant NYS educational standards (e.g., NYSSLS) for the Subject Focus. List 3 specific standards addressed. Format as a numbered list.)\n              Example Format:\n              1. Standard one.\n              2. Standard two.\n              3. Standard three.\n\n              **Prior Knowledge Activation:**\n              (Content: 1-2 questions to activate students' prior knowledge related to the Subject Focus. Follow the Culturally Responsive-Sustaining Education Framework.)\n\n              **Lesson Activities (Teacher Sequence & Student Engagement):**\n              (Content: A sequence of steps for the teacher for the Subject Focus. Include relevant parts from the specified curriculum and MLL cBiology curriculum from source text or general knowledge. Include scaffolded material and strategies from the specified curriculum. Incorporate at least 1 engaging activity from the specified curriculum style within this lesson flow. Activity must align with aim and objectives for the Subject Focus. Follow the Culturally Responsive-Sustaining Education Framework.)\n\n              **Engaging Activities (Optional Day 2 / Enrichment):**\n              (Content: Describe one optional Day 2 activity (LAB or enrichment) to deepen understanding of the Subject Focus. Clearly label it as \"Optional Day 2 Activity\". This activity should be in the style of the specified curriculum.)\n\n              **Closure:**\n              (Content: General questions for students to summarize what they learned about the Subject Focus. Follow the Culturally Responsive-Sustaining Education Framework.)\n\n              **Differentiation:**\n              (Content: Specific scaffolds/supports for the Subject Focus.)\n              Students With Disabilities (SWD): (Describe specific strategies using clear, concise language. Use numbered or lettered sub-lists if multiple strategies are provided.)\n              Multilingual Learners (MLLs):\n              Visual Strategies: (Use a numbered or lettered list for strategies)\n              1. (Strategy 1 description)\n              2. (Strategy 2 description)\n              Sentence Stems: (Use a numbered or lettered list for stems)\n              1. (Stem 1 example)\n              2. (Stem 2 example)\n              3. (Stem 3 example)\n              Collaboration Strategies: (Use a numbered or lettered list for strategies)\n              1. (Strategy 1 description)\n              2. (Strategy 2 description)\n              (Follow the Culturally Responsive-Sustaining Education Framework.)\n              ";
        break;
      case 'worksheet':
        prompt += "\n              Generate a Student Worksheet. \n              ".concat(isForWorksheetFromLessonPlan ? "This worksheet MUST be based on the 'Lesson Plan Content to Base Worksheet On' provided above. Extract key concepts, activities, questions, and vocabulary from the lesson plan to create relevant worksheet items." : "This worksheet should be based on the Subject Focus and any Additional Source Text.", "\n              \n              The worksheet should have the following characteristics:\n              Content: (Based on the provided lesson plan or subject focus.)\n              Bilingual: (All student-facing text - questions, instructions, sentence stems - MUST be in English AND Spanish. Clearly label each language. E.g., English: Question / Espa\xF1ol: Pregunta. Ensure clear separation between languages for readability.)\n              Sentence Stems/Starters: (Include these for answers to support students.)\n              Questions/Problems: (Include questions and problems discussed in the lesson plan or typical for the subject focus. Use numbered lists for questions.)\n              Note-Taking Space: (Include a designated area for notes, clearly labeled.)\n              Curriculum Alignment: (Use sample question styles from the specified curriculum from source text or general knowledge.)\n              Framework: (Adhere to the Culturally Responsive-Sustaining Education Framework.)\n\n              Example structure for a bilingual question with stem:\n              1. English: Based on the lesson about ").concat(selectedLesson || selectedTopic || selectedUnit || 'the topic', ", what is...? To answer, you can start with: \"Based on the lesson, ...\"\n                 Espa\xF1ol: Basado en la lecci\xF3n sobre ").concat(selectedLesson || selectedTopic || selectedUnit || 'el tema', ", \xBFqu\xE9 es...? Para responder, puedes comenzar con: \"Basado en la lecci\xF3n, ...\"\n                 [Space for answer]\n              ");
        break;
      case 'readingMaterial':
        prompt += "\n              Generate Reading Material for the Subject Focus with the following specifications:\n              Topic Relevancy: (Article must be relevant to the Subject Focus and suitable as support material for a lesson.)\n              Length: (600-1000 words, multiple paragraphs. Ensure clear paragraph breaks.)\n              Differentiation: (The article should be written to be accessible. Include a separate, clearly labeled section or call-outs for differentiation strategies for MLLs and SWDs, rather than embedding them directly in the main text in a confusing way.)\n              Bilingual: (The ENTIRE article MUST be bilingual. First, provide the complete article in English, including a title in English. Then, after the complete English article, use a clear separator like \"--- SPANISH TRANSLATION ---\". Following the separator, provide the complete article in Spanish, including a title in Spanish.)\n\n              Example of bilingual article structure:\n              **Title of Article in English**\n              [Full English article text, with multiple paragraphs...]\n\n              --- SPANISH TRANSLATION ---\n\n              **T\xEDtulo del Art\xEDculo en Espa\xF1ol**\n              [Texto completo del art\xEDculo en espa\xF1ol, con m\xFAltiples p\xE1rrafos...]\n              ";
        break;
      case 'clusterQuestions':
        prompt += "\n              Generate a set of Cluster Questions for the Subject Focus following the new NYS Biology Regents format (adapt for Earth Science if that's the selected subject, focusing on appropriate question styles). Ensure clear formatting for questions and answer choices.\n              Content: (Based on the provided Subject Focus.)\n              Structure:\n              Multiple Choice Questions (MCQs): (Generate 5 MCQs. Format as:\n                 1. Question text...\n                    a) Choice A\n                    b) Choice B\n                    c) Choice C\n                    d) Choice D\n              )\n              Data Analysis / Reading Comprehension Questions: (Generate 2 questions. These should involve interpreting a provided graph, table, or short passage related to the Subject Focus. Clearly label any provided data or passage. Format questions clearly.)\n              CER (Claim-Evidence-Reasoning) Question: (Generate 1 CER question. This should require students to make a claim, support it with evidence potentially from a provided scenario or data related to Subject Focus, and explain their reasoning. Clearly delineate the Claim, Evidence, and Reasoning sections or prompts.)\n              Curriculum Alignment: (Use material and styles from the specified curriculum from source text or general knowledge.)\n              Graphics/Models: (For some questions, describe necessary graphics, models, or diagrams relevant to the Subject Focus. E.g., \"[Instruction: Include a diagram of a relevant model for ".concat(selectedLesson || selectedTopic || selectedUnit || 'the topic', " here, showing X, Y, and Z.]\". The AI should not try to draw them but describe them clearly.)\n              Format: (Model after NYS cluster question samples, focusing on textual clarity for Google Docs.)\n              ");
        break;
      default:
        return '';
    }
    return prompt;
  };
  var handleSubmit = /*#__PURE__*/function () {
    var _ref13 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {
      var currentPrompt, chatHistory, payload, apiKey, llmApiUrl, response, errorText, text, result, responseTextForError, clonedResponse, _text;
      return _regeneratorRuntime().wrap(function _callee2$(_context2) {
        while (1) switch (_context2.prev = _context2.next) {
          case 0:
            e.preventDefault();
            currentPrompt = constructPrompt();
            if (currentPrompt) {
              _context2.next = 5;
              break;
            }
            setIsLoading(false);
            return _context2.abrupt("return");
          case 5:
            setError('');
            setGeneratedContent('');
            setUploadStatus('');
            if (materialType !== 'lessonPlan') {
              // Clear last lesson plan if not generating a lesson plan
              setLastGeneratedLessonPlan(null);
            }
            setIsLoading(true);
            _context2.prev = 10;
            chatHistory = [];
            chatHistory.push({
              role: "user",
              parts: [{
                text: currentPrompt
              }]
            });
            payload = {
              contents: chatHistory
            };
            apiKey = "";
            llmApiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=".concat(apiKey);
            _context2.next = 18;
            return fetch(llmApiUrl, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(payload)
            });
          case 18:
            response = _context2.sent;
            if (response.ok) {
              _context2.next = 33;
              break;
            }
            // Try to get text first for better error diagnosis
            errorText = "API request failed with status ".concat(response.status);
            _context2.prev = 21;
            _context2.next = 24;
            return response.text();
          case 24:
            text = _context2.sent;
            errorText += ". Response: ".concat(text.substring(0, 500)).concat(text.length > 500 ? '...' : ''); // Log first 500 chars
            _context2.next = 31;
            break;
          case 28:
            _context2.prev = 28;
            _context2.t0 = _context2["catch"](21);
            errorText += ". Additionally, failed to read response text.";
          case 31:
            console.error('API Error Full Response Text (if available):', errorText);
            throw new Error(errorText);
          case 33:
            _context2.prev = 33;
            _context2.next = 36;
            return response.json();
          case 36:
            result = _context2.sent;
            _context2.next = 54;
            break;
          case 39:
            _context2.prev = 39;
            _context2.t1 = _context2["catch"](33);
            console.error("Failed to parse API response as JSON:", _context2.t1);
            // Try to get the text of the response if JSON parsing fails
            // This requires the response to be cloned if you want to read it multiple times,
            // or ensure this is the first time .text() is called.
            // For simplicity here, we'll assume this is the first attempt if .json() fails.
            responseTextForError = "Could not read response body.";
            _context2.prev = 43;
            // Create a new reference to the response to read its body as text
            // This is a simplified approach. In more complex scenarios, you might clone the response earlier.
            clonedResponse = response.clone();
            _context2.next = 47;
            return clonedResponse.text();
          case 47:
            responseTextForError = _context2.sent;
            _context2.next = 53;
            break;
          case 50:
            _context2.prev = 50;
            _context2.t2 = _context2["catch"](43);
            console.error("Could not get text from response after JSON parse failed", _context2.t2);
          case 53:
            throw new Error("API response was not valid JSON. Received: ".concat(responseTextForError.substring(0, 200), "..."));
          case 54:
            if (!(result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0)) {
              _context2.next = 60;
              break;
            }
            _text = result.candidates[0].content.parts[0].text;
            setGeneratedContent(_text);
            if (materialType === 'lessonPlan') {
              setLastGeneratedLessonPlan(_text); // Save if it's a lesson plan
            } else {
              setLastGeneratedLessonPlan(null); // Clear if it's not
            }
            _context2.next = 65;
            break;
          case 60:
            console.error('Unexpected API response structure:', result);
            if (!(result.promptFeedback && result.promptFeedback.blockReason)) {
              _context2.next = 63;
              break;
            }
            throw new Error("Content generation blocked: ".concat(result.promptFeedback.blockReason, " - ").concat(result.promptFeedback.blockReasonMessage || ''));
          case 63:
            throw new Error('No content generated or unexpected response structure.');
          case 65:
            _context2.next = 73;
            break;
          case 67:
            _context2.prev = 67;
            _context2.t3 = _context2["catch"](10);
            console.error("Error generating content:", _context2.t3);
            setError("Failed to generate content. ".concat(_context2.t3.message, ". Please check the console for more details."));
            setGeneratedContent('');
            setLastGeneratedLessonPlan(null);
          case 73:
            _context2.prev = 73;
            setIsLoading(false);
            return _context2.finish(73);
          case 76:
          case "end":
            return _context2.stop();
        }
      }, _callee2, null, [[10, 67, 73, 76], [21, 28], [33, 39], [43, 50]]);
    }));
    return function handleSubmit(_x3) {
      return _ref13.apply(this, arguments);
    };
  }();
  var handleGenerateWorksheetFromLessonPlan = /*#__PURE__*/function () {
    var _ref14 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
      var promptForWorksheet, chatHistory, payload, apiKey, llmApiUrl, response, errorText, text, result, responseTextForError, clonedResponse, _text2;
      return _regeneratorRuntime().wrap(function _callee3$(_context3) {
        while (1) switch (_context3.prev = _context3.next) {
          case 0:
            if (lastGeneratedLessonPlan) {
              _context3.next = 3;
              break;
            }
            setError("No lesson plan available to generate a worksheet from. Please generate a lesson plan first.");
            return _context3.abrupt("return");
          case 3:
            setError('');
            setGeneratedContent('');
            setUploadStatus('');
            setIsLoading(true);
            promptForWorksheet = constructPrompt(true, lastGeneratedLessonPlan);
            _context3.prev = 8;
            chatHistory = [];
            chatHistory.push({
              role: "user",
              parts: [{
                text: promptForWorksheet
              }]
            });
            payload = {
              contents: chatHistory
            };
            apiKey = "";
            llmApiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=".concat(apiKey);
            _context3.next = 16;
            return fetch(llmApiUrl, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(payload)
            });
          case 16:
            response = _context3.sent;
            if (response.ok) {
              _context3.next = 31;
              break;
            }
            errorText = "API request failed with status ".concat(response.status);
            _context3.prev = 19;
            _context3.next = 22;
            return response.text();
          case 22:
            text = _context3.sent;
            errorText += ". Response: ".concat(text.substring(0, 500)).concat(text.length > 500 ? '...' : '');
            _context3.next = 29;
            break;
          case 26:
            _context3.prev = 26;
            _context3.t0 = _context3["catch"](19);
            errorText += ". Additionally, failed to read response text.";
          case 29:
            console.error('API Error Full Response Text (if available):', errorText);
            throw new Error(errorText);
          case 31:
            _context3.prev = 31;
            _context3.next = 34;
            return response.json();
          case 34:
            result = _context3.sent;
            _context3.next = 52;
            break;
          case 37:
            _context3.prev = 37;
            _context3.t1 = _context3["catch"](31);
            console.error("Failed to parse API response as JSON:", _context3.t1);
            responseTextForError = "Could not read response body.";
            _context3.prev = 41;
            clonedResponse = response.clone();
            _context3.next = 45;
            return clonedResponse.text();
          case 45:
            responseTextForError = _context3.sent;
            _context3.next = 51;
            break;
          case 48:
            _context3.prev = 48;
            _context3.t2 = _context3["catch"](41);
            console.error("Could not get text from response after JSON parse failed", _context3.t2);
          case 51:
            throw new Error("API response was not valid JSON when generating worksheet. Received: ".concat(responseTextForError.substring(0, 200), "..."));
          case 52:
            if (!(result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0)) {
              _context3.next = 57;
              break;
            }
            _text2 = result.candidates[0].content.parts[0].text;
            setGeneratedContent(_text2);
            _context3.next = 58;
            break;
          case 57:
            throw new Error('No content generated for worksheet or unexpected response structure.');
          case 58:
            _context3.next = 65;
            break;
          case 60:
            _context3.prev = 60;
            _context3.t3 = _context3["catch"](8);
            console.error("Error generating worksheet from lesson plan:", _context3.t3);
            setError("Failed to generate worksheet: ".concat(_context3.t3.message, "."));
            setGeneratedContent('');
          case 65:
            _context3.prev = 65;
            setIsLoading(false);
            return _context3.finish(65);
          case 68:
          case "end":
            return _context3.stop();
        }
      }, _callee3, null, [[8, 60, 65, 68], [19, 26], [31, 37], [41, 48]]);
    }));
    return function handleGenerateWorksheetFromLessonPlan() {
      return _ref14.apply(this, arguments);
    };
  }();
  React.useEffect(function () {
    var hasSeenModal = localStorage.getItem('hasSeenEducationalMaterialInfoModalV11_WorksheetFromLP');
    if (!hasSeenModal) {
      setShowInfoModal(true);
      localStorage.setItem('hasSeenEducationalMaterialInfoModalV11_WorksheetFromLP', 'true');
    }
    setSubjectsList(Object.keys(allCurriculaData));
  }, []);
  var CustomSelect = function CustomSelect(_ref15) {
    var id = _ref15.id,
      value = _ref15.value,
      onChange = _ref15.onChange,
      options = _ref15.options,
      placeholder = _ref15.placeholder,
      disabled = _ref15.disabled;
    return /*#__PURE__*/React.createElement("div", {
      className: "relative w-full"
    }, /*#__PURE__*/React.createElement("select", {
      id: id,
      value: value,
      onChange: onChange,
      disabled: disabled || options.length === 0,
      className: "w-full p-3 pr-10 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400 appearance-none\n                          ".concat(disabled || options.length === 0 ? 'opacity-50 cursor-not-allowed' : '')
    }, /*#__PURE__*/React.createElement("option", {
      value: ""
    }, placeholder), options.map(function (opt) {
      return /*#__PURE__*/React.createElement("option", {
        key: opt,
        value: opt
      }, opt);
    })), /*#__PURE__*/React.createElement(ChevronDownIcon, {
      className: "w-5 h-5 text-slate-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"
    }));
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-gray-100 p-4 sm:p-6 lg:p-8 font-sans"
  }, showInfoModal && /*#__PURE__*/React.createElement(InfoModal, null), /*#__PURE__*/React.createElement("div", {
    className: "max-w-4xl mx-auto"
  }, /*#__PURE__*/React.createElement("header", {
    className: "mb-6 text-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-2"
  }, /*#__PURE__*/React.createElement("h1", {
    className: "text-3xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-blue-500"
  }, "AI-Powered Curriculum Assistant"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      var htmlContent = document.documentElement.outerHTML;
      var blob = new Blob([htmlContent], {
        type: 'text/html'
      });
      var url = URL.createObjectURL(blob);
      var a = document.createElement('a');
      a.href = url;
      a.download = 'AI_Curriculum_App.html';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    },
    title: "Download App Source",
    className: "p-2 bg-slate-700 hover:bg-slate-600 rounded-full text-sky-400 transition-colors"
  }, /*#__PURE__*/React.createElement(DownloadIcon, {
    className: "w-5 h-5"
  }))), /*#__PURE__*/React.createElement("p", {
    className: "mt-1 text-md text-slate-300"
  }, "Your Partner in Crafting Educational Materials"), /*#__PURE__*/React.createElement("p", {
    className: "mt-3 text-sm text-slate-400"
  }, "Select your subject and options below to generate customized content.", /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setShowInfoModal(true);
    },
    className: "ml-2 text-sky-400 hover:text-sky-300 underline text-xs",
    "aria-label": "How to use this tool"
  }, "(How to use effectively?)"))), /*#__PURE__*/React.createElement("div", {
    className: "mb-6 p-4 bg-slate-800 rounded-lg shadow-md flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0"
  }, /*#__PURE__*/React.createElement("div", null, isLoggedIn && userInfo ? /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-green-400"
  }, "Logged in as: ", userInfo.name) : /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-slate-400"
  }, "Login with Google to save or open as Google Doc."), googleAuthError && /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-red-400 mt-1"
  }, googleAuthError), GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID' && /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-yellow-400 mt-1"
  }, "Google Client ID not configured. Login/Upload will not work.")), isLoggedIn ? /*#__PURE__*/React.createElement("button", {
    onClick: handleGoogleLogout,
    className: "flex items-center bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md transition duration-150 text-sm"
  }, /*#__PURE__*/React.createElement(LogOutIcon, {
    className: "w-4 h-4 mr-2"
  }), " Logout") : /*#__PURE__*/React.createElement("button", {
    onClick: handleGoogleLogin,
    disabled: !gapiLoaded || !gisLoaded || GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID',
    className: "flex items-center bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 text-white font-semibold py-2 px-4 rounded-md transition duration-150 text-sm"
  }, /*#__PURE__*/React.createElement(LogInIcon, {
    className: "w-4 h-4 mr-2"
  }), " Login with Google")), /*#__PURE__*/React.createElement("form", {
    onSubmit: handleSubmit,
    className: "bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8 space-y-6"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    htmlFor: "materialType",
    className: "block text-sm font-medium text-sky-300 mb-1"
  }, "Type of Material"), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-2 md:grid-cols-4 gap-3"
  }, materialTypes.map(function (type) {
    return /*#__PURE__*/React.createElement("button", {
      key: type.id,
      type: "button",
      onClick: function onClick() {
        setMaterialType(type.id);
        if (type.id !== 'lessonPlan') {
          // Clear last lesson plan if user selects something else
          setLastGeneratedLessonPlan(null);
        }
      },
      className: "flex flex-col sm:flex-row items-center justify-center p-3 rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-75\n                          ".concat(materialType === type.id ? 'bg-sky-600 text-white shadow-md scale-105' : 'bg-slate-700 hover:bg-slate-600 text-slate-300 hover:text-white')
    }, type.icon, /*#__PURE__*/React.createElement("span", {
      className: "mt-1 sm:mt-0 sm:ml-2 text-xs sm:text-sm font-medium"
    }, type.name));
  }))), parseError && /*#__PURE__*/React.createElement("div", {
    className: "bg-red-700 bg-opacity-80 border border-red-900 text-red-100 p-3 rounded-md text-xs"
  }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Internal Curriculum Data Error:"), " ", parseError), /*#__PURE__*/React.createElement("p", null, "The pre-loaded curriculum data could not be parsed. Please check the console for details. Dropdowns may not function correctly.")), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    htmlFor: "subjectSelect",
    className: "block text-sm font-medium text-sky-300 mb-1"
  }, "Subject"), /*#__PURE__*/React.createElement(CustomSelect, {
    id: "subjectSelect",
    value: selectedSubject,
    onChange: function onChange(e) {
      return setSelectedSubject(e.target.value);
    },
    options: subjectsList,
    placeholder: "Select Subject",
    disabled: subjectsList.length === 0
  })), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-3 gap-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    htmlFor: "unitSelect",
    className: "block text-sm font-medium text-sky-300 mb-1"
  }, "Unit"), /*#__PURE__*/React.createElement(CustomSelect, {
    id: "unitSelect",
    value: selectedUnit,
    onChange: function onChange(e) {
      return setSelectedUnit(e.target.value);
    },
    options: unitsList,
    placeholder: "Select Unit",
    disabled: !selectedSubject || unitsList.length === 0
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    htmlFor: "topicSelect",
    className: "block text-sm font-medium text-sky-300 mb-1"
  }, "Topic / 5e Sequence"), /*#__PURE__*/React.createElement(CustomSelect, {
    id: "topicSelect",
    value: selectedTopic,
    onChange: function onChange(e) {
      return setSelectedTopic(e.target.value);
    },
    options: topicsList,
    placeholder: "Select Topic/Sequence",
    disabled: !selectedUnit || topicsList.length === 0
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    htmlFor: "lessonSelect",
    className: "block text-sm font-medium text-sky-300 mb-1"
  }, "Lesson"), /*#__PURE__*/React.createElement(CustomSelect, {
    id: "lessonSelect",
    value: selectedLesson,
    onChange: function onChange(e) {
      return setSelectedLesson(e.target.value);
    },
    options: lessonsList,
    placeholder: "Select Lesson",
    disabled: !selectedTopic || lessonsList.length === 0
  }))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    htmlFor: "sourceText",
    className: "block text-sm font-medium text-sky-300 mb-1"
  }, "Additional Source Text (Optional)"), /*#__PURE__*/React.createElement("textarea", {
    id: "sourceText",
    value: sourceText,
    onChange: function onChange(e) {
      return setSourceText(e.target.value);
    },
    rows: "5",
    className: "w-full p-3 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400",
    placeholder: "Paste relevant text from your curriculum documents, key concepts, vocabulary, or specific instructions here... This text will be used IN ADDITION to the selected Unit/Topic/Lesson."
  }), /*#__PURE__*/React.createElement("p", {
    className: "mt-1 text-xs text-slate-500"
  }, "Provide specific content excerpts here to further guide the AI. If no curriculum is selected above, this field can define the general topic.")), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    disabled: isLoading,
    className: "w-full flex items-center justify-center bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white font-semibold py-3 px-4 rounded-md shadow-md transition duration-150 ease-in-out disabled:opacity-70 disabled:cursor-not-allowed"
  }, isLoading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LoaderIcon, {
    className: "w-5 h-5 mr-2"
  }), "Generating...") : 'Generate Material')), error && /*#__PURE__*/React.createElement("div", {
    className: "mt-6 bg-red-700 bg-opacity-80 border border-red-900 text-red-100 p-4 rounded-md flex items-start"
  }, /*#__PURE__*/React.createElement(AlertTriangleIcon, {
    className: "w-5 h-5 mr-3 flex-shrink-0 mt-0.5"
  }), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h4", {
    className: "font-semibold"
  }, "Error"), /*#__PURE__*/React.createElement("p", {
    className: "text-sm"
  }, error))), generatedContent && /*#__PURE__*/React.createElement("div", {
    className: "mt-8 bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col sm:flex-row justify-between items-center mb-4"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-semibold text-sky-400 mb-2 sm:mb-0"
  }, "Generated Material"), /*#__PURE__*/React.createElement("div", {
    className: "flex flex-wrap gap-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      var textarea = document.createElement('textarea');
      textarea.value = generatedContent;
      document.body.appendChild(textarea);
      textarea.select();
      try {
        document.execCommand('copy');
        var copyButton = document.getElementById('copyToClipboardButton');
        if (copyButton) {
          var originalText = copyButton.innerText;
          copyButton.innerText = 'Copied!';
          setTimeout(function () {
            copyButton.innerText = originalText;
          }, 2000);
        } else {
          alert('Content copied to clipboard!');
        }
      } catch (err) {
        alert('Failed to copy content.');
      }
      document.body.removeChild(textarea);
    },
    id: "copyToClipboardButton",
    className: "bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-3 rounded-md transition duration-150 text-sm"
  }, "Copy to Clipboard"), isLoggedIn && /*#__PURE__*/React.createElement("button", {
    onClick: handleUploadToDrive,
    disabled: isProcessingDoc || !gapiLoaded,
    className: "flex items-center bg-green-600 hover:bg-green-700 disabled:bg-slate-600 text-white font-semibold py-2 px-3 rounded-md transition duration-150 text-sm"
  }, isProcessingDoc && uploadStatus.includes("Uploading") ? /*#__PURE__*/React.createElement(LoaderIcon, {
    className: "w-4 h-4 mr-2"
  }) : /*#__PURE__*/React.createElement(UploadCloudIcon, {
    className: "w-4 h-4 mr-2"
  }), isProcessingDoc && uploadStatus.includes("Uploading") ? 'Uploading...' : 'Upload to Drive'), isLoggedIn && /*#__PURE__*/React.createElement("button", {
    onClick: handleOpenInGoogleDocs,
    disabled: isProcessingDoc || !gapiLoaded,
    className: "flex items-center bg-sky-500 hover:bg-sky-600 disabled:bg-slate-600 text-white font-semibold py-2 px-3 rounded-md transition duration-150 text-sm"
  }, isProcessingDoc && uploadStatus.includes("Creating") ? /*#__PURE__*/React.createElement(LoaderIcon, {
    className: "w-4 h-4 mr-2"
  }) : /*#__PURE__*/React.createElement(ExternalLinkIcon, {
    className: "w-4 h-4 mr-2"
  }), isProcessingDoc && uploadStatus.includes("Creating") ? 'Creating Doc...' : 'Open in Google Docs'))), uploadStatus && /*#__PURE__*/React.createElement("p", {
    className: "text-xs mt-2 mb-3 ".concat(uploadStatus.startsWith('Success') || uploadStatus.includes('Opening') ? 'text-green-400' : 'text-red-400')
  }, uploadStatus), lastGeneratedLessonPlan && /*#__PURE__*/React.createElement("div", {
    className: "mt-4 pt-4 border-t border-slate-700"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleGenerateWorksheetFromLessonPlan,
    disabled: isLoading // Disable if any generation is in progress
    ,
    className: "w-full flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md transition duration-150 text-sm disabled:opacity-70"
  }, /*#__PURE__*/React.createElement(Edit3Icon, {
    className: "w-4 h-4 mr-2"
  }), "Generate Worksheet for this Lesson Plan")), /*#__PURE__*/React.createElement("div", {
    className: "prose prose-invert prose-sm sm:prose-base max-w-none bg-slate-700 p-4 rounded-md whitespace-pre-wrap overflow-x-auto mt-4"
  }, generatedContent))), /*#__PURE__*/React.createElement("footer", {
    className: "text-center mt-12 py-6 border-t border-slate-700 px-4"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-slate-400"
  }, "AI-Powered Curriculum Assistant \xA9 ", new Date().getFullYear(), ". All Rights Reserved (for this tool's UI)."), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-slate-500 mt-2"
  }, /*#__PURE__*/React.createElement("strong", null, "Disclaimer:"), " This tool uses artificial intelligence to generate educational materials. All generated content should be carefully reviewed by qualified educators for accuracy, completeness, and pedagogical soundness before use in any educational setting. The user assumes full responsibility for the application of any materials generated by this tool.")));
}

// Render the App to the DOM
var container = document.getElementById('root');
var root = ReactDOM.createRoot(container);
root.render(/*#__PURE__*/React.createElement(App, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVnZW5lcmF0b3JSdW50aW1lIiwiciIsInQiLCJlIiwiT2JqZWN0IiwicHJvdG90eXBlIiwibiIsImhhc093blByb3BlcnR5IiwibyIsIlN5bWJvbCIsImkiLCJpdGVyYXRvciIsImEiLCJhc3luY0l0ZXJhdG9yIiwidSIsInRvU3RyaW5nVGFnIiwiYyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJoIiwiR2VuZXJhdG9yIiwiY3JlYXRlIiwiRXJyb3IiLCJkb25lIiwibWV0aG9kIiwiYXJnIiwiZGVsZWdhdGUiLCJkIiwiZiIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicyIsInR5cGUiLCJDb250ZXh0IiwiY2FsbCIsIndyYXAiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwibCIsInAiLCJnZXRQcm90b3R5cGVPZiIsInkiLCJ4IiwidiIsImciLCJmb3JFYWNoIiwiX2ludm9rZSIsIkFzeW5jSXRlcmF0b3IiLCJfdHlwZW9mIiwicmVzb2x2ZSIsIl9fYXdhaXQiLCJ0aGVuIiwiVHlwZUVycm9yIiwibmV4dCIsInciLCJ0cnlFbnRyaWVzIiwicHVzaCIsIm0iLCJyZXNldCIsImlzTmFOIiwibGVuZ3RoIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJrZXlzIiwidW5zaGlmdCIsInBvcCIsInZhbHVlcyIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJydmFsIiwiY29tcGxldGUiLCJmaW5pc2giLCJfY2F0Y2giLCJkZWxlZ2F0ZVlpZWxkIiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9uZXh0IiwiX3Rocm93IiwiX3NsaWNlZFRvQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwiQXJyYXkiLCJpc0FycmF5IiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJfbiIsIkYiLCJfYXJyYXlMaWtlVG9BcnJheSIsInRvU3RyaW5nIiwiZnJvbSIsInRlc3QiLCJCb29rT3Blbkljb24iLCJfcmVmIiwiY2xhc3NOYW1lIiwiUmVhY3QiLCJjcmVhdGVFbGVtZW50IiwieG1sbnMiLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJmaWxsIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJDbGlwYm9hcmRMaXN0SWNvbiIsIl9yZWYyIiwicngiLCJyeSIsIkZpbGVUZXh0SWNvbiIsIl9yZWYzIiwicG9pbnRzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJIZWxwQ2lyY2xlSWNvbiIsIl9yZWY0IiwiY3giLCJjeSIsIkxvYWRlckljb24iLCJfcmVmNSIsImNvbmNhdCIsIkFsZXJ0VHJpYW5nbGVJY29uIiwiX3JlZjYiLCJDaGV2cm9uRG93bkljb24iLCJfcmVmNyIsIkxvZ0luSWNvbiIsIl9yZWY4IiwiTG9nT3V0SWNvbiIsIl9yZWY5IiwiVXBsb2FkQ2xvdWRJY29uIiwiX3JlZjAiLCJFeHRlcm5hbExpbmtJY29uIiwiX3JlZjEiLCJFZGl0M0ljb24iLCJfcmVmMTAiLCJEb3dubG9hZEljb24iLCJfcmVmMTEiLCJHT09HTEVfQ0xJRU5UX0lEIiwiR09PR0xFX0FQSV9LRVkiLCJEUklWRV9BUElfRElTQ09WRVJZX0RPQ1MiLCJEUklWRV9BUElfU0NPUEVTIiwiYmlvbG9neVBkZlRleHRDb250ZW50IiwiZXNzUGRmVGV4dENvbnRlbnQiLCJwYXJzZUN1cnJpY3VsdW1UZXh0VG9TdHJ1Y3R1cmUiLCJ0ZXh0Iiwic3ViamVjdE5hbWUiLCJsaW5lcyIsInNwbGl0IiwibWFwIiwibGluZSIsInRyaW0iLCJmaWx0ZXIiLCJjdXJyaWN1bHVtIiwidW5pdHMiLCJjdXJyZW50VW5pdCIsImN1cnJlbnRUb3BpYyIsInVuaXRBbmNob3JQaGVub21lbm9uIiwiaWdub3JlZExpbmVTdGFydHMiLCJfaXRlcmF0b3IiLCJfc3RlcCIsIl9sb29wIiwic29tZSIsInN0YXJ0Iiwic3RhcnRzV2l0aCIsIm1hdGNoIiwidW5pdE1hdGNoIiwidW5pdFRpdGxlIiwidGl0bGUiLCJhbmNob3JNYXRjaCIsImFuY2hvclRvcGljIiwibGVzc29uX3RpdGxlcyIsInRvcGljTWF0Y2giLCJ0b3BpY1RpdGxlIiwiaXNMZXNzb24iLCJsZXNzb25UZXh0Iiwic3Vic3RyaW5nIiwiaW5jbHVkZXMiLCJfcmV0IiwiZXJyIiwidW5pdCIsInNlcSIsImFsbEN1cnJpY3VsYURhdGEiLCJBcHAiLCJfUmVhY3QkdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl9SZWFjdCR1c2VTdGF0ZTIiLCJtYXRlcmlhbFR5cGUiLCJzZXRNYXRlcmlhbFR5cGUiLCJfUmVhY3QkdXNlU3RhdGUzIiwiX1JlYWN0JHVzZVN0YXRlNCIsInNvdXJjZVRleHQiLCJzZXRTb3VyY2VUZXh0IiwiX1JlYWN0JHVzZVN0YXRlNSIsIl9SZWFjdCR1c2VTdGF0ZTYiLCJnZW5lcmF0ZWRDb250ZW50Iiwic2V0R2VuZXJhdGVkQ29udGVudCIsIl9SZWFjdCR1c2VTdGF0ZTciLCJfUmVhY3QkdXNlU3RhdGU4IiwibGFzdEdlbmVyYXRlZExlc3NvblBsYW4iLCJzZXRMYXN0R2VuZXJhdGVkTGVzc29uUGxhbiIsIl9SZWFjdCR1c2VTdGF0ZTkiLCJfUmVhY3QkdXNlU3RhdGUwIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiX1JlYWN0JHVzZVN0YXRlMSIsIl9SZWFjdCR1c2VTdGF0ZTEwIiwiZXJyb3IiLCJzZXRFcnJvciIsIl9SZWFjdCR1c2VTdGF0ZTExIiwiX1JlYWN0JHVzZVN0YXRlMTIiLCJzaG93SW5mb01vZGFsIiwic2V0U2hvd0luZm9Nb2RhbCIsIl9SZWFjdCR1c2VTdGF0ZTEzIiwiX1JlYWN0JHVzZVN0YXRlMTQiLCJzZWxlY3RlZFN1YmplY3QiLCJzZXRTZWxlY3RlZFN1YmplY3QiLCJfUmVhY3QkdXNlU3RhdGUxNSIsIl9SZWFjdCR1c2VTdGF0ZTE2Iiwic3ViamVjdHNMaXN0Iiwic2V0U3ViamVjdHNMaXN0IiwiX1JlYWN0JHVzZVN0YXRlMTciLCJfUmVhY3QkdXNlU3RhdGUxOCIsImN1cnJlbnRDdXJyaWN1bHVtRGF0YSIsInNldEN1cnJlbnRDdXJyaWN1bHVtRGF0YSIsIl9SZWFjdCR1c2VTdGF0ZTE5IiwiX1JlYWN0JHVzZVN0YXRlMjAiLCJzZWxlY3RlZFVuaXQiLCJzZXRTZWxlY3RlZFVuaXQiLCJfUmVhY3QkdXNlU3RhdGUyMSIsIl9SZWFjdCR1c2VTdGF0ZTIyIiwic2VsZWN0ZWRUb3BpYyIsInNldFNlbGVjdGVkVG9waWMiLCJfUmVhY3QkdXNlU3RhdGUyMyIsIl9SZWFjdCR1c2VTdGF0ZTI0Iiwic2VsZWN0ZWRMZXNzb24iLCJzZXRTZWxlY3RlZExlc3NvbiIsIl9SZWFjdCR1c2VTdGF0ZTI1IiwiX1JlYWN0JHVzZVN0YXRlMjYiLCJ1bml0c0xpc3QiLCJzZXRVbml0c0xpc3QiLCJfUmVhY3QkdXNlU3RhdGUyNyIsIl9SZWFjdCR1c2VTdGF0ZTI4IiwidG9waWNzTGlzdCIsInNldFRvcGljc0xpc3QiLCJfUmVhY3QkdXNlU3RhdGUyOSIsIl9SZWFjdCR1c2VTdGF0ZTMwIiwibGVzc29uc0xpc3QiLCJzZXRMZXNzb25zTGlzdCIsIl9SZWFjdCR1c2VTdGF0ZTMxIiwiX1JlYWN0JHVzZVN0YXRlMzIiLCJwYXJzZUVycm9yIiwic2V0UGFyc2VFcnJvciIsIl9SZWFjdCR1c2VTdGF0ZTMzIiwiX1JlYWN0JHVzZVN0YXRlMzQiLCJnYXBpTG9hZGVkIiwic2V0R2FwaUxvYWRlZCIsIl9SZWFjdCR1c2VTdGF0ZTM1IiwiX1JlYWN0JHVzZVN0YXRlMzYiLCJnaXNMb2FkZWQiLCJzZXRHaXNMb2FkZWQiLCJfUmVhY3QkdXNlU3RhdGUzNyIsIl9SZWFjdCR1c2VTdGF0ZTM4IiwidG9rZW5DbGllbnQiLCJzZXRUb2tlbkNsaWVudCIsIl9SZWFjdCR1c2VTdGF0ZTM5IiwiX1JlYWN0JHVzZVN0YXRlNDAiLCJpc0xvZ2dlZEluIiwic2V0SXNMb2dnZWRJbiIsIl9SZWFjdCR1c2VTdGF0ZTQxIiwiX1JlYWN0JHVzZVN0YXRlNDIiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiX1JlYWN0JHVzZVN0YXRlNDMiLCJfUmVhY3QkdXNlU3RhdGU0NCIsImdvb2dsZUF1dGhFcnJvciIsInNldEdvb2dsZUF1dGhFcnJvciIsIl9SZWFjdCR1c2VTdGF0ZTQ1IiwiX1JlYWN0JHVzZVN0YXRlNDYiLCJ1cGxvYWRTdGF0dXMiLCJzZXRVcGxvYWRTdGF0dXMiLCJfUmVhY3QkdXNlU3RhdGU0NyIsIl9SZWFjdCR1c2VTdGF0ZTQ4IiwiaXNQcm9jZXNzaW5nRG9jIiwic2V0SXNQcm9jZXNzaW5nRG9jIiwibWF0ZXJpYWxUeXBlcyIsImlkIiwiaWNvbiIsIkluZm9Nb2RhbCIsIm9uQ2xpY2siLCJ1c2VFZmZlY3QiLCJzY3JpcHRHYXBpIiwiZG9jdW1lbnQiLCJzcmMiLCJkZWZlciIsIm9ubG9hZCIsIndpbmRvdyIsImdhcGkiLCJsb2FkIiwiY2xpZW50IiwiaW5pdCIsImFwaUtleSIsImRpc2NvdmVyeURvY3MiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImFwcGVuZENoaWxkIiwic2NyaXB0R2lzIiwicmVtb3ZlQ2hpbGQiLCJnb29nbGUiLCJhY2NvdW50cyIsIm9hdXRoMiIsImluaXRUb2tlbkNsaWVudCIsImNsaWVudF9pZCIsInNjb3BlIiwiY2FsbGJhY2siLCJ0b2tlblJlc3BvbnNlIiwiYWNjZXNzX3Rva2VuIiwiZGVjb2RlZFRva2VuIiwiaWRfdG9rZW4iLCJKU09OIiwicGFyc2UiLCJhdG9iIiwiZW1haWwiLCJlcnJvcl9jYWxsYmFjayIsImRldGFpbGVkRXJyb3IiLCJyZWFzb24iLCJtZXNzYWdlIiwid2FybiIsImhhbmRsZUdvb2dsZUxvZ2luIiwicmVxdWVzdEFjY2Vzc1Rva2VuIiwiaGFuZGxlR29vZ2xlTG9nb3V0IiwiY3JlYXRlQW5kVXBsb2FkR29vZ2xlRG9jIiwiX3JlZjEyIiwiX2NhbGxlZSIsImNvbnRlbnQiLCJmaWxlTmFtZVRvVXNlIiwib3BlbkFmdGVyQ3JlYXRlIiwibWV0YWRhdGEiLCJib3VuZGFyeSIsImRlbGltaXRlciIsImNsb3NlX2RlbGltIiwibXVsdGlwYXJ0UmVxdWVzdEJvZHkiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJfZXJyb3IkcmVzdWx0IiwiZXJyb3JNc2ciLCJfYXJncyIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJ1bmRlZmluZWQiLCJkcml2ZSIsIm1pbWVUeXBlIiwic3RyaW5naWZ5IiwicGF0aCIsInBhcmFtcyIsInVwbG9hZFR5cGUiLCJoZWFkZXJzIiwicmVzdWx0Iiwid2ViVmlld0xpbmsiLCJvcGVuIiwidDAiLCJfeCIsIl94MiIsImhhbmRsZVVwbG9hZFRvRHJpdmUiLCJtYXRlcmlhbFRpdGxlIiwiZmlsZU5hbWUiLCJyZXBsYWNlIiwiaGFuZGxlT3BlbkluR29vZ2xlRG9jcyIsImZpbmQiLCJfdW5pdCQ1ZV9zZXF1ZW5jZXMiLCJ0b3BpY1NlcXVlbmNlIiwiY29uc3RydWN0UHJvbXB0IiwiaXNGb3JXb3Jrc2hlZXRGcm9tTGVzc29uUGxhbiIsImxlc3NvblBsYW5Db250ZW50Iiwic3ViamVjdEZvY3VzIiwidW5pdERldGFpbHMiLCJ0b3BpY0RldGFpbHMiLCJsZXNzb25EZXRhaWxzIiwiY3VycmVudE1hdGVyaWFsVHlwZSIsInByb21wdCIsImhhbmRsZVN1Ym1pdCIsIl9yZWYxMyIsIl9jYWxsZWUyIiwiY3VycmVudFByb21wdCIsImNoYXRIaXN0b3J5IiwicGF5bG9hZCIsImxsbUFwaVVybCIsImVycm9yVGV4dCIsInJlc3BvbnNlVGV4dEZvckVycm9yIiwiY2xvbmVkUmVzcG9uc2UiLCJfdGV4dCIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInByZXZlbnREZWZhdWx0Iiwicm9sZSIsInBhcnRzIiwiY29udGVudHMiLCJmZXRjaCIsIm9rIiwic3RhdHVzIiwianNvbiIsInQxIiwiY2xvbmUiLCJ0MiIsImNhbmRpZGF0ZXMiLCJwcm9tcHRGZWVkYmFjayIsImJsb2NrUmVhc29uIiwiYmxvY2tSZWFzb25NZXNzYWdlIiwidDMiLCJfeDMiLCJoYW5kbGVHZW5lcmF0ZVdvcmtzaGVldEZyb21MZXNzb25QbGFuIiwiX3JlZjE0IiwiX2NhbGxlZTMiLCJwcm9tcHRGb3JXb3Jrc2hlZXQiLCJfdGV4dDIiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJoYXNTZWVuTW9kYWwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsIkN1c3RvbVNlbGVjdCIsIl9yZWYxNSIsIm9uQ2hhbmdlIiwib3B0aW9ucyIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiLCJvcHQiLCJrZXkiLCJodG1sQ29udGVudCIsImRvY3VtZW50RWxlbWVudCIsIm91dGVySFRNTCIsImJsb2IiLCJCbG9iIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaHJlZiIsImRvd25sb2FkIiwiY2xpY2siLCJyZXZva2VPYmplY3RVUkwiLCJvblN1Ym1pdCIsImh0bWxGb3IiLCJ0YXJnZXQiLCJyb3dzIiwiRnJhZ21lbnQiLCJ0ZXh0YXJlYSIsInNlbGVjdCIsImV4ZWNDb21tYW5kIiwiY29weUJ1dHRvbiIsImdldEVsZW1lbnRCeUlkIiwib3JpZ2luYWxUZXh0IiwiaW5uZXJUZXh0Iiwic2V0VGltZW91dCIsImFsZXJ0IiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiY29udGFpbmVyIiwicm9vdCIsIlJlYWN0RE9NIiwiY3JlYXRlUm9vdCIsInJlbmRlciJdLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICAvLyAtLS0gSWNvbiBDb21wb25lbnRzIChMdWNpZGUtUmVhY3QgaW5zcGlyZWQgU1ZHcykgLS0tXG4gICAgICBjb25zdCBCb29rT3Blbkljb24gPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMiAzaDZhNCA0IDAgMCAxIDQgNHYxNGEzIDMgMCAwIDAtMy0zSDJ6XCI+PC9wYXRoPlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMjIgM2gtNmE0IDQgMCAwIDAtNCA0djE0YTMgMyAwIDAgMSAzLTNoN3pcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgQ2xpcGJvYXJkTGlzdEljb24gPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICAgIDxyZWN0IHdpZHRoPVwiOFwiIGhlaWdodD1cIjRcIiB4PVwiOFwiIHk9XCIyXCIgcng9XCIxXCIgcnk9XCIxXCI+PC9yZWN0PlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMTYgNGgyYTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMkg2YTIgMiAwIDAgMS0yLTJWNmEyIDIgMCAwIDEgMi0yaDJcIj48L3BhdGg+XG4gICAgICAgICAgPHBhdGggZD1cIk0xMiAxMWg0XCI+PC9wYXRoPjxwYXRoIGQ9XCJNMTIgMTZoNFwiPjwvcGF0aD48cGF0aCBkPVwiTTggMTFoLjAxXCI+PC9wYXRoPjxwYXRoIGQ9XCJNOCAxNmguMDFcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgRmlsZVRleHRJY29uID0gKHsgY2xhc3NOYW1lIH0pID0+IChcbiAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgICA8cGF0aCBkPVwiTTE0LjUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjcuNUwxNC41IDJ6XCI+PC9wYXRoPlxuICAgICAgICAgIDxwb2x5bGluZSBwb2ludHM9XCIxNCAyIDE0IDggMjAgOFwiPjwvcG9seWxpbmU+PGxpbmUgeDE9XCIxNlwiIHkxPVwiMTNcIiB4Mj1cIjhcIiB5Mj1cIjEzXCI+PC9saW5lPlxuICAgICAgICAgIDxsaW5lIHgxPVwiMTZcIiB5MT1cIjE3XCIgeDI9XCI4XCIgeTI9XCIxN1wiPjwvbGluZT48bGluZSB4MT1cIjEwXCIgeTE9XCI5XCIgeDI9XCI4XCIgeTI9XCI5XCI+PC9saW5lPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IEhlbHBDaXJjbGVJY29uID0gKHsgY2xhc3NOYW1lIH0pID0+IChcbiAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgICA8Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCI+PC9jaXJjbGU+PHBhdGggZD1cIk05LjA5IDlhMyAzIDAgMCAxIDUuODMgMWMwIDItMyAzLTMgM1wiPjwvcGF0aD48bGluZSB4MT1cIjEyXCIgeTE9XCIxN1wiIHgyPVwiMTIuMDFcIiB5Mj1cIjE3XCI+PC9saW5lPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IExvYWRlckljb24gPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0gYW5pbWF0ZS1zcGluYH0+XG4gICAgICAgICAgICAgIDxsaW5lIHgxPVwiMTJcIiB5MT1cIjJcIiB4Mj1cIjEyXCIgeTI9XCI2XCI+PC9saW5lPjxsaW5lIHgxPVwiMTJcIiB5MT1cIjE4XCIgeDI9XCIxMlwiIHkyPVwiMjJcIj48L2xpbmU+XG4gICAgICAgICAgICAgIDxsaW5lIHgxPVwiNC45M1wiIHkxPVwiNC45M1wiIHgyPVwiNy43NlwiIHkyPVwiNy43NlwiPjwvbGluZT48bGluZSB4MT1cIjE2LjI0XCIgeTE9XCIxNi4yNFwiIHgyPVwiMTkuMDdcIiB5Mj1cIjE5LjA3XCI+PC9saW5lPlxuICAgICAgICAgICAgICA8bGluZSB4MT1cIjJcIiB5MT1cIjEyXCIgeDI9XCI2XCIgeTI9XCIxMlwiPjwvbGluZT48bGluZSB4MT1cIjE4XCIgeTE9XCIxMlwiIHgyPVwiMjJcIiB5Mj1cIjEyXCI+PC9saW5lPlxuICAgICAgICAgICAgICA8bGluZSB4MT1cIjQuOTNcIiB5MT1cIjE5LjA3XCIgeDI9XCI3Ljc2XCIgeTI9XCIxNi4yNFwiPjwvbGluZT48bGluZSB4MT1cIjE2LjI0XCIgeTE9XCI3Ljc2XCIgeDI9XCIxOS4wN1wiIHkyPVwiNC45M1wiPjwvbGluZT5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IEFsZXJ0VHJpYW5nbGVJY29uID0gKHsgY2xhc3NOYW1lIH0pID0+IChcbiAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgICA8cGF0aCBkPVwibTIxLjczIDE4LTgtMTRhMiAyIDAgMCAwLTMuNDYgMGwtOCAxNEEyIDIgMCAwIDAgNCAyMWgxNmEyIDIgMCAwIDAgMS43My0zWlwiPjwvcGF0aD5cbiAgICAgICAgICA8bGluZSB4MT1cIjEyXCIgeTE9XCI5XCIgeDI9XCIxMlwiIHkyPVwiMTNcIj48L2xpbmU+PGxpbmUgeDE9XCIxMlwiIHkxPVwiMTdcIiB4Mj1cIjEyLjAxXCIgeTI9XCIxN1wiPjwvbGluZT5cbiAgICAgICAgPC9zdmc+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBDaGV2cm9uRG93bkljb24gPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICAgIDxwb2x5bGluZSBwb2ludHM9XCI2IDkgMTIgMTUgMTggOVwiPjwvcG9seWxpbmU+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgTG9nSW5JY29uID0gKHsgY2xhc3NOYW1lIH0pID0+IChcbiAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT48cGF0aCBkPVwiTTE1IDNoNGEyIDIgMCAwIDEgMiAydjE0YTIgMiAwIDAgMS0yIDJoLTRcIi8+PHBvbHlsaW5lIHBvaW50cz1cIjEwIDE3IDE1IDEyIDEwIDdcIi8+PGxpbmUgeDE9XCIxNVwiIHkxPVwiMTJcIiB4Mj1cIjNcIiB5Mj1cIjEyXCIvPjwvc3ZnPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgTG9nT3V0SWNvbiA9ICh7IGNsYXNzTmFtZSB9KSA9PiAoXG4gICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+PHBhdGggZD1cIk05IDIxSDVhMiAyIDAgMCAxLTItMlY1YTIgMiAwIDAgMSAyLTJoNFwiLz48cG9seWxpbmUgcG9pbnRzPVwiMTYgMTcgMjEgMTIgMTYgN1wiLz48bGluZSB4MT1cIjIxXCIgeTE9XCIxMlwiIHgyPVwiOVwiIHkyPVwiMTJcIi8+PC9zdmc+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBVcGxvYWRDbG91ZEljb24gPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxwYXRoIGQ9XCJNNCAxNC44OTlBNyA3IDAgMSAxIDE1LjcxIDhoMS43OWE0LjUgNC41IDAgMCAxIDIuNSA4LjI0MlwiLz48cGF0aCBkPVwiTTEyIDEydjlcIi8+PHBhdGggZD1cIm0xNiAxNi00LTQtNCA0XCIvPjwvc3ZnPlxuICAgICAgKTtcbiAgICAgIGNvbnN0IEV4dGVybmFsTGlua0ljb24gPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxwYXRoIGQ9XCJNMTggMTN2NmEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMlY4YTIgMiAwIDAgMSAyLTJoNlwiLz48cG9seWxpbmUgcG9pbnRzPVwiMTUgMyAyMSAzIDIxIDlcIi8+PGxpbmUgeDE9XCIxMFwiIHkxPVwiMTRcIiB4Mj1cIjIxXCIgeTI9XCIzXCIvPjwvc3ZnPlxuICAgICAgKTtcbiAgICAgIGNvbnN0IEVkaXQzSWNvbiA9ICh7IGNsYXNzTmFtZSB9KSA9PiAoIFxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxwYXRoIGQ9XCJNMTIgMjBoOVwiLz48cGF0aCBkPVwiTTE2LjUgMy41YTIuMTIxIDIuMTIxIDAgMCAxIDMgM0w3IDE5bC00IDEgMS00TDE2LjUgMy41elwiLz48L3N2Zz5cbiAgICAgICk7XG4gICAgICBjb25zdCBEb3dubG9hZEljb24gPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxwYXRoIGQ9XCJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNFwiLz48cG9seWxpbmUgcG9pbnRzPVwiNyAxMCAxMiAxNSAxNyAxMFwiLz48bGluZSB4MT1cIjEyXCIgeTE9XCIxNVwiIHgyPVwiMTJcIiB5Mj1cIjNcIi8+PC9zdmc+XG4gICAgICApO1xuXG5cbiAgICAgIC8vIC0tLSBHb29nbGUgQVBJIENvbmZpZ3VyYXRpb24gLS0tXG4gICAgICBjb25zdCBHT09HTEVfQ0xJRU5UX0lEID0gJzkzNzg4MDk1MjE1NS1vM3Ezb2NtN3ZjY2szcW5ia25pNzRkY3NuYmZqcGQwcC5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSc7XG4gICAgICBjb25zdCBHT09HTEVfQVBJX0tFWSA9ICcnOyBcbiAgICAgIGNvbnN0IERSSVZFX0FQSV9ESVNDT1ZFUllfRE9DUyA9IFtcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2Rpc2NvdmVyeS92MS9hcGlzL2RyaXZlL3YzL3Jlc3RcIl07XG4gICAgICBjb25zdCBEUklWRV9BUElfU0NPUEVTID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZHJpdmUuZmlsZSc7XG5cblxuICAgICAgLy8gLS0tIEN1cnJpY3VsdW0gRGF0YSBhbmQgUGFyc2luZyBMb2dpYyAtLS1cbiAgICAgIGNvbnN0IGJpb2xvZ3lQZGZUZXh0Q29udGVudCA9IGBcbk5ldyBWaXNpb25zIEJpb2xvZ3kgQ3VycmljdWx1bSBPdmVydmlld1xuXG5Vbml0OiBNYXJhdGhvbiBSdW5uZXIgLSBIb21lb3N0YXNpc1xuRHJpdmluZyBRdWVzdGlvbjogSG93IGRvZXMgdGhlIGh1bWFuIGJvZHkgbWFpbnRhaW4gZHluYW1pYyBlcXVpbGlicml1bSBhbmQgcmVzcG9uZCB0byBpbnRlcm5hbCBhbmRcbmV4dGVybmFsIGNoYW5nZXMgaW4gaXRzIGVudmlyb25tZW50P1xuQW5jaG9yIFBoZW5vbWVub246IE1hcmF0aG9uIFJ1bm5lciBDb2xsYXBzZVxuVG9waWM6IEdhcyBFeGNoYW5nZSBhbmQgQ2VsbHVsYXIgUmVzcGlyYXRpb25cbkludmVzdGlnYXRpdmUgUXVlc3Rpb246IERpZCB0aGUgbWFyYXRob24gcnVubmVyIHJ1biBvdXQgb2YgYnJlYXRoIG9yIG5vdCBnZXQgZW5vdWdoIG94eWdlbj9cbi0gUGxhbm5pbmcgSW52ZXN0aWdhdGlvbiBvbiBTdWdhciAmIFllYXN0XG4tIEFuYWx5emluZyBDZWxsdWxhciBSZXNwaXJhdGlvblxuLSBDb25zdHJ1Y3RpbmcgSW5wdXQvT3V0cHV0IE1vZGVsc1xuLSBBbmFseXppbmcgQmxvb2QgR2FzIExldmVsc1xuLSBFeHBsYWluaW5nIEhvbWVvc3Rhc2lzIEZlZWRiYWNrXG5Ub3BpYzogTXVzY2xlcyAmIEVuZXJneVxuSW52ZXN0aWdhdGl2ZSBRdWVzdGlvbjogRGlkIHRoZSBtYXJhdGhvbiBydW5uZXIncyBtdXNjbGVzIGdldCB0aXJlZD9cbi0gRXhwbG9yaW5nIE11c2NsZSBGYXRpZ3VlXG4tIEFUUCBhbmQgRW5lcmd5IE1vZGVsc1xuU3lzdGVtIEludGVyYWN0aW9ucyBBbmFseXNpc1xuLSBBcHBseWluZyBGZWVkYmFjayBNb2RlbHNcbi0gRXZpZGVuY2UtQmFzZWQgRXhwbGFuYXRpb25cblxuVW5pdDogSHVtYW5zIHZzLiBCYWN0ZXJpYSAtIE5hdHVyYWwgU2VsZWN0aW9uIGFuZCBFdm9sdXRpb25cbkRyaXZpbmcgUXVlc3Rpb246IEhvdyBoYXMgZXZvbHV0aW9uIHNoYXBlZCBob3cgaHVtYW5zIGFuZCBiYWN0ZXJpYSBpbnRlcmFjdD8gSG93IGNhbiB3ZSBwcmV2ZW50IGZ1dHVyZVxub3V0YnJlYWtzIG9mIGJhY3RlcmlhbCBpbmZlY3Rpb25zP1xuQW5jaG9yIFBoZW5vbWVub246IFRoZSBudW1iZXIgb2YgZGVhdGhzIGZyb20gaW5mZWN0aW91cyBkaXNlYXNlcyBpcyBpbmNyZWFzaW5nIGdsb2JhbGx5LlxuVG9waWM6IFRoZSBCbGFjayBEZWF0aFxuSW52ZXN0aWdhdGl2ZSBRdWVzdGlvbjogV2h5IHdlcmUgc29tZSBwZW9wbGUgYWJsZSB0byBzdXJ2aXZlIHRoZSBCbGFjayBEZWF0aD9cbi0gSGlzdG9yaWNhbCBBY2NvdW50IFJldmlld1xuLSBEaXNlYXNlIFRyYW5zbWlzc2lvbiBTaW11bGF0aW9uXG4tIEV2YWx1YXRpbmcgU3Vydml2YWwgQ2xhaW1zXG5UcmFpdCBWYXJpYXRpb24gQW5hbHlzaXNcbkRlc2lnbmluZyBDaG9sZXJhIFByZXZlbnRpb25cblxuVW5pdDogRXZvbHV0aW9uIG9mIFNpY2sgSHVtYW5zIC0gTWlzbWF0Y2ggQmV0d2VlbiBCb2R5IGFuZCBFbnZpcm9ubWVudFxuRHJpdmluZyBRdWVzdGlvbjogSG93IGhhdmUgb3VyIGVudmlyb25tZW50cyBhbmQgY3VsdHVyZSBjaGFuZ2VkIG92ZXIgdGltZT8gSG93IGhhdmUgdGhlc2UgY2hhbmdlc1xuaW1wYWN0ZWQgb3VyIGhlYWx0aD9cbkFuY2hvciBQaGVub21lbm9uOiBTdHVkZW50IHVuYWJsZSB0byBkaWdlc3QgZGFpcnkgYWZ0ZXIgYXJyaXZpbmcgaW4gTllDLlxuVG9waWM6IExhY3Rhc2UgUGVyc2lzdGVuY2VcbkludmVzdGlnYXRpdmUgUXVlc3Rpb246IFdoeSBhcmUgc29tZSBwZW9wbGUgYWJsZSB0byBkaWdlc3QgZGFpcnkgaW50byBhZHVsdGhvb2Q/XG5HbG9iYWwgTGFjdG9zZSBNYXAgQW5hbHlzaXNcbkRpZ2VzdGl2ZSBTYW1wbGUgSW52ZXN0aWdhdGlvblxuR2VuZXRpYyBFeHBsYW5hdGlvbiBvZiBMYWN0YXNlXG5NdXRhdGlvbiBJbXBhY3QgTW9kZWxpbmdcbi0gQXBwbGljYXRpb24gdG8gU2Nob29sIEhlYWx0aCBEZXNpZ25cblxuVW5pdDogU2F2aW5nIHRoZSBNb3VudGFpbiBMaW9uIC0gR2VuZXRpY3MgYW5kIFZhcmlhdGlvblxuRHJpdmluZyBRdWVzdGlvbjogSG93IGNhbiB3ZSBzYXZlIHRoZSBtb3VudGFpbiBsaW9uP1xuQW5jaG9yIFBoZW5vbWVub246IEEgbW91bnRhaW4gbGlvbiB3YXMgaGl0IGJ5IGEgY2FyIG9uIGEgaGlnaHdheSBvdXRzaWRlIE5ZQy5cblRvcGljOiBNb3VudGFpbiBMaW9uIFBvcHVsYXRpb25zXG5JbnZlc3RpZ2F0aXZlIFF1ZXN0aW9uOiBIb3cgY2FuIHdlIGZpZ3VyZSBvdXQgd2hlcmUgdGhlIENvbm5lY3RpY3V0IENhdCBjYW1lIGZyb20/XG4tIEludHJvIFRleHRzICYgVmlkZW9cbkdlbmV0aWMgRGF0YSBBbmFseXNpc1xuTW9kZWxpbmcgUG9wdWxhdGlvbiBPcmlnaW5cbkFsbGVsZSBGcmVxdWVuY3kgUmV2aWV3XG4tIEhhYml0YXQgYW5kIEdlbmV0aWMgTGlua1xuXG5Vbml0OiBGb29kIGZvciBBbGwgLSBFbmVyZ3kgYW5kIE1hdHRlciBpbiBFY29zeXN0ZW1zXG5Ecml2aW5nIFF1ZXN0aW9uOiBXaGF0IGNhdXNlZCBhbiBlcGlkZW1pYyBvZiBwZWxsYWdyYSBpbiB0aGUgZWFybHkgMjB0aCBjZW50dXJ5P1xuQW5jaG9yIFBoZW5vbWVub246IFBlbGxhZ3JhIGVwaWRlbWljIGluIHRoZSBlYXJseSAyMHRoIGNlbnR1cnkgU291dGhlYXN0ZXJuIFVTLlxuVG9waWM6IFRoZSBTdXBlckZvb2QgVGhhdCBDaGFuZ2VkIHRoZSBXb3JsZFxuSW52ZXN0aWdhdGl2ZSBRdWVzdGlvbjogV2h5IHdhcyBjb3JuIHVzZWQgYXMgYSBwcmltYXJ5IHNvdXJjZSBhbmQgd2FzIGl0IHRoZSBjYXVzZSBvZiBwZWxsYWdyYT9cbi0gSGlzdG9yaWNhbCBDb250ZXh0IERpc2N1c3Npb25cbi0gSW52ZXN0aWdhdGluZyBDb3JuIERlcGVuZGVuY3lcbkNvbXBhcmluZyBDb3JuIFByb2Nlc3NpbmcgVGVjaG5pcXVlc1xuLSBEaWV0IGFuZCBEZWZpY2llbmN5IE1hcHBpbmdcblNvbHV0aW9uIFBsYW5uaW5nIGZvciBOdXRyaXRpb24gRXF1aXR5XG5cblVuaXQ6IFdvb2xseSBNYW1tb3RoIC0gRWNvbG9neSBhbmQgQmlvZGl2ZXJzaXR5XG5Ecml2aW5nIFF1ZXN0aW9uOiBXaGF0IGlzIHRoZSBzdG9yeSBvZiB3b29sbHkgbWFtbW90aCBleHRpbmN0aW9uPyBXaGF0IHR5cGVzIG9mIGluZm9ybWF0aW9uIGRvIHdlIG5lZWQgdG9cbmtub3cgaW4gb3JkZXIgdG8gZXZhbHVhdGUgdGhlIGNhdXNlIG9mIGEgc3BlY2llcycgZXh0aW5jdGlvbj9cbkFuY2hvciBQaGVub21lbm9uOiBXb29sbHkgTWFtbW90aCBFeHRpbmN0aW9uXG5Ub3BpYzogVHVza2xlc3MgRWxlcGhhbnRzXG5JbnZlc3RpZ2F0aXZlIFF1ZXN0aW9uOiBXaHkgYXJlIHRoZXJlIG1vcmUgdHVza2xlc3MgZWxlcGhhbnRzIG5vdyB0aGFuIGluIHRoZSBwYXN0P1xuLSBBbmFseXppbmcgVHVza2xlc3MgUG9wdWxhdGlvbiBHcmFwaFxuLSBMaW5raW5nIFBvYWNoaW5nIHRvIFRyYWl0IENoYW5nZXNcbkNvbnNlcnZhdGlvbiBDb25jZXJucyBEaXNjdXNzaW9uXG4tIERlc2lnbmluZyBJbnRlcnZlbnRpb24gTW9kZWxzXG4tIEV2YWx1YXRpbmcgRXh0aW5jdGlvbiBBcmd1bWVudHNcbmA7XG5cbiAgICAgIGNvbnN0IGVzc1BkZlRleHRDb250ZW50ID0gYFxuRWFydGggYW5kIFNwYWNlIFNjaWVuY2UgQ3VycmljdWx1bSBPdmVydmlld1xuXG5Vbml0IDE6IERpc2NvdmVyaW5nIE5ldyBXb3JsZHNcblBlcmZvcm1hbmNlIEV4cGVjdGF0aW9uczogSFMtRVNTMS0xLCBIUy1FU1MxLTMsIEhTLUVTUzEtNFxuQW5jaG9yIFBoZW5vbWVub246IE9ic2VydmF0aW9uIG9mIGEgbmV3IGV4b3BsYW5ldFxuVG9waWM6IEhvdyB0aGUgU3VuIFdvcmtzXG4tIEhvdyBkb2VzIHRoZSBTdW4gZ2VuZXJhdGUgZW5lcmd5P1xuV2hhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgdGhlIFN1bj9cbi0gV2hhdCBpcyB0aGUgcm9sZSBvZiBudWNsZWFyIGZ1c2lvbj9cblRvcGljOiBTdGFyIExpZmUgQ3ljbGVzXG4tIEhvdyBkbyBzdGFycyBjaGFuZ2Ugb3ZlciB0aW1lP1xuLSBXaGF0IHR5cGVzIG9mIHN0YXJzIGFyZSBzdGFibGU/XG5XaGF0IGhhcHBlbnMgaW4gYSBzdXBlcm5vdmE/XG5Ub3BpYzogUGxhbmV0cyBhbmQgT3JiaXRzXG5XaGF0IGZhY3RvcnMgYWxsb3cgcGxhbmV0cyB0byBtYWludGFpbiBzdGFibGUgdGVtcGVyYXR1cmU/XG5XaGF0IGlzIHRoZSBpbXBvcnRhbmNlIG9mIGRpc3RhbmNlIGZyb20gYSBzdGFyP1xuXG5Vbml0IDI6IEVhcnRocXVha2VzLCBWb2xjYW5vZXMsIGFuZCBUc3VuYW1pczogV2hvJ3MgYXQgUmlzaz9cblBlcmZvcm1hbmNlIEV4cGVjdGF0aW9uczogSFMtRVNTMy0xLCBIUy1FU1MzLTJcbkFuY2hvciBQaGVub21lbm9uOiBBIHJlY2VudCBtYWpvciBnZW9sb2dpY2FsIGV2ZW50XG5Ub3BpYzogRWFydGhxdWFrZSBSaXNrXG4tIEhvdyBkbyBlYXJ0aHF1YWtlcyBmb3JtP1xuV2hlcmUgaXMgZWFydGhxdWFrZSByaXNrIGhpZ2hlc3Q/XG5Ub3BpYzogVm9sY2FubyBSaXNrXG4tIFdoeSBkbyB2b2xjYW5vZXMgZm9ybT9cbldoaWNoIGFyZWFzIGFyZSBtb3N0IGF0IHJpc2sgZm9yIGVydXB0aW9ucz9cblRvcGljOiBUc3VuYW1pIFJpc2tcbi0gV2hhdCBjYXVzZXMgdHN1bmFtaXM/XG4tIEhvdyBjYW4gd2UgcHJlcGFyZSBmb3IgdHN1bmFtaXM/XG5cblVuaXQgMzogQ2xpbWF0ZSBDaGFuZ2UgVGhyb3VnaG91dCBIdW1hbiBIaXN0b3J5XG5QZXJmb3JtYW5jZSBFeHBlY3RhdGlvbnM6IEhTLUVTUzItMiwgSFMtRVNTMi00LCBIUy1FU1MzLTFcbkFuY2hvciBQaGVub21lbm9uOiBJY2UgY29yZSBkYXRhIHNob3dpbmcgQ08yIGZsdWN0dWF0aW9uc1xuVG9waWM6IEVhcnRoJ3MgQ2xpbWF0ZSBSZWNvcmRcbi0gSG93IGRvIHdlIGtub3cgRWFydGgncyBjbGltYXRlIGhhcyBjaGFuZ2VkP1xuLSBXaGF0IGV2aWRlbmNlIHNob3dzIGxvbmctdGVybSBwYXR0ZXJucz9cblRvcGljOiBIdW1hbiBJbXBhY3RzXG4tIEhvdyBoYXZlIGh1bWFucyBhZmZlY3RlZCBjbGltYXRlP1xuLSBXaGF0IGFyZSBzaWducyBvZiBhbnRocm9wb2dlbmljIGNsaW1hdGUgY2hhbmdlP1xuVG9waWM6IE5hdHVyYWwgRmFjdG9yc1xuLSBIb3cgZG8gdm9sY2Fub2VzIGFuZCBzb2xhciBjeWNsZXMgYWZmZWN0IGNsaW1hdGU/XG5cblVuaXQgNDogTW9yZSBIdXJyaWNhbmVzIGFuZCBCbGl6emFyZHMgaW4gTllDP1xuUGVyZm9ybWFuY2UgRXhwZWN0YXRpb25zOiBIUy1FU1MzLTUsIEhTLUVTUzItOFxuQW5jaG9yIFBoZW5vbWVub246IEluY3JlYXNlZCBmcmVxdWVuY3kgb2YgZXh0cmVtZSB3ZWF0aGVyIGV2ZW50cyBpbiBOWUNcblRvcGljOiBBdG1vc3BoZXJlIGFuZCBXZWF0aGVyIFZhcmlhYmxlcyAoM0UpXG4tIFdoYXQgaXMgdGhlIGF0bW9zcGhlcmUgbWFkZSBvZj9cbi0gSG93IGRvZXMgYWlyIGJlaGF2ZSBhdCBkaWZmZXJlbnQgYWx0aXR1ZGVzP1xuVG9waWM6IEJsaXp6YXJkcyAoNUUpXG5XaGF0IGNhdXNlcyBibGl6emFyZHM/XG4tIEhvdyBjYW4gd2UgcHJlZGljdCBzZXZlcmUgd2ludGVyIHN0b3Jtcz9cblRvcGljOiBQYXRocyBvZiBTZXZlcmUgU3Rvcm1zICg1RSlcbi0gV2h5IGRvIHN0b3JtcyBmb2xsb3cgcGF0dGVybnM/XG4tIEhvdyBkbyBnbG9iYWwgd2luZHMgYWZmZWN0IHN0b3Jtcz9cblRvcGljOiBIdXJyaWNhbmVzICg1RSlcbi0gSG93IGRvIGh1cnJpY2FuZXMgZm9ybT9cbi0gV2h5IGRvIGh1cnJpY2FuZXMgb2NjdXIgaW4gcGF0dGVybnM/XG5cblVuaXQgNTogRXF1aXRhYmxlIFNvbHV0aW9ucyBmb3IgYSBTdXN0YWluYWJsZSBGdXR1cmVcblBlcmZvcm1hbmNlIEV4cGVjdGF0aW9uczogSFMtRVNTMy0zLCBIUy1FU1MzLTQsIEhTLUVUUzEtMVxuQW5jaG9yIFBoZW5vbWVub246IExvY2FsIGNvbW11bml0eSBmYWNpbmcgYW4gZW52aXJvbm1lbnRhbCBjaGFsbGVuZ2VcblRvcGljOiBEZXNpZ24gVGhpbmtpbmdcbi0gSG93IGNhbiB3ZSBkZXNpZ24gc3VzdGFpbmFibGUgc29sdXRpb25zP1xuLSBXaGF0IGFyZSB0aGUgY3JpdGVyaWEgYW5kIGNvbnN0cmFpbnRzIGZvciBzb2x1dGlvbnM/XG5Ub3BpYzogRW52aXJvbm1lbnRhbCBKdXN0aWNlXG4tIFdoYXQgYXJlIHRoZSBpbmVxdWl0aWVzIGluIGVudmlyb25tZW50YWwgaW1wYWN0cz9cbi0gSG93IGNhbiBzb2x1dGlvbnMgYmUgZXF1aXRhYmxlP1xuVG9waWM6IExvY2FsIEFjdGlvbiBQbGFuc1xuLSBIb3cgZG8gd2UgYXNzZXNzIHN1c3RhaW5hYmlsaXR5IGluIG91ciBjb21tdW5pdHk/XG4tIFdoYXQgcHJvamVjdHMgY2FuIHdlIGltcGxlbWVudD9cblxuVW5pdCA2OiBQcm9iYWJpbGl0eSBvZiBMaWZlIEVsc2V3aGVyZVxuUGVyZm9ybWFuY2UgRXhwZWN0YXRpb25zOiBIUy1FU1MxLTIsIEhTLUVTUzEtNCwgSFMtRVNTMS02LCBIUy1FU1MyLTUsIEhTLUVTUzItN1xuQW5jaG9yIFBoZW5vbWVub246IFRoZSBEcmFrZSBFcXVhdGlvbiBhbmQgRmVybWkgUGFyYWRveFxuVG9waWM6IFN0YWJpbGl0eSBvZiB0aGUgU29sYXIgU3lzdGVtICg1RSlcbi0gSG93IG9mdGVuIGRvIGFzdGVyb2lkcyBoaXQgRWFydGg/XG4tIEhvdyB3YXMgbGlmZSBhZmZlY3RlZCBieSBwYXN0IGltcGFjdHM/XG5Ub3BpYzogQ29ldm9sdXRpb24gb2YgRWFydGggYW5kIExpZmUgKDVFKVxuLSBIb3cgZGlkIGxpZmUgZXZvbHZlIHRvIGludGVsbGlnZW5jZT9cbi0gV2hhdCBjb25kaXRpb25zIHdlcmUgcmVxdWlyZWQ/XG5Ub3BpYzogT3JpZ2luIG9mIHRoZSBVbml2ZXJzZSAoNUUpXG4tIEhvdyBkaWQgdGhlIHVuaXZlcnNlIGZvcm0/XG4tIEhvdyBtYW55IGdhbGF4aWVzIGV4aXN0P1xuLSBXaGF0IGRvZXMgdGhhdCBtZWFuIGZvciBsaWZlIGVsc2V3aGVyZT9cbmA7XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlQ3VycmljdWx1bVRleHRUb1N0cnVjdHVyZSh0ZXh0LCBzdWJqZWN0TmFtZSkge1xuICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zcGxpdCgnXFxuJykubWFwKGxpbmUgPT4gbGluZS50cmltKCkpLmZpbHRlcihsaW5lID0+IGxpbmUpO1xuICAgICAgICAgIGNvbnN0IGN1cnJpY3VsdW0gPSB7IHVuaXRzOiBbXSB9O1xuICAgICAgICAgIGxldCBjdXJyZW50VW5pdCA9IG51bGw7XG4gICAgICAgICAgbGV0IGN1cnJlbnRUb3BpYyA9IG51bGw7XG4gICAgICAgICAgbGV0IHVuaXRBbmNob3JQaGVub21lbm9uID0gbnVsbDsgXG5cbiAgICAgICAgICBjb25zdCBpZ25vcmVkTGluZVN0YXJ0cyA9IFtcbiAgICAgICAgICAgICAgJy0tLSBQQUdFJyxcbiAgICAgICAgICAgICAgJ05ldyBWaXNpb25zIEJpb2xvZ3kgQ3VycmljdWx1bSBPdmVydmlldycsXG4gICAgICAgICAgICAgICdFYXJ0aCBhbmQgU3BhY2UgU2NpZW5jZSBDdXJyaWN1bHVtIE92ZXJ2aWV3JyxcbiAgICAgICAgICAgICAgJ0RyaXZpbmcgUXVlc3Rpb246JyxcbiAgICAgICAgICAgICAgJ0ludmVzdGlnYXRpdmUgUXVlc3Rpb246JyxcbiAgICAgICAgICAgICAgJ1BlcmZvcm1hbmNlIEV4cGVjdGF0aW9uczonXG4gICAgICAgICAgXTtcblxuICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICBpZiAoaWdub3JlZExpbmVTdGFydHMuc29tZShzdGFydCA9PiBsaW5lLnN0YXJ0c1dpdGgoc3RhcnQpIHx8IGxpbmUubWF0Y2goL15IUy1bQS1aMC05LV0rLykpKSB7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGxldCB1bml0TWF0Y2ggPSBsaW5lLm1hdGNoKC9eVW5pdDogKC4qPykgLS8pOyBcbiAgICAgICAgICAgICAgaWYgKCF1bml0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgIHVuaXRNYXRjaCA9IGxpbmUubWF0Y2goL15Vbml0IFxcZCs6ICguKikvKTsgXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmICh1bml0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRUaXRsZSA9IHVuaXRNYXRjaFsxXS50cmltKCk7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50VW5pdCA9IHsgdGl0bGU6IHVuaXRUaXRsZSwgXCI1ZV9zZXF1ZW5jZXNcIjogW10gfTtcbiAgICAgICAgICAgICAgICAgIGN1cnJpY3VsdW0udW5pdHMucHVzaChjdXJyZW50VW5pdCk7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50VG9waWMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgdW5pdEFuY2hvclBoZW5vbWVub24gPSBudWxsOyBcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBhbmNob3JNYXRjaCA9IGxpbmUubWF0Y2goL15BbmNob3IgUGhlbm9tZW5vbjogKC4qKS8pO1xuICAgICAgICAgICAgICBpZiAoYW5jaG9yTWF0Y2ggJiYgY3VycmVudFVuaXQgJiYgIXVuaXRBbmNob3JQaGVub21lbm9uKSB7IFxuICAgICAgICAgICAgICAgICAgdW5pdEFuY2hvclBoZW5vbWVub24gPSBhbmNob3JNYXRjaFsxXS50cmltKCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBhbmNob3JUb3BpYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYEFuY2hvcjogJHt1bml0QW5jaG9yUGhlbm9tZW5vbn1gLFxuICAgICAgICAgICAgICAgICAgICAgIGxlc3Nvbl90aXRsZXM6IFtgRXhwbG9yaW5nOiAke3VuaXRBbmNob3JQaGVub21lbm9ufWBdXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgY3VycmVudFVuaXRbXCI1ZV9zZXF1ZW5jZXNcIl0udW5zaGlmdChhbmNob3JUb3BpYyk7IFxuICAgICAgICAgICAgICAgICAgY29udGludWU7IFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY29uc3QgdG9waWNNYXRjaCA9IGxpbmUubWF0Y2goL15Ub3BpYzogKC4qKS8pO1xuICAgICAgICAgICAgICBpZiAodG9waWNNYXRjaCAmJiBjdXJyZW50VW5pdCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdG9waWNUaXRsZSA9IHRvcGljTWF0Y2hbMV0udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgY3VycmVudFRvcGljID0geyB0aXRsZTogdG9waWNUaXRsZSwgbGVzc29uX3RpdGxlczogW10gfTtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRVbml0W1wiNWVfc2VxdWVuY2VzXCJdLnB1c2goY3VycmVudFRvcGljKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUb3BpYyAmJiBjdXJyZW50VW5pdCkgeyBcbiAgICAgICAgICAgICAgICAgIGxldCBpc0xlc3NvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgbGV0IGxlc3NvblRleHQgPSAnJztcblxuICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnLSAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGlzTGVzc29uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXNzb25UZXh0ID0gbGluZS5zdWJzdHJpbmcoMikudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbGluZS5tYXRjaCgvXlVuaXRbOlxcc10vKSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWxpbmUubWF0Y2goL15Ub3BpYzovKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhbGluZS5tYXRjaCgvXkFuY2hvciBQaGVub21lbm9uOi8pICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaWdub3JlZExpbmVTdGFydHMuc29tZShzdGFydCA9PiBsaW5lLnN0YXJ0c1dpdGgoc3RhcnQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGlzTGVzc29uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXNzb25UZXh0ID0gbGluZS50cmltKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGlmIChpc0xlc3NvbiAmJiBsZXNzb25UZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50VG9waWMubGVzc29uX3RpdGxlcy5pbmNsdWRlcyhsZXNzb25UZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9waWMubGVzc29uX3RpdGxlcy5wdXNoKGxlc3NvblRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyaWN1bHVtLnVuaXRzLmZvckVhY2godW5pdCA9PiB7XG4gICAgICAgICAgICAgIHVuaXRbXCI1ZV9zZXF1ZW5jZXNcIl0gPSB1bml0W1wiNWVfc2VxdWVuY2VzXCJdLmZpbHRlcihzZXEgPT4gc2VxLnRpdGxlICYmIHNlcS5sZXNzb25fdGl0bGVzLmxlbmd0aCA+IDApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGN1cnJpY3VsdW0udW5pdHMgPSBjdXJyaWN1bHVtLnVuaXRzLmZpbHRlcih1bml0ID0+IHVuaXQudGl0bGUgJiYgdW5pdFtcIjVlX3NlcXVlbmNlc1wiXS5sZW5ndGggPiAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gY3VycmljdWx1bTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWxsQ3VycmljdWxhRGF0YSA9IHtcbiAgICAgICAgICBcIkJpb2xvZ3lcIjogcGFyc2VDdXJyaWN1bHVtVGV4dFRvU3RydWN0dXJlKGJpb2xvZ3lQZGZUZXh0Q29udGVudCwgXCJCaW9sb2d5XCIpLFxuICAgICAgICAgIFwiRWFydGggJiBTcGFjZSBTY2llbmNlXCI6IHBhcnNlQ3VycmljdWx1bVRleHRUb1N0cnVjdHVyZShlc3NQZGZUZXh0Q29udGVudCwgXCJFYXJ0aCAmIFNwYWNlIFNjaWVuY2VcIilcbiAgICAgIH07XG5cblxuICAgICAgLy8gLS0tIE1haW4gQXBwbGljYXRpb24gQ29tcG9uZW50IC0tLVxuICAgICAgZnVuY3Rpb24gQXBwKCkgeyBcbiAgICAgICAgY29uc3QgW21hdGVyaWFsVHlwZSwgc2V0TWF0ZXJpYWxUeXBlXSA9IFJlYWN0LnVzZVN0YXRlKCdsZXNzb25QbGFuJyk7XG4gICAgICAgIGNvbnN0IFtzb3VyY2VUZXh0LCBzZXRTb3VyY2VUZXh0XSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgICAgICAgY29uc3QgW2dlbmVyYXRlZENvbnRlbnQsIHNldEdlbmVyYXRlZENvbnRlbnRdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICAgICAgICBjb25zdCBbbGFzdEdlbmVyYXRlZExlc3NvblBsYW4sIHNldExhc3RHZW5lcmF0ZWRMZXNzb25QbGFuXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpOyBcbiAgICAgICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gICAgICAgIGNvbnN0IFtzaG93SW5mb01vZGFsLCBzZXRTaG93SW5mb01vZGFsXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICAgICAgICBjb25zdCBbc2VsZWN0ZWRTdWJqZWN0LCBzZXRTZWxlY3RlZFN1YmplY3RdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICAgICAgICBjb25zdCBbc3ViamVjdHNMaXN0LCBzZXRTdWJqZWN0c0xpc3RdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgW2N1cnJlbnRDdXJyaWN1bHVtRGF0YSwgc2V0Q3VycmVudEN1cnJpY3VsdW1EYXRhXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpOyBcbiAgICAgICAgY29uc3QgW3NlbGVjdGVkVW5pdCwgc2V0U2VsZWN0ZWRVbml0XSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgICAgICAgY29uc3QgW3NlbGVjdGVkVG9waWMsIHNldFNlbGVjdGVkVG9waWNdID0gUmVhY3QudXNlU3RhdGUoJycpOyBcbiAgICAgICAgY29uc3QgW3NlbGVjdGVkTGVzc29uLCBzZXRTZWxlY3RlZExlc3Nvbl0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7IFxuXG4gICAgICAgIGNvbnN0IFt1bml0c0xpc3QsIHNldFVuaXRzTGlzdF0gPSBSZWFjdC51c2VTdGF0ZShbXSk7IFxuICAgICAgICBjb25zdCBbdG9waWNzTGlzdCwgc2V0VG9waWNzTGlzdF0gPSBSZWFjdC51c2VTdGF0ZShbXSk7IFxuICAgICAgICBjb25zdCBbbGVzc29uc0xpc3QsIHNldExlc3NvbnNMaXN0XSA9IFJlYWN0LnVzZVN0YXRlKFtdKTsgXG4gICAgICAgIGNvbnN0IFtwYXJzZUVycm9yLCBzZXRQYXJzZUVycm9yXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcblxuICAgICAgICAvLyBHb29nbGUgQXV0aCBTdGF0ZVxuICAgICAgICBjb25zdCBbZ2FwaUxvYWRlZCwgc2V0R2FwaUxvYWRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgIGNvbnN0IFtnaXNMb2FkZWQsIHNldEdpc0xvYWRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgIGNvbnN0IFt0b2tlbkNsaWVudCwgc2V0VG9rZW5DbGllbnRdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgICAgIGNvbnN0IFtpc0xvZ2dlZEluLCBzZXRJc0xvZ2dlZEluXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgY29uc3QgW3VzZXJJbmZvLCBzZXRVc2VySW5mb10gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgICAgICAgY29uc3QgW2dvb2dsZUF1dGhFcnJvciwgc2V0R29vZ2xlQXV0aEVycm9yXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgICAgICAgY29uc3QgW3VwbG9hZFN0YXR1cywgc2V0VXBsb2FkU3RhdHVzXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTsgXG4gICAgICAgIGNvbnN0IFtpc1Byb2Nlc3NpbmdEb2MsIHNldElzUHJvY2Vzc2luZ0RvY10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7IFxuXG5cbiAgICAgICAgY29uc3QgbWF0ZXJpYWxUeXBlcyA9IFtcbiAgICAgICAgICB7IGlkOiAnbGVzc29uUGxhbicsIG5hbWU6ICdMZXNzb24gUGxhbicsIGljb246IDxDbGlwYm9hcmRMaXN0SWNvbiBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPiB9LFxuICAgICAgICAgIHsgaWQ6ICd3b3Jrc2hlZXQnLCBuYW1lOiAnV29ya3NoZWV0JywgaWNvbjogPEZpbGVUZXh0SWNvbiBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPiB9LFxuICAgICAgICAgIHsgaWQ6ICdyZWFkaW5nTWF0ZXJpYWwnLCBuYW1lOiAnUmVhZGluZyBNYXRlcmlhbCcsIGljb246IDxCb29rT3Blbkljb24gY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz4gfSxcbiAgICAgICAgICB7IGlkOiAnY2x1c3RlclF1ZXN0aW9ucycsIG5hbWU6ICdDbHVzdGVyIFF1ZXN0aW9ucycsIGljb246IDxIZWxwQ2lyY2xlSWNvbiBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPiB9LFxuICAgICAgICBdO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgSW5mb01vZGFsID0gKCkgPT4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTc1IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCB6LTUwIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zbGF0ZS04MDAgdGV4dC1ncmF5LTEwMCBwLTYgcm91bmRlZC1sZyBzaGFkb3cteGwgbWF4LXctMnhsIHctZnVsbCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIHRleHQtc2t5LTQwMCBtYi00XCI+SG93IHRvIFVzZSBUaGlzIFRvb2wgRWZmZWN0aXZlbHk8L2gzPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtc2t5LTUwMCBtYi0yXCI+MS4gU2VsZWN0IFN1YmplY3QgJiBDdXJyaWN1bHVtPC9oND5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zbGF0ZS0zMDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgRmlyc3QsIHNlbGVjdCBhIFN1YmplY3QuIFRoZSBjdXJyaWN1bHVtIGZvciB0aGUgc2VsZWN0ZWQgc3ViamVjdCBpcyBwcmUtbG9hZGVkLiBUaGUgXCJBbmNob3IgUGhlbm9tZW5vblwiIGZvciBlYWNoIHVuaXQgaXMgaXRzIGZpcnN0IHRvcGljLlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtc2t5LTUwMCBtYi0yXCI+Mi4gTG9naW4gd2l0aCBHb29nbGUgKE9wdGlvbmFsIGJ1dCBSZWNvbW1lbmRlZCk8L2g0PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTMwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICBUbyBzYXZlIG9yIG9wZW4geW91ciBnZW5lcmF0ZWQgbWF0ZXJpYWwgYXMgYSBHb29nbGUgRG9jLCBjbGljayBcIkxvZ2luIHdpdGggR29vZ2xlXCIuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQteWVsbG93LTUwMCBmb250LXNlbWlib2xkIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICBJTVBPUlRBTlQ6IEZvciBHb29nbGUgZmVhdHVyZXMgdG8gd29yaywgdGhlIEdvb2dsZSBDbGllbnQgSUQgKGB7R09PR0xFX0NMSUVOVF9JRH1gKVxuICAgICAgICAgICAgICAgICAgICAgIG11c3QgYmUgY29ycmVjdGx5IGNvbmZpZ3VyZWQgaW4geW91ciBHb29nbGUgQ2xvdWQgQ29uc29sZSAoZXNwZWNpYWxseSBcIkF1dGhvcml6ZWQgSmF2YVNjcmlwdCBvcmlnaW5zXCIpLlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtc2t5LTUwMCBtYi0yXCI+My4gU2VsZWN0IE1hdGVyaWFsIFR5cGUgJiBPcHRpb25zPC9oND5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zbGF0ZS0zMDAgbWItMlwiPkNob29zZSB0aGUgdHlwZSBvZiBlZHVjYXRpb25hbCBtYXRlcmlhbCB5b3Ugd2FudC48L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtMzAwIG1iLTJcIj5Vc2UgdGhlIGRyb3Bkb3ducyB0byBzZWxlY3QgVW5pdCwgVG9waWMsIGFuZCBMZXNzb24gZm9yIGNvbnRleHQuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXNreS01MDAgbWItMlwiPjQuIEdlbmVyYXRlICYgSW50ZXJhY3Q8L2g0PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTMwMCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICBDbGljayBcIkdlbmVyYXRlIE1hdGVyaWFsXCIuIE9uY2UgZ2VuZXJhdGVkLCB5b3UgY2FuIGNvcHkgaXQsIHVwbG9hZCB0byBEcml2ZSwgb3Igb3BlbiBpdCBkaXJlY3RseSBhcyBhIEdvb2dsZSBEb2MgKGlmIGxvZ2dlZCBpbikuIFxuICAgICAgICAgICAgICAgICAgSWYgeW91IGdlbmVyYXRlIGEgTGVzc29uIFBsYW4sIGEgYnV0dG9uIHdpbGwgYXBwZWFyIHRvIGdlbmVyYXRlIGEgd29ya3NoZWV0IHNwZWNpZmljYWxseSBmb3IgdGhhdCBsZXNzb24gcGxhbi5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW5mb01vZGFsKGZhbHNlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLW1kIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEdvdCBpdCFcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcblxuICAgICAgICAvLyAtLS0gR29vZ2xlIEFQSSBJbml0aWFsaXphdGlvbiAtLS1cbiAgICAgICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCBzY3JpcHRHYXBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgc2NyaXB0R2FwaS5zcmMgPSAnaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvYXBpLmpzJztcbiAgICAgICAgICBzY3JpcHRHYXBpLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICBzY3JpcHRHYXBpLmRlZmVyID0gdHJ1ZTtcbiAgICAgICAgICBzY3JpcHRHYXBpLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgd2luZG93LmdhcGkubG9hZCgnY2xpZW50JywgKCkgPT4geyBcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5nYXBpLmNsaWVudC5pbml0KHtcbiAgICAgICAgICAgICAgICAgICAgICBhcGlLZXk6IEdPT0dMRV9BUElfS0VZLCBcbiAgICAgICAgICAgICAgICAgICAgICBkaXNjb3ZlcnlEb2NzOiBEUklWRV9BUElfRElTQ09WRVJZX0RPQ1MsXG4gICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRHYXBpTG9hZGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR0FQSSBjbGllbnQgaW5pdGlhbGl6ZWRcIik7XG4gICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBHQVBJIGNsaWVudDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldEdvb2dsZUF1dGhFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIEdvb2dsZSBBUEkgQ2xpZW50LiBDaGVjayBjb25zb2xlLlwiKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0R2FwaSk7XG5cbiAgICAgICAgICBjb25zdCBzY3JpcHRHaXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICBzY3JpcHRHaXMuc3JjID0gJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9nc2kvY2xpZW50JztcbiAgICAgICAgICBzY3JpcHRHaXMuYXN5bmMgPSB0cnVlO1xuICAgICAgICAgIHNjcmlwdEdpcy5kZWZlciA9IHRydWU7XG4gICAgICAgICAgc2NyaXB0R2lzLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgc2V0R2lzTG9hZGVkKHRydWUpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdJUyBjbGllbnQgbG9hZGVkXCIpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHRHaXMpO1xuXG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHRHYXBpKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHRHaXMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0sIFtdKTtcblxuICAgICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIGlmIChnaXNMb2FkZWQgJiYgR09PR0xFX0NMSUVOVF9JRCAmJiBHT09HTEVfQ0xJRU5UX0lEICE9PSAnWU9VUl9HT09HTEVfQ0xJRU5UX0lEJykgeyBcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudCA9IHdpbmRvdy5nb29nbGUuYWNjb3VudHMub2F1dGgyLmluaXRUb2tlbkNsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpZW50X2lkOiBHT09HTEVfQ0xJRU5UX0lELFxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiBEUklWRV9BUElfU0NPUEVTLFxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAodG9rZW5SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5SZXNwb25zZSAmJiB0b2tlblJlc3BvbnNlLmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNMb2dnZWRJbih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IHRva2VuUmVzcG9uc2UuaWRfdG9rZW4gPyBKU09OLnBhcnNlKGF0b2IodG9rZW5SZXNwb25zZS5pZF90b2tlbi5zcGxpdCgnLicpWzFdKSkgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJJbmZvKHsgbmFtZTogZGVjb2RlZFRva2VuLm5hbWUgfHwgZGVjb2RlZFRva2VuLmVtYWlsIHx8ICdHb29nbGUgVXNlcicgfSk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0R29vZ2xlQXV0aEVycm9yKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR29vZ2xlIFNpZ24tSW4gc3VjY2Vzc2Z1bC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiR29vZ2xlIFNpZ24tSW46IE5vIGFjY2VzcyB0b2tlbi5cIiwgdG9rZW5SZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRHb29nbGVBdXRoRXJyb3IoXCJMb2dpbiBmYWlsZWQ6IE5vIGFjY2VzcyB0b2tlbi4gQ2hlY2sgY29uc29sZS5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0xvZ2dlZEluKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3JfY2FsbGJhY2s6IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiR29vZ2xlIFNpZ24tSW4gRXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRldGFpbGVkRXJyb3IgPSBgTG9naW4gRXJyb3I6ICR7ZXJyb3IucmVhc29uIHx8IGVycm9yLnR5cGUgfHwgZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9LiBgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IudHlwZSA9PT0gJ3BvcHVwX2Nsb3NlZF9ieV91c2VyJyB8fCBlcnJvci5yZWFzb24gPT09ICdwb3B1cF9jbG9zZWRfYnlfdXNlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxlZEVycm9yICs9IFwiVGhlIHNpZ24taW4gcG9wdXAgd2FzIGNsb3NlZCBiZWZvcmUgY29tcGxldGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci50eXBlID09PSAncG9wdXBfZmFpbGVkX3RvX29wZW4nIHx8IGVycm9yLnJlYXNvbiA9PT0gJ3BvcHVwX2ZhaWxlZF90b19vcGVuJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsZWRFcnJvciArPSBcIlRoZSBzaWduLWluIHBvcHVwIGZhaWxlZCB0byBvcGVuLiBQbGVhc2UgY2hlY2sgaWYgeW91ciBicm93c2VyIGlzIGJsb2NraW5nIHBvcHVwcy5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxlZEVycm9yICs9IFwiQ2hlY2sgQ2xpZW50IElEICYgJ0F1dGhvcml6ZWQgSmF2YVNjcmlwdCBvcmlnaW5zJyBpbiBHb29nbGUgQ2xvdWQgQ29uc29sZS5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRHb29nbGVBdXRoRXJyb3IoZGV0YWlsZWRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzTG9nZ2VkSW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgc2V0VG9rZW5DbGllbnQoY2xpZW50KTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBHSVMgdG9rZW4gY2xpZW50OlwiLCBlKTtcbiAgICAgICAgICAgICAgICAgIHNldEdvb2dsZUF1dGhFcnJvcihcIkZhaWxlZCB0byBpbml0IEdvb2dsZSBTaWduLUluLiBDaGVjayBDbGllbnQgSUQuXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChHT09HTEVfQ0xJRU5UX0lEID09PSAnWU9VUl9HT09HTEVfQ0xJRU5UX0lEJykge1xuICAgICAgICAgICAgICBzZXRHb29nbGVBdXRoRXJyb3IoXCJHb29nbGUgQ2xpZW50IElEIG5vdCBjb25maWd1cmVkLiBQbGVhc2UgdXBkYXRlIHRoZSBjb2RlIHdpdGggeW91ciBhY3R1YWwgQ2xpZW50IElEIGZyb20gR29vZ2xlIENsb3VkIENvbnNvbGUuXCIpO1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJHb29nbGUgQ2xpZW50IElEIGlzIG5vdCBjb25maWd1cmVkLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIFtnaXNMb2FkZWRdKTtcblxuXG4gICAgICAgIGNvbnN0IGhhbmRsZUdvb2dsZUxvZ2luID0gKCkgPT4ge1xuICAgICAgICAgIHNldEdvb2dsZUF1dGhFcnJvcignJyk7XG4gICAgICAgICAgaWYgKEdPT0dMRV9DTElFTlRfSUQgPT09ICdZT1VSX0dPT0dMRV9DTElFTlRfSUQnKSB7XG4gICAgICAgICAgICAgIHNldEdvb2dsZUF1dGhFcnJvcihcIkdvb2dsZSBDbGllbnQgSUQgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSB1cGRhdGUgdGhlIGNvZGUuXCIpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZ2lzTG9hZGVkIHx8ICF0b2tlbkNsaWVudCkge1xuICAgICAgICAgICAgICBzZXRHb29nbGVBdXRoRXJyb3IoXCJHb29nbGUgU2lnbi1JbiBpcyBub3QgcmVhZHkuIFBsZWFzZSB3YWl0IG9yIGNoZWNrIGNvbnNvbGUgZm9yIGVycm9ycy5cIik7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJHb29nbGUgU2lnbi1JbiBub3QgcmVhZHkgKGdpc0xvYWRlZCwgdG9rZW5DbGllbnQpOlwiLCBnaXNMb2FkZWQsIHRva2VuQ2xpZW50KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0b2tlbkNsaWVudC5yZXF1ZXN0QWNjZXNzVG9rZW4oKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXF1ZXN0aW5nIGFjY2VzcyB0b2tlbjpcIiwgZSk7XG4gICAgICAgICAgICAgIHNldEdvb2dsZUF1dGhFcnJvcihcIkVycm9yIHJlcXVlc3RpbmcgYWNjZXNzIHRva2VuLiBDaGVjayBjb25zb2xlLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlR29vZ2xlTG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICAgIHNldElzTG9nZ2VkSW4oZmFsc2UpO1xuICAgICAgICAgIHNldFVzZXJJbmZvKG51bGwpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBsb2dnZWQgb3V0LlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNyZWF0ZUFuZFVwbG9hZEdvb2dsZURvYyA9IGFzeW5jIChjb250ZW50LCBmaWxlTmFtZVRvVXNlLCBvcGVuQWZ0ZXJDcmVhdGUgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICAgICAgc2V0VXBsb2FkU3RhdHVzKFwiUGxlYXNlIGxvZ2luIHdpdGggR29vZ2xlIGZpcnN0LlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgICAgIHNldFVwbG9hZFN0YXR1cyhcIk5vIGNvbnRlbnQgYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2FwaUxvYWRlZCB8fCAhd2luZG93LmdhcGkuY2xpZW50IHx8ICF3aW5kb3cuZ2FwaS5jbGllbnQuZHJpdmUpIHtcbiAgICAgICAgICAgICAgICBzZXRVcGxvYWRTdGF0dXMoXCJHb29nbGUgRHJpdmUgQVBJIG5vdCByZWFkeS5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldElzUHJvY2Vzc2luZ0RvYyh0cnVlKTtcbiAgICAgICAgICAgIHNldFVwbG9hZFN0YXR1cyhvcGVuQWZ0ZXJDcmVhdGUgPyBcIkNyZWF0aW5nIEdvb2dsZSBEb2MuLi5cIiA6IFwiVXBsb2FkaW5nIHRvIEdvb2dsZSBEcml2ZS4uLlwiKTtcblxuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogZmlsZU5hbWVUb1VzZSxcbiAgICAgICAgICAgICAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL3ZuZC5nb29nbGUtYXBwcy5kb2N1bWVudCcsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBib3VuZGFyeSA9ICctLS0tLS0tMzE0MTU5MjY1MzU4OTc5MzIzODQ2JztcbiAgICAgICAgICAgIGNvbnN0IGRlbGltaXRlciA9IFwiXFxyXFxuLS1cIiArIGJvdW5kYXJ5ICsgXCJcXHJcXG5cIjtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlX2RlbGltID0gXCJcXHJcXG4tLVwiICsgYm91bmRhcnkgKyBcIi0tXCI7XG4gICAgICAgICAgICBjb25zdCBtdWx0aXBhcnRSZXF1ZXN0Qm9keSA9XG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyICtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04XFxyXFxuXFxyXFxuJyArXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpICtcbiAgICAgICAgICAgICAgICBkZWxpbWl0ZXIgK1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcXHJcXG5cXHJcXG4nICtcbiAgICAgICAgICAgICAgICBjb250ZW50ICtcbiAgICAgICAgICAgICAgICBjbG9zZV9kZWxpbTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gd2luZG93LmdhcGkuY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL3VwbG9hZC9kcml2ZS92My9maWxlcycsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgdXBsb2FkVHlwZTogJ211bHRpcGFydCcgfSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9yZWxhdGVkOyBib3VuZGFyeT1cIicgKyBib3VuZGFyeSArICdcIicgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogbXVsdGlwYXJ0UmVxdWVzdEJvZHlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWxlIGFjdGlvbiBzdWNjZXNzZnVsOlwiLCByZXNwb25zZS5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvcGVuQWZ0ZXJDcmVhdGUgJiYgcmVzcG9uc2UucmVzdWx0ICYmIHJlc3BvbnNlLnJlc3VsdC53ZWJWaWV3TGluaykge1xuICAgICAgICAgICAgICAgICAgICBzZXRVcGxvYWRTdGF0dXMoYEdvb2dsZSBEb2MgY3JlYXRlZCEgT3BlbmluZy4uLmApO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihyZXNwb25zZS5yZXN1bHQud2ViVmlld0xpbmssICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wZW5BZnRlckNyZWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgc2V0VXBsb2FkU3RhdHVzKGBHb29nbGUgRG9jIGNyZWF0ZWQsIGJ1dCBubyBsaW5rIHRvIG9wZW4uIEZpbmQgaXQgaW4gRHJpdmUuYCk7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VXBsb2FkU3RhdHVzKGBTdWNjZXNzISBGaWxlIFwiJHtmaWxlTmFtZVRvVXNlfVwiIHVwbG9hZGVkIHRvIEdvb2dsZSBEcml2ZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0SXNQcm9jZXNzaW5nRG9jKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0OyBcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdpdGggR29vZ2xlIERyaXZlIGFjdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gZXJyb3IucmVzdWx0Py5lcnJvcj8ubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgICAgICBzZXRVcGxvYWRTdGF0dXMoYEFjdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNc2d9LiBDaGVjayBjb25zb2xlLmApO1xuICAgICAgICAgICAgICAgIHNldElzUHJvY2Vzc2luZ0RvYyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlVXBsb2FkVG9Ecml2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsVGl0bGUgPSBzZWxlY3RlZExlc3NvbiB8fCBzZWxlY3RlZFRvcGljIHx8IHNlbGVjdGVkVW5pdCB8fCBtYXRlcmlhbFR5cGU7XG4gICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGAke3NlbGVjdGVkU3ViamVjdCB8fCAnR2VuZXJhdGVkIE1hdGVyaWFsJ31fJHttYXRlcmlhbFRpdGxlLnJlcGxhY2UoL1teYS16QS1aMC05XFxzLV9dL2csICcnKS5yZXBsYWNlKC9cXHMrL2csICdfJyl9Lmdkb2NgO1xuICAgICAgICAgICAgY3JlYXRlQW5kVXBsb2FkR29vZ2xlRG9jKGdlbmVyYXRlZENvbnRlbnQsIGZpbGVOYW1lLCBmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlT3BlbkluR29vZ2xlRG9jcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsVGl0bGUgPSBzZWxlY3RlZExlc3NvbiB8fCBzZWxlY3RlZFRvcGljIHx8IHNlbGVjdGVkVW5pdCB8fCBtYXRlcmlhbFR5cGU7XG4gICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGAke3NlbGVjdGVkU3ViamVjdCB8fCAnR2VuZXJhdGVkIE1hdGVyaWFsJ31fJHttYXRlcmlhbFRpdGxlLnJlcGxhY2UoL1teYS16QS1aMC05XFxzLV9dL2csICcnKS5yZXBsYWNlKC9cXHMrL2csICdfJyl9Lmdkb2NgO1xuICAgICAgICAgICAgY3JlYXRlQW5kVXBsb2FkR29vZ2xlRG9jKGdlbmVyYXRlZENvbnRlbnQsIGZpbGVOYW1lLCB0cnVlKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8vIC0tLSBDdXJyaWN1bHVtIERyb3Bkb3duIExvZ2ljIC0tLVxuICAgICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIHNldFN1YmplY3RzTGlzdChPYmplY3Qua2V5cyhhbGxDdXJyaWN1bGFEYXRhKSk7XG4gICAgICAgIH0sIFtdKTtcblxuICAgICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIGlmIChzZWxlY3RlZFN1YmplY3QgJiYgYWxsQ3VycmljdWxhRGF0YVtzZWxlY3RlZFN1YmplY3RdKSB7XG4gICAgICAgICAgICAgIHNldEN1cnJlbnRDdXJyaWN1bHVtRGF0YShhbGxDdXJyaWN1bGFEYXRhW3NlbGVjdGVkU3ViamVjdF0pO1xuICAgICAgICAgICAgICBzZXRVbml0c0xpc3QoYWxsQ3VycmljdWxhRGF0YVtzZWxlY3RlZFN1YmplY3RdLnVuaXRzLm1hcCh1ID0+IHUudGl0bGUpKTtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRVbml0KCcnKTsgc2V0U2VsZWN0ZWRUb3BpYygnJyk7IHNldFNlbGVjdGVkTGVzc29uKCcnKTtcbiAgICAgICAgICAgICAgc2V0VG9waWNzTGlzdChbXSk7IHNldExlc3NvbnNMaXN0KFtdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50Q3VycmljdWx1bURhdGEobnVsbCk7IHNldFVuaXRzTGlzdChbXSk7XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkVW5pdCgnJyk7IHNldFNlbGVjdGVkVG9waWMoJycpOyBzZXRTZWxlY3RlZExlc3NvbignJyk7XG4gICAgICAgICAgICAgIHNldFRvcGljc0xpc3QoW10pOyBzZXRMZXNzb25zTGlzdChbXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBbc2VsZWN0ZWRTdWJqZWN0XSk7XG4gICAgICAgIFxuICAgICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIGlmIChzZWxlY3RlZFVuaXQgJiYgY3VycmVudEN1cnJpY3VsdW1EYXRhICYmIGN1cnJlbnRDdXJyaWN1bHVtRGF0YS51bml0cykge1xuICAgICAgICAgICAgY29uc3QgdW5pdCA9IGN1cnJlbnRDdXJyaWN1bHVtRGF0YS51bml0cy5maW5kKHUgPT4gdS50aXRsZSA9PT0gc2VsZWN0ZWRVbml0KTtcbiAgICAgICAgICAgIHNldFRvcGljc0xpc3QodW5pdCAmJiB1bml0W1wiNWVfc2VxdWVuY2VzXCJdID8gdW5pdFtcIjVlX3NlcXVlbmNlc1wiXS5tYXAoc2VxID0+IHNlcS50aXRsZSkgOiBbXSk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZFRvcGljKCcnKTsgc2V0U2VsZWN0ZWRMZXNzb24oJycpOyBzZXRMZXNzb25zTGlzdChbXSk7IFxuICAgICAgICAgIH0gZWxzZSBpZiAoIXNlbGVjdGVkVW5pdCkgeyBcbiAgICAgICAgICAgICAgc2V0VG9waWNzTGlzdChbXSk7IHNldExlc3NvbnNMaXN0KFtdKTtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUb3BpYygnJyk7IHNldFNlbGVjdGVkTGVzc29uKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIFtzZWxlY3RlZFVuaXQsIGN1cnJlbnRDdXJyaWN1bHVtRGF0YV0pO1xuXG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkVG9waWMgJiYgc2VsZWN0ZWRVbml0ICYmIGN1cnJlbnRDdXJyaWN1bHVtRGF0YSAmJiBjdXJyZW50Q3VycmljdWx1bURhdGEudW5pdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBjdXJyZW50Q3VycmljdWx1bURhdGEudW5pdHMuZmluZCh1ID0+IHUudGl0bGUgPT09IHNlbGVjdGVkVW5pdCk7XG4gICAgICAgICAgICBjb25zdCB0b3BpY1NlcXVlbmNlID0gdW5pdD8uW1wiNWVfc2VxdWVuY2VzXCJdPy5maW5kKHNlcSA9PiBzZXEudGl0bGUgPT09IHNlbGVjdGVkVG9waWMpO1xuICAgICAgICAgICAgc2V0TGVzc29uc0xpc3QodG9waWNTZXF1ZW5jZSA/IHRvcGljU2VxdWVuY2UubGVzc29uX3RpdGxlcyA6IFtdKTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkTGVzc29uKCcnKTsgXG4gICAgICAgICAgfSBlbHNlIGlmICghc2VsZWN0ZWRUb3BpYykgeyBcbiAgICAgICAgICAgICAgc2V0TGVzc29uc0xpc3QoW10pOyBzZXRTZWxlY3RlZExlc3NvbignJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBbc2VsZWN0ZWRUb3BpYywgc2VsZWN0ZWRVbml0LCBjdXJyZW50Q3VycmljdWx1bURhdGFdKTtcblxuXG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdFByb21wdCA9IChpc0ZvcldvcmtzaGVldEZyb21MZXNzb25QbGFuID0gZmFsc2UsIGxlc3NvblBsYW5Db250ZW50ID0gXCJcIikgPT4ge1xuICAgICAgICAgIGxldCBzdWJqZWN0Rm9jdXMgPSBcIlwiO1xuICAgICAgICAgIGxldCB1bml0RGV0YWlscyA9IFwiXCI7XG4gICAgICAgICAgbGV0IHRvcGljRGV0YWlscyA9IFwiXCI7XG4gICAgICAgICAgbGV0IGxlc3NvbkRldGFpbHMgPSBcIlwiO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdGVkVW5pdCkgdW5pdERldGFpbHMgPSBgVW5pdDogXCIke3NlbGVjdGVkVW5pdH1cImA7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkVG9waWMpIHRvcGljRGV0YWlscyA9IGBUb3BpYy81ZSBTZXF1ZW5jZTogXCIke3NlbGVjdGVkVG9waWN9XCJgO1xuICAgICAgICAgIGlmIChzZWxlY3RlZExlc3NvbikgbGVzc29uRGV0YWlscyA9IGBMZXNzb246IFwiJHtzZWxlY3RlZExlc3Nvbn1cImA7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0ZWRTdWJqZWN0KSB7XG4gICAgICAgICAgICAgIHN1YmplY3RGb2N1cyA9IGBTdWJqZWN0OiAke3NlbGVjdGVkU3ViamVjdH1gO1xuICAgICAgICAgICAgICBpZiAodW5pdERldGFpbHMpIHN1YmplY3RGb2N1cyArPSBgLCAke3VuaXREZXRhaWxzfWA7XG4gICAgICAgICAgICAgIGlmICh0b3BpY0RldGFpbHMpIHN1YmplY3RGb2N1cyArPSBgLCAke3RvcGljRGV0YWlsc31gO1xuICAgICAgICAgICAgICBpZiAobGVzc29uRGV0YWlscykgc3ViamVjdEZvY3VzICs9IGAsICR7bGVzc29uRGV0YWlsc31gO1xuICAgICAgICAgICAgICBpZiAoIXVuaXREZXRhaWxzKSBzdWJqZWN0Rm9jdXMgKz0gYCAoZ2VuZXJhbClgO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghc291cmNlVGV4dC50cmltKCkgJiYgIWlzRm9yV29ya3NoZWV0RnJvbUxlc3NvblBsYW4pIHsgXG4gICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoXCJQbGVhc2Ugc2VsZWN0IGEgU3ViamVjdCwgYW5kIG9wdGlvbmFsbHkgVW5pdC9Ub3BpYy9MZXNzb24sIG9yIHByb3ZpZGUgJ0FkZGl0aW9uYWwgU291cmNlIFRleHQnIHRvIGRlZmluZSBhIHRvcGljLlwiKTtcbiAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7IFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN1YmplY3RGb2N1cyA9IGBUb3BpYyB0byBiZSBpbmZlcnJlZCBmcm9tIFNvdXJjZSBUZXh0IG9yIExlc3NvbiBQbGFuYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgbGV0IGN1cnJlbnRNYXRlcmlhbFR5cGUgPSBpc0ZvcldvcmtzaGVldEZyb21MZXNzb25QbGFuID8gJ3dvcmtzaGVldCcgOiBtYXRlcmlhbFR5cGU7XG5cbiAgICAgICAgICBsZXQgcHJvbXB0ID0gYFlvdSBhcmUgYW4gZXhwZXJ0IGluc3RydWN0aW9uYWwgZGVzaWduZXIuIFRoZSB1c2VyIGlzIHJlcXVlc3RpbmcgZWR1Y2F0aW9uYWwgbWF0ZXJpYWwgZm9yICR7c2VsZWN0ZWRTdWJqZWN0ID8gJ3RoZSBzdWJqZWN0OiAnICsgc2VsZWN0ZWRTdWJqZWN0IDogJ2Egc2NpZW5jZSB0b3BpYyd9LlxuICAgICAgICAgIFBsZWFzZSBnZW5lcmF0ZSB0aGUgY29udGVudCB3aXRoIGZvcm1hdHRpbmcgb3B0aW1pemVkIGZvciBkaXJlY3QgY29weS1wYXN0aW5nIGludG8gR29vZ2xlIERvY3MuIFxuICAgICAgICAgIFRoaXMgbWVhbnM6IGhpZ2hseSBvcmdhbml6ZWQgdGV4dCwgY2xlYXIgcGFyYWdyYXBoIHNlcGFyYXRpb24gKG9uZSBibGFuayBsaW5lIGJldHdlZW4gcGFyYWdyYXBocyksIGJvbGQgbWFpbiBzZWN0aW9uIHRpdGxlcyAoZS5nLiwgKipTZWN0aW9uIFRpdGxlKiopLCBcbiAgICAgICAgICBudW1iZXJlZCBwcmltYXJ5IGxpc3RzIChlLmcuLCAxLiBJdGVtIEEsIDIuIEl0ZW0gQiksIGFuZCBsZXR0ZXJlZCBpbmRlbnRlZCBzdWItbGlzdHMgKGUuZy4sIGEuIFN1Yi1pdGVtIDEsIGIuIFN1Yi1pdGVtIDIpLiBcbiAgICAgICAgICBBdm9pZCBjb21wbGV4IHRleHQgZm9ybWF0dGluZywgYXN0ZXJpc2tzIGZvciBsaXN0cy9lbXBoYXNpcywgYW5kIGFueSBlbGVtZW50cyB0aGF0IGRvIG5vdCB0cmFuc2ZlciB3ZWxsIHRvIGEgc3RhbmRhcmQgd29yZCBwcm9jZXNzb3IgZW52aXJvbm1lbnQuXG4gICAgICAgICAgVGhlIGRlc2NyaXB0aXZlIHRleHQgaW4gcGFyZW50aGVzZXMgd2l0aGluIHRoZSBmb2xsb3dpbmcgc3BlY2lmaWMgaW5zdHJ1Y3Rpb25zIChsaWtlIFwiKEEgY2xlYXIsIGVuZ2FnaW5nIHRpdGxlLi4uKVwiKSBpcyBmb3IgeW91ciBndWlkYW5jZSBvbiBjb250ZW50IGFuZCBzaG91bGQgTk9UIGJlIHBhcnQgb2YgdGhlIGZpbmFsIGdlbmVyYXRlZCBtYXRlcmlhbC5cblxuICAgICAgICAgIEdlbmVyYXRlIGVkdWNhdGlvbmFsIG1hdGVyaWFsIGJhc2VkIG9uIHRoZSBmb2xsb3dpbmcgc3BlY2lmaWNhdGlvbnMuXG4gICAgICAgICAgVGhlIHVzZXIgaXMgcHJvdmlkaW5nIGEgc3ViamVjdCBmb2N1cyBkZXJpdmVkIGZyb20gdGhlaXIgY3VycmljdWx1bSBzdHJ1Y3R1cmUgYW5kIG9wdGlvbmFsbHkgc29tZSBhZGRpdGlvbmFsIHNvdXJjZSB0ZXh0LlxuICAgICAgICAgIFRoZSBhZGRpdGlvbmFsIHNvdXJjZSB0ZXh0IG1heSBjb250YWluIHJlbGV2YW50IGluZm9ybWF0aW9uIGZyb20gY3VycmljdWxhIGxpa2UgXCJOZXcgVmlzaW9uIEhTIEJpb2xvZ3ksXCIgXCJNTEwgY0Jpb2xvZ3ksXCIgYW5kIHRoZSBcIk5ZUyBDdWx0dXJhbGx5IFJlc3BvbnNpdmUtU3VzdGFpbmluZyBFZHVjYXRpb24gRnJhbWV3b3JrLlwiXG4gICAgICAgICAgVXNlIHRoaXMgaW5mb3JtYXRpb24gYW5kIHlvdXIgZXhwZXJ0aXNlIHRvIGNyZWF0ZSBoaWdoLXF1YWxpdHksIHJlbGV2YW50IGNvbnRlbnQuXG5cbiAgICAgICAgICBTdWJqZWN0IEZvY3VzOiAke3N1YmplY3RGb2N1c31cbiAgICAgICAgICBBZGRpdGlvbmFsIFNvdXJjZSBUZXh0ICh1c2UgdGhpcyB0byBzdXBwbGVtZW50IGluZm9ybWF0aW9uIGZvciB0aGUgc3ViamVjdCBmb2N1cyBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIHJlbHkgb24gZ2VuZXJhbCBrbm93bGVkZ2UgZm9yIHRoZSBzdWJqZWN0IGZvY3VzKTpcbiAgICAgICAgICAtLS1cbiAgICAgICAgICAke2lzRm9yV29ya3NoZWV0RnJvbUxlc3NvblBsYW4gPyBcIk4vQSAtIFdvcmtzaGVldCBpcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgTGVzc29uIFBsYW4gY29udGVudCBiZWxvdy5cIiA6IChzb3VyY2VUZXh0IHx8IFwiTm8gYWRkaXRpb25hbCBzb3VyY2UgdGV4dCBwcm92aWRlZC4gUmVseSBvbiBnZW5lcmFsIGtub3dsZWRnZSBmb3IgdGhlIHN1YmplY3QgZm9jdXMuXCIpfVxuICAgICAgICAgIC0tLVxuICAgICAgICAgICR7aXNGb3JXb3Jrc2hlZXRGcm9tTGVzc29uUGxhbiA/IGBcXG5cXG5MZXNzb24gUGxhbiBDb250ZW50IHRvIEJhc2UgV29ya3NoZWV0IE9uOlxcbi0tLVxcbiR7bGVzc29uUGxhbkNvbnRlbnR9XFxuLS0tXFxuYCA6IFwiXCJ9XG4gICAgICAgICAgTWF0ZXJpYWwgVHlwZTogJHtjdXJyZW50TWF0ZXJpYWxUeXBlfVxuICAgICAgICAgIGA7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudE1hdGVyaWFsVHlwZSkgeyAvLyBVc2UgY3VycmVudE1hdGVyaWFsVHlwZSBoZXJlXG4gICAgICAgICAgICBjYXNlICdsZXNzb25QbGFuJzpcbiAgICAgICAgICAgICAgcHJvbXB0ICs9IGBcbiAgICAgICAgICAgICAgR2VuZXJhdGUgYSBMZXNzb24gUGxhbiB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuXG4gICAgICAgICAgICAgICoqTGVzc29uIFRpdGxlIGFuZCBPdmVydmlldzoqKlxuICAgICAgICAgICAgICAoQ29udGVudDogQSBjbGVhciwgZW5nYWdpbmcgdGl0bGUgdGhhdCByZWZsZWN0cyB0aGUgY29udGVudCBmb2N1cy4gQSBzaG9ydCBzdW1tYXJ5IG9mIGdvYWxzIHdpdGhpbiB0aGUgbGVzc29uLiBUaXRsZSBzaG91bGQgYmUgc3BlY2lmaWMgdG8gdGhlIFN1YmplY3QgRm9jdXMuKVxuXG4gICAgICAgICAgICAgICoqQWltOioqXG4gICAgICAgICAgICAgIChDb250ZW50OiBBIGNsZWFyIHF1ZXN0aW9uIG91dGxpbmluZyB0aGUgbWFpbiBnb2FsIG9yIHB1cnBvc2Ugb2YgdGhlIGxlc3Nvbiwgc3BlY2lmaWMgdG8gdGhlIFN1YmplY3QgRm9jdXMuIERvIG5vdCBpbmNsdWRlIGV4cGxhbmF0aW9uLilcblxuICAgICAgICAgICAgICAqKkRvIE5vdzoqKlxuICAgICAgICAgICAgICAoQ29udGVudDogQSBicmllZiBhY3Rpdml0eSBvciBxdWVzdGlvbiBkZXNpZ25lZCB0byBlbmdhZ2Ugc3R1ZGVudHMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGVzc29uLiBSZWxhdGVkIHRvIHRoZSBTdWJqZWN0IEZvY3VzLCBzZXJ2aW5nIGFzIGEgd2FybS11cCB0byBhY3RpdmF0ZSBwcmlvciBrbm93bGVkZ2UuIEluY29ycG9yYXRlIGVsZW1lbnRzIG9mIHRoZSBDdWx0dXJhbGx5IFJlc3BvbnNpdmUtU3VzdGFpbmluZyBFZHVjYXRpb24gRnJhbWV3b3JrIGZyb20gTllTLiBJZiBwb3NzaWJsZSwgbW9kZWwgYW4gYWN0aXZpdHkgc3R5bGUgZnJvbSB0aGUgcmVsZXZhbnQgY3VycmljdWx1bSAoZS5nLiwgTmV3IFZpc2lvbiBIUyBCaW9sb2d5IG9yIEVhcnRoIFNjaWVuY2UpIGJhc2VkIG9uIHByb3ZpZGVkIHNvdXJjZSB0ZXh0IG9yIGdlbmVyYWwga25vd2xlZGdlIG9mIGl0LilcblxuICAgICAgICAgICAgICAqKkxlYXJuaW5nIE9iamVjdGl2ZXM6KipcbiAgICAgICAgICAgICAgKENvbnRlbnQ6IEEgbGlzdCBvZiAzIHNwZWNpZmljLCBtZWFzdXJhYmxlIGxlYXJuaW5nIG9iamVjdGl2ZXMgc3R1ZGVudHMgc2hvdWxkIGFjaGlldmUgZm9yIHRoZSBTdWJqZWN0IEZvY3VzLiBGb3JtYXQgYXMgYSBudW1iZXJlZCBsaXN0LiBPbmUgc2VudGVuY2UgcGVyIG9iamVjdGl2ZS4gQWxpZ24gd2l0aCByZWxldmFudCBzdGFuZGFyZHMuIE1vZGVsIGZyb20gdGhlIHJlbGV2YW50IGN1cnJpY3VsdW0gaWYgcG9zc2libGUuKVxuICAgICAgICAgICAgICBFeGFtcGxlIEZvcm1hdDpcbiAgICAgICAgICAgICAgMS4gT2JqZWN0aXZlIG9uZS5cbiAgICAgICAgICAgICAgMi4gT2JqZWN0aXZlIHR3by5cbiAgICAgICAgICAgICAgMy4gT2JqZWN0aXZlIHRocmVlLlxuXG4gICAgICAgICAgICAgICoqU3RhbmRhcmRzIEFsaWdubWVudDoqKlxuICAgICAgICAgICAgICAoQ29udGVudDogRGV0YWlsZWQgYWxpZ25tZW50IHdpdGggcmVsZXZhbnQgTllTIGVkdWNhdGlvbmFsIHN0YW5kYXJkcyAoZS5nLiwgTllTU0xTKSBmb3IgdGhlIFN1YmplY3QgRm9jdXMuIExpc3QgMyBzcGVjaWZpYyBzdGFuZGFyZHMgYWRkcmVzc2VkLiBGb3JtYXQgYXMgYSBudW1iZXJlZCBsaXN0LilcbiAgICAgICAgICAgICAgRXhhbXBsZSBGb3JtYXQ6XG4gICAgICAgICAgICAgIDEuIFN0YW5kYXJkIG9uZS5cbiAgICAgICAgICAgICAgMi4gU3RhbmRhcmQgdHdvLlxuICAgICAgICAgICAgICAzLiBTdGFuZGFyZCB0aHJlZS5cblxuICAgICAgICAgICAgICAqKlByaW9yIEtub3dsZWRnZSBBY3RpdmF0aW9uOioqXG4gICAgICAgICAgICAgIChDb250ZW50OiAxLTIgcXVlc3Rpb25zIHRvIGFjdGl2YXRlIHN0dWRlbnRzJyBwcmlvciBrbm93bGVkZ2UgcmVsYXRlZCB0byB0aGUgU3ViamVjdCBGb2N1cy4gRm9sbG93IHRoZSBDdWx0dXJhbGx5IFJlc3BvbnNpdmUtU3VzdGFpbmluZyBFZHVjYXRpb24gRnJhbWV3b3JrLilcblxuICAgICAgICAgICAgICAqKkxlc3NvbiBBY3Rpdml0aWVzIChUZWFjaGVyIFNlcXVlbmNlICYgU3R1ZGVudCBFbmdhZ2VtZW50KToqKlxuICAgICAgICAgICAgICAoQ29udGVudDogQSBzZXF1ZW5jZSBvZiBzdGVwcyBmb3IgdGhlIHRlYWNoZXIgZm9yIHRoZSBTdWJqZWN0IEZvY3VzLiBJbmNsdWRlIHJlbGV2YW50IHBhcnRzIGZyb20gdGhlIHNwZWNpZmllZCBjdXJyaWN1bHVtIGFuZCBNTEwgY0Jpb2xvZ3kgY3VycmljdWx1bSBmcm9tIHNvdXJjZSB0ZXh0IG9yIGdlbmVyYWwga25vd2xlZGdlLiBJbmNsdWRlIHNjYWZmb2xkZWQgbWF0ZXJpYWwgYW5kIHN0cmF0ZWdpZXMgZnJvbSB0aGUgc3BlY2lmaWVkIGN1cnJpY3VsdW0uIEluY29ycG9yYXRlIGF0IGxlYXN0IDEgZW5nYWdpbmcgYWN0aXZpdHkgZnJvbSB0aGUgc3BlY2lmaWVkIGN1cnJpY3VsdW0gc3R5bGUgd2l0aGluIHRoaXMgbGVzc29uIGZsb3cuIEFjdGl2aXR5IG11c3QgYWxpZ24gd2l0aCBhaW0gYW5kIG9iamVjdGl2ZXMgZm9yIHRoZSBTdWJqZWN0IEZvY3VzLiBGb2xsb3cgdGhlIEN1bHR1cmFsbHkgUmVzcG9uc2l2ZS1TdXN0YWluaW5nIEVkdWNhdGlvbiBGcmFtZXdvcmsuKVxuXG4gICAgICAgICAgICAgICoqRW5nYWdpbmcgQWN0aXZpdGllcyAoT3B0aW9uYWwgRGF5IDIgLyBFbnJpY2htZW50KToqKlxuICAgICAgICAgICAgICAoQ29udGVudDogRGVzY3JpYmUgb25lIG9wdGlvbmFsIERheSAyIGFjdGl2aXR5IChMQUIgb3IgZW5yaWNobWVudCkgdG8gZGVlcGVuIHVuZGVyc3RhbmRpbmcgb2YgdGhlIFN1YmplY3QgRm9jdXMuIENsZWFybHkgbGFiZWwgaXQgYXMgXCJPcHRpb25hbCBEYXkgMiBBY3Rpdml0eVwiLiBUaGlzIGFjdGl2aXR5IHNob3VsZCBiZSBpbiB0aGUgc3R5bGUgb2YgdGhlIHNwZWNpZmllZCBjdXJyaWN1bHVtLilcblxuICAgICAgICAgICAgICAqKkNsb3N1cmU6KipcbiAgICAgICAgICAgICAgKENvbnRlbnQ6IEdlbmVyYWwgcXVlc3Rpb25zIGZvciBzdHVkZW50cyB0byBzdW1tYXJpemUgd2hhdCB0aGV5IGxlYXJuZWQgYWJvdXQgdGhlIFN1YmplY3QgRm9jdXMuIEZvbGxvdyB0aGUgQ3VsdHVyYWxseSBSZXNwb25zaXZlLVN1c3RhaW5pbmcgRWR1Y2F0aW9uIEZyYW1ld29yay4pXG5cbiAgICAgICAgICAgICAgKipEaWZmZXJlbnRpYXRpb246KipcbiAgICAgICAgICAgICAgKENvbnRlbnQ6IFNwZWNpZmljIHNjYWZmb2xkcy9zdXBwb3J0cyBmb3IgdGhlIFN1YmplY3QgRm9jdXMuKVxuICAgICAgICAgICAgICBTdHVkZW50cyBXaXRoIERpc2FiaWxpdGllcyAoU1dEKTogKERlc2NyaWJlIHNwZWNpZmljIHN0cmF0ZWdpZXMgdXNpbmcgY2xlYXIsIGNvbmNpc2UgbGFuZ3VhZ2UuIFVzZSBudW1iZXJlZCBvciBsZXR0ZXJlZCBzdWItbGlzdHMgaWYgbXVsdGlwbGUgc3RyYXRlZ2llcyBhcmUgcHJvdmlkZWQuKVxuICAgICAgICAgICAgICBNdWx0aWxpbmd1YWwgTGVhcm5lcnMgKE1MTHMpOlxuICAgICAgICAgICAgICBWaXN1YWwgU3RyYXRlZ2llczogKFVzZSBhIG51bWJlcmVkIG9yIGxldHRlcmVkIGxpc3QgZm9yIHN0cmF0ZWdpZXMpXG4gICAgICAgICAgICAgIDEuIChTdHJhdGVneSAxIGRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgICAyLiAoU3RyYXRlZ3kgMiBkZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgU2VudGVuY2UgU3RlbXM6IChVc2UgYSBudW1iZXJlZCBvciBsZXR0ZXJlZCBsaXN0IGZvciBzdGVtcylcbiAgICAgICAgICAgICAgMS4gKFN0ZW0gMSBleGFtcGxlKVxuICAgICAgICAgICAgICAyLiAoU3RlbSAyIGV4YW1wbGUpXG4gICAgICAgICAgICAgIDMuIChTdGVtIDMgZXhhbXBsZSlcbiAgICAgICAgICAgICAgQ29sbGFib3JhdGlvbiBTdHJhdGVnaWVzOiAoVXNlIGEgbnVtYmVyZWQgb3IgbGV0dGVyZWQgbGlzdCBmb3Igc3RyYXRlZ2llcylcbiAgICAgICAgICAgICAgMS4gKFN0cmF0ZWd5IDEgZGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgIDIuIChTdHJhdGVneSAyIGRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgICAoRm9sbG93IHRoZSBDdWx0dXJhbGx5IFJlc3BvbnNpdmUtU3VzdGFpbmluZyBFZHVjYXRpb24gRnJhbWV3b3JrLilcbiAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3b3Jrc2hlZXQnOlxuICAgICAgICAgICAgICBwcm9tcHQgKz0gYFxuICAgICAgICAgICAgICBHZW5lcmF0ZSBhIFN0dWRlbnQgV29ya3NoZWV0LiBcbiAgICAgICAgICAgICAgJHtpc0ZvcldvcmtzaGVldEZyb21MZXNzb25QbGFuIFxuICAgICAgICAgICAgICAgID8gXCJUaGlzIHdvcmtzaGVldCBNVVNUIGJlIGJhc2VkIG9uIHRoZSAnTGVzc29uIFBsYW4gQ29udGVudCB0byBCYXNlIFdvcmtzaGVldCBPbicgcHJvdmlkZWQgYWJvdmUuIEV4dHJhY3Qga2V5IGNvbmNlcHRzLCBhY3Rpdml0aWVzLCBxdWVzdGlvbnMsIGFuZCB2b2NhYnVsYXJ5IGZyb20gdGhlIGxlc3NvbiBwbGFuIHRvIGNyZWF0ZSByZWxldmFudCB3b3Jrc2hlZXQgaXRlbXMuXCIgXG4gICAgICAgICAgICAgICAgOiBcIlRoaXMgd29ya3NoZWV0IHNob3VsZCBiZSBiYXNlZCBvbiB0aGUgU3ViamVjdCBGb2N1cyBhbmQgYW55IEFkZGl0aW9uYWwgU291cmNlIFRleHQuXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgVGhlIHdvcmtzaGVldCBzaG91bGQgaGF2ZSB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcmlzdGljczpcbiAgICAgICAgICAgICAgQ29udGVudDogKEJhc2VkIG9uIHRoZSBwcm92aWRlZCBsZXNzb24gcGxhbiBvciBzdWJqZWN0IGZvY3VzLilcbiAgICAgICAgICAgICAgQmlsaW5ndWFsOiAoQWxsIHN0dWRlbnQtZmFjaW5nIHRleHQgLSBxdWVzdGlvbnMsIGluc3RydWN0aW9ucywgc2VudGVuY2Ugc3RlbXMgLSBNVVNUIGJlIGluIEVuZ2xpc2ggQU5EIFNwYW5pc2guIENsZWFybHkgbGFiZWwgZWFjaCBsYW5ndWFnZS4gRS5nLiwgRW5nbGlzaDogUXVlc3Rpb24gLyBFc3Bhw7FvbDogUHJlZ3VudGEuIEVuc3VyZSBjbGVhciBzZXBhcmF0aW9uIGJldHdlZW4gbGFuZ3VhZ2VzIGZvciByZWFkYWJpbGl0eS4pXG4gICAgICAgICAgICAgIFNlbnRlbmNlIFN0ZW1zL1N0YXJ0ZXJzOiAoSW5jbHVkZSB0aGVzZSBmb3IgYW5zd2VycyB0byBzdXBwb3J0IHN0dWRlbnRzLilcbiAgICAgICAgICAgICAgUXVlc3Rpb25zL1Byb2JsZW1zOiAoSW5jbHVkZSBxdWVzdGlvbnMgYW5kIHByb2JsZW1zIGRpc2N1c3NlZCBpbiB0aGUgbGVzc29uIHBsYW4gb3IgdHlwaWNhbCBmb3IgdGhlIHN1YmplY3QgZm9jdXMuIFVzZSBudW1iZXJlZCBsaXN0cyBmb3IgcXVlc3Rpb25zLilcbiAgICAgICAgICAgICAgTm90ZS1UYWtpbmcgU3BhY2U6IChJbmNsdWRlIGEgZGVzaWduYXRlZCBhcmVhIGZvciBub3RlcywgY2xlYXJseSBsYWJlbGVkLilcbiAgICAgICAgICAgICAgQ3VycmljdWx1bSBBbGlnbm1lbnQ6IChVc2Ugc2FtcGxlIHF1ZXN0aW9uIHN0eWxlcyBmcm9tIHRoZSBzcGVjaWZpZWQgY3VycmljdWx1bSBmcm9tIHNvdXJjZSB0ZXh0IG9yIGdlbmVyYWwga25vd2xlZGdlLilcbiAgICAgICAgICAgICAgRnJhbWV3b3JrOiAoQWRoZXJlIHRvIHRoZSBDdWx0dXJhbGx5IFJlc3BvbnNpdmUtU3VzdGFpbmluZyBFZHVjYXRpb24gRnJhbWV3b3JrLilcblxuICAgICAgICAgICAgICBFeGFtcGxlIHN0cnVjdHVyZSBmb3IgYSBiaWxpbmd1YWwgcXVlc3Rpb24gd2l0aCBzdGVtOlxuICAgICAgICAgICAgICAxLiBFbmdsaXNoOiBCYXNlZCBvbiB0aGUgbGVzc29uIGFib3V0ICR7c2VsZWN0ZWRMZXNzb24gfHwgc2VsZWN0ZWRUb3BpYyB8fCBzZWxlY3RlZFVuaXQgfHwgJ3RoZSB0b3BpYyd9LCB3aGF0IGlzLi4uPyBUbyBhbnN3ZXIsIHlvdSBjYW4gc3RhcnQgd2l0aDogXCJCYXNlZCBvbiB0aGUgbGVzc29uLCAuLi5cIlxuICAgICAgICAgICAgICAgICBFc3Bhw7FvbDogQmFzYWRvIGVuIGxhIGxlY2Npw7NuIHNvYnJlICR7c2VsZWN0ZWRMZXNzb24gfHwgc2VsZWN0ZWRUb3BpYyB8fCBzZWxlY3RlZFVuaXQgfHwgJ2VsIHRlbWEnfSwgwr9xdcOpIGVzLi4uPyBQYXJhIHJlc3BvbmRlciwgcHVlZGVzIGNvbWVuemFyIGNvbjogXCJCYXNhZG8gZW4gbGEgbGVjY2nDs24sIC4uLlwiXG4gICAgICAgICAgICAgICAgIFtTcGFjZSBmb3IgYW5zd2VyXVxuICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JlYWRpbmdNYXRlcmlhbCc6XG4gICAgICAgICAgICAgIHByb21wdCArPSBgXG4gICAgICAgICAgICAgIEdlbmVyYXRlIFJlYWRpbmcgTWF0ZXJpYWwgZm9yIHRoZSBTdWJqZWN0IEZvY3VzIHdpdGggdGhlIGZvbGxvd2luZyBzcGVjaWZpY2F0aW9uczpcbiAgICAgICAgICAgICAgVG9waWMgUmVsZXZhbmN5OiAoQXJ0aWNsZSBtdXN0IGJlIHJlbGV2YW50IHRvIHRoZSBTdWJqZWN0IEZvY3VzIGFuZCBzdWl0YWJsZSBhcyBzdXBwb3J0IG1hdGVyaWFsIGZvciBhIGxlc3Nvbi4pXG4gICAgICAgICAgICAgIExlbmd0aDogKDYwMC0xMDAwIHdvcmRzLCBtdWx0aXBsZSBwYXJhZ3JhcGhzLiBFbnN1cmUgY2xlYXIgcGFyYWdyYXBoIGJyZWFrcy4pXG4gICAgICAgICAgICAgIERpZmZlcmVudGlhdGlvbjogKFRoZSBhcnRpY2xlIHNob3VsZCBiZSB3cml0dGVuIHRvIGJlIGFjY2Vzc2libGUuIEluY2x1ZGUgYSBzZXBhcmF0ZSwgY2xlYXJseSBsYWJlbGVkIHNlY3Rpb24gb3IgY2FsbC1vdXRzIGZvciBkaWZmZXJlbnRpYXRpb24gc3RyYXRlZ2llcyBmb3IgTUxMcyBhbmQgU1dEcywgcmF0aGVyIHRoYW4gZW1iZWRkaW5nIHRoZW0gZGlyZWN0bHkgaW4gdGhlIG1haW4gdGV4dCBpbiBhIGNvbmZ1c2luZyB3YXkuKVxuICAgICAgICAgICAgICBCaWxpbmd1YWw6IChUaGUgRU5USVJFIGFydGljbGUgTVVTVCBiZSBiaWxpbmd1YWwuIEZpcnN0LCBwcm92aWRlIHRoZSBjb21wbGV0ZSBhcnRpY2xlIGluIEVuZ2xpc2gsIGluY2x1ZGluZyBhIHRpdGxlIGluIEVuZ2xpc2guIFRoZW4sIGFmdGVyIHRoZSBjb21wbGV0ZSBFbmdsaXNoIGFydGljbGUsIHVzZSBhIGNsZWFyIHNlcGFyYXRvciBsaWtlIFwiLS0tIFNQQU5JU0ggVFJBTlNMQVRJT04gLS0tXCIuIEZvbGxvd2luZyB0aGUgc2VwYXJhdG9yLCBwcm92aWRlIHRoZSBjb21wbGV0ZSBhcnRpY2xlIGluIFNwYW5pc2gsIGluY2x1ZGluZyBhIHRpdGxlIGluIFNwYW5pc2guKVxuXG4gICAgICAgICAgICAgIEV4YW1wbGUgb2YgYmlsaW5ndWFsIGFydGljbGUgc3RydWN0dXJlOlxuICAgICAgICAgICAgICAqKlRpdGxlIG9mIEFydGljbGUgaW4gRW5nbGlzaCoqXG4gICAgICAgICAgICAgIFtGdWxsIEVuZ2xpc2ggYXJ0aWNsZSB0ZXh0LCB3aXRoIG11bHRpcGxlIHBhcmFncmFwaHMuLi5dXG5cbiAgICAgICAgICAgICAgLS0tIFNQQU5JU0ggVFJBTlNMQVRJT04gLS0tXG5cbiAgICAgICAgICAgICAgKipUw610dWxvIGRlbCBBcnTDrWN1bG8gZW4gRXNwYcOxb2wqKlxuICAgICAgICAgICAgICBbVGV4dG8gY29tcGxldG8gZGVsIGFydMOtY3VsbyBlbiBlc3Bhw7FvbCwgY29uIG3Dumx0aXBsZXMgcMOhcnJhZm9zLi4uXVxuICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NsdXN0ZXJRdWVzdGlvbnMnOlxuICAgICAgICAgICAgICBwcm9tcHQgKz0gYFxuICAgICAgICAgICAgICBHZW5lcmF0ZSBhIHNldCBvZiBDbHVzdGVyIFF1ZXN0aW9ucyBmb3IgdGhlIFN1YmplY3QgRm9jdXMgZm9sbG93aW5nIHRoZSBuZXcgTllTIEJpb2xvZ3kgUmVnZW50cyBmb3JtYXQgKGFkYXB0IGZvciBFYXJ0aCBTY2llbmNlIGlmIHRoYXQncyB0aGUgc2VsZWN0ZWQgc3ViamVjdCwgZm9jdXNpbmcgb24gYXBwcm9wcmlhdGUgcXVlc3Rpb24gc3R5bGVzKS4gRW5zdXJlIGNsZWFyIGZvcm1hdHRpbmcgZm9yIHF1ZXN0aW9ucyBhbmQgYW5zd2VyIGNob2ljZXMuXG4gICAgICAgICAgICAgIENvbnRlbnQ6IChCYXNlZCBvbiB0aGUgcHJvdmlkZWQgU3ViamVjdCBGb2N1cy4pXG4gICAgICAgICAgICAgIFN0cnVjdHVyZTpcbiAgICAgICAgICAgICAgTXVsdGlwbGUgQ2hvaWNlIFF1ZXN0aW9ucyAoTUNRcyk6IChHZW5lcmF0ZSA1IE1DUXMuIEZvcm1hdCBhczpcbiAgICAgICAgICAgICAgICAgMS4gUXVlc3Rpb24gdGV4dC4uLlxuICAgICAgICAgICAgICAgICAgICBhKSBDaG9pY2UgQVxuICAgICAgICAgICAgICAgICAgICBiKSBDaG9pY2UgQlxuICAgICAgICAgICAgICAgICAgICBjKSBDaG9pY2UgQ1xuICAgICAgICAgICAgICAgICAgICBkKSBDaG9pY2UgRFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIERhdGEgQW5hbHlzaXMgLyBSZWFkaW5nIENvbXByZWhlbnNpb24gUXVlc3Rpb25zOiAoR2VuZXJhdGUgMiBxdWVzdGlvbnMuIFRoZXNlIHNob3VsZCBpbnZvbHZlIGludGVycHJldGluZyBhIHByb3ZpZGVkIGdyYXBoLCB0YWJsZSwgb3Igc2hvcnQgcGFzc2FnZSByZWxhdGVkIHRvIHRoZSBTdWJqZWN0IEZvY3VzLiBDbGVhcmx5IGxhYmVsIGFueSBwcm92aWRlZCBkYXRhIG9yIHBhc3NhZ2UuIEZvcm1hdCBxdWVzdGlvbnMgY2xlYXJseS4pXG4gICAgICAgICAgICAgIENFUiAoQ2xhaW0tRXZpZGVuY2UtUmVhc29uaW5nKSBRdWVzdGlvbjogKEdlbmVyYXRlIDEgQ0VSIHF1ZXN0aW9uLiBUaGlzIHNob3VsZCByZXF1aXJlIHN0dWRlbnRzIHRvIG1ha2UgYSBjbGFpbSwgc3VwcG9ydCBpdCB3aXRoIGV2aWRlbmNlIHBvdGVudGlhbGx5IGZyb20gYSBwcm92aWRlZCBzY2VuYXJpbyBvciBkYXRhIHJlbGF0ZWQgdG8gU3ViamVjdCBGb2N1cywgYW5kIGV4cGxhaW4gdGhlaXIgcmVhc29uaW5nLiBDbGVhcmx5IGRlbGluZWF0ZSB0aGUgQ2xhaW0sIEV2aWRlbmNlLCBhbmQgUmVhc29uaW5nIHNlY3Rpb25zIG9yIHByb21wdHMuKVxuICAgICAgICAgICAgICBDdXJyaWN1bHVtIEFsaWdubWVudDogKFVzZSBtYXRlcmlhbCBhbmQgc3R5bGVzIGZyb20gdGhlIHNwZWNpZmllZCBjdXJyaWN1bHVtIGZyb20gc291cmNlIHRleHQgb3IgZ2VuZXJhbCBrbm93bGVkZ2UuKVxuICAgICAgICAgICAgICBHcmFwaGljcy9Nb2RlbHM6IChGb3Igc29tZSBxdWVzdGlvbnMsIGRlc2NyaWJlIG5lY2Vzc2FyeSBncmFwaGljcywgbW9kZWxzLCBvciBkaWFncmFtcyByZWxldmFudCB0byB0aGUgU3ViamVjdCBGb2N1cy4gRS5nLiwgXCJbSW5zdHJ1Y3Rpb246IEluY2x1ZGUgYSBkaWFncmFtIG9mIGEgcmVsZXZhbnQgbW9kZWwgZm9yICR7c2VsZWN0ZWRMZXNzb24gfHwgc2VsZWN0ZWRUb3BpYyB8fCBzZWxlY3RlZFVuaXQgfHwgJ3RoZSB0b3BpYyd9IGhlcmUsIHNob3dpbmcgWCwgWSwgYW5kIFouXVwiLiBUaGUgQUkgc2hvdWxkIG5vdCB0cnkgdG8gZHJhdyB0aGVtIGJ1dCBkZXNjcmliZSB0aGVtIGNsZWFybHkuKVxuICAgICAgICAgICAgICBGb3JtYXQ6IChNb2RlbCBhZnRlciBOWVMgY2x1c3RlciBxdWVzdGlvbiBzYW1wbGVzLCBmb2N1c2luZyBvbiB0ZXh0dWFsIGNsYXJpdHkgZm9yIEdvb2dsZSBEb2NzLilcbiAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gJyc7IFxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJvbXB0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcm9tcHQgPSBjb25zdHJ1Y3RQcm9tcHQoKTtcbiAgICAgICAgICBpZiAoIWN1cnJlbnRQcm9tcHQpIHsgXG4gICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RXJyb3IoJycpOyBcbiAgICAgICAgICBzZXRHZW5lcmF0ZWRDb250ZW50KCcnKTsgXG4gICAgICAgICAgc2V0VXBsb2FkU3RhdHVzKCcnKTsgXG4gICAgICAgICAgaWYgKG1hdGVyaWFsVHlwZSAhPT0gJ2xlc3NvblBsYW4nKSB7IC8vIENsZWFyIGxhc3QgbGVzc29uIHBsYW4gaWYgbm90IGdlbmVyYXRpbmcgYSBsZXNzb24gcGxhblxuICAgICAgICAgICAgc2V0TGFzdEdlbmVyYXRlZExlc3NvblBsYW4obnVsbCk7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsZXQgY2hhdEhpc3RvcnkgPSBbXTtcbiAgICAgICAgICAgICAgY2hhdEhpc3RvcnkucHVzaCh7IHJvbGU6IFwidXNlclwiLCBwYXJ0czogW3sgdGV4dDogY3VycmVudFByb21wdCB9XSB9KTtcbiAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgY29udGVudHM6IGNoYXRIaXN0b3J5IH07XG4gICAgICAgICAgICAgIGNvbnN0IGFwaUtleSA9IFwiXCI7IFxuICAgICAgICAgICAgICBjb25zdCBsbG1BcGlVcmwgPSBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy9nZW1pbmktMi4wLWZsYXNoOmdlbmVyYXRlQ29udGVudD9rZXk9JHthcGlLZXl9YDtcblxuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGxsbUFwaVVybCwge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBnZXQgdGV4dCBmaXJzdCBmb3IgYmV0dGVyIGVycm9yIGRpYWdub3Npc1xuICAgICAgICAgICAgICAgICAgbGV0IGVycm9yVGV4dCA9IGBBUEkgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvclRleHQgKz0gYC4gUmVzcG9uc2U6ICR7dGV4dC5zdWJzdHJpbmcoMCwgNTAwKX0ke3RleHQubGVuZ3RoID4gNTAwID8gJy4uLicgOiAnJ31gOyAvLyBMb2cgZmlyc3QgNTAwIGNoYXJzXG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh0ZXh0RXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0ICs9IFwiLiBBZGRpdGlvbmFsbHksIGZhaWxlZCB0byByZWFkIHJlc3BvbnNlIHRleHQuXCI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3IgRnVsbCBSZXNwb25zZSBUZXh0IChpZiBhdmFpbGFibGUpOicsIGVycm9yVGV4dCk7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JUZXh0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGpzb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBBUEkgcmVzcG9uc2UgYXMgSlNPTjpcIiwganNvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBnZXQgdGhlIHRleHQgb2YgdGhlIHJlc3BvbnNlIGlmIEpTT04gcGFyc2luZyBmYWlsc1xuICAgICAgICAgICAgICAgICAgLy8gVGhpcyByZXF1aXJlcyB0aGUgcmVzcG9uc2UgdG8gYmUgY2xvbmVkIGlmIHlvdSB3YW50IHRvIHJlYWQgaXQgbXVsdGlwbGUgdGltZXMsXG4gICAgICAgICAgICAgICAgICAvLyBvciBlbnN1cmUgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSAudGV4dCgpIGlzIGNhbGxlZC5cbiAgICAgICAgICAgICAgICAgIC8vIEZvciBzaW1wbGljaXR5IGhlcmUsIHdlJ2xsIGFzc3VtZSB0aGlzIGlzIHRoZSBmaXJzdCBhdHRlbXB0IGlmIC5qc29uKCkgZmFpbHMuXG4gICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VUZXh0Rm9yRXJyb3IgPSBcIkNvdWxkIG5vdCByZWFkIHJlc3BvbnNlIGJvZHkuXCJcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyByZWZlcmVuY2UgdG8gdGhlIHJlc3BvbnNlIHRvIHJlYWQgaXRzIGJvZHkgYXMgdGV4dFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgc2ltcGxpZmllZCBhcHByb2FjaC4gSW4gbW9yZSBjb21wbGV4IHNjZW5hcmlvcywgeW91IG1pZ2h0IGNsb25lIHRoZSByZXNwb25zZSBlYXJsaWVyLlxuICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkUmVzcG9uc2UgPSByZXNwb25zZS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0Rm9yRXJyb3IgPSBhd2FpdCBjbG9uZWRSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBnZXQgdGV4dCBmcm9tIHJlc3BvbnNlIGFmdGVyIEpTT04gcGFyc2UgZmFpbGVkXCIsIGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgcmVzcG9uc2Ugd2FzIG5vdCB2YWxpZCBKU09OLiBSZWNlaXZlZDogJHtyZXNwb25zZVRleHRGb3JFcnJvci5zdWJzdHJpbmcoMCwgMjAwKX0uLi5gKTtcbiAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jYW5kaWRhdGVzICYmIHJlc3VsdC5jYW5kaWRhdGVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIHJlc3VsdC5jYW5kaWRhdGVzWzBdLmNvbnRlbnQgJiYgcmVzdWx0LmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0cyAmJlxuICAgICAgICAgICAgICAgICAgcmVzdWx0LmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gcmVzdWx0LmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ29udGVudCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbFR5cGUgPT09ICdsZXNzb25QbGFuJykge1xuICAgICAgICAgICAgICAgICAgICBzZXRMYXN0R2VuZXJhdGVkTGVzc29uUGxhbih0ZXh0KTsgLy8gU2F2ZSBpZiBpdCdzIGEgbGVzc29uIHBsYW5cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldExhc3RHZW5lcmF0ZWRMZXNzb25QbGFuKG51bGwpOyAvLyBDbGVhciBpZiBpdCdzIG5vdFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBBUEkgcmVzcG9uc2Ugc3RydWN0dXJlOicsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5wcm9tcHRGZWVkYmFjayAmJiByZXN1bHQucHJvbXB0RmVlZGJhY2suYmxvY2tSZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250ZW50IGdlbmVyYXRpb24gYmxvY2tlZDogJHtyZXN1bHQucHJvbXB0RmVlZGJhY2suYmxvY2tSZWFzb259IC0gJHtyZXN1bHQucHJvbXB0RmVlZGJhY2suYmxvY2tSZWFzb25NZXNzYWdlIHx8ICcnfWApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb250ZW50IGdlbmVyYXRlZCBvciB1bmV4cGVjdGVkIHJlc3BvbnNlIHN0cnVjdHVyZS4nKTtcbiAgICAgICAgICAgICAgICAgIHNldExhc3RHZW5lcmF0ZWRMZXNzb25QbGFuKG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIGNvbnRlbnQ6XCIsIGVycik7XG4gICAgICAgICAgICAgIHNldEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUgY29udGVudC4gJHtlcnIubWVzc2FnZX0uIFBsZWFzZSBjaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmApO1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDb250ZW50KCcnKTtcbiAgICAgICAgICAgICAgc2V0TGFzdEdlbmVyYXRlZExlc3NvblBsYW4obnVsbCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlR2VuZXJhdGVXb3Jrc2hlZXRGcm9tTGVzc29uUGxhbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghbGFzdEdlbmVyYXRlZExlc3NvblBsYW4pIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcihcIk5vIGxlc3NvbiBwbGFuIGF2YWlsYWJsZSB0byBnZW5lcmF0ZSBhIHdvcmtzaGVldCBmcm9tLiBQbGVhc2UgZ2VuZXJhdGUgYSBsZXNzb24gcGxhbiBmaXJzdC5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RXJyb3IoJycpO1xuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ29udGVudCgnJyk7XG4gICAgICAgICAgICBzZXRVcGxvYWRTdGF0dXMoJycpO1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9tcHRGb3JXb3Jrc2hlZXQgPSBjb25zdHJ1Y3RQcm9tcHQodHJ1ZSwgbGFzdEdlbmVyYXRlZExlc3NvblBsYW4pO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCBjaGF0SGlzdG9yeSA9IFtdO1xuICAgICAgICAgICAgICAgIGNoYXRIaXN0b3J5LnB1c2goeyByb2xlOiBcInVzZXJcIiwgcGFydHM6IFt7IHRleHQ6IHByb21wdEZvcldvcmtzaGVldCB9XSB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0geyBjb250ZW50czogY2hhdEhpc3RvcnkgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcGlLZXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxsbUFwaVVybCA9IGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS0yLjAtZmxhc2g6Z2VuZXJhdGVDb250ZW50P2tleT0ke2FwaUtleX1gO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsbG1BcGlVcmwsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yVGV4dCA9IGBBUEkgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclRleHQgKz0gYC4gUmVzcG9uc2U6ICR7dGV4dC5zdWJzdHJpbmcoMCwgNTAwKX0ke3RleHQubGVuZ3RoID4gNTAwID8gJy4uLicgOiAnJ31gO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoICh0ZXh0RXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclRleHQgKz0gXCIuIEFkZGl0aW9uYWxseSwgZmFpbGVkIHRvIHJlYWQgcmVzcG9uc2UgdGV4dC5cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3IgRnVsbCBSZXNwb25zZSBUZXh0IChpZiBhdmFpbGFibGUpOicsIGVycm9yVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclRleHQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGpzb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIEFQSSByZXNwb25zZSBhcyBKU09OOlwiLCBqc29uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VUZXh0Rm9yRXJyb3IgPSBcIkNvdWxkIG5vdCByZWFkIHJlc3BvbnNlIGJvZHkuXCJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkUmVzcG9uc2UgPSByZXNwb25zZS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVRleHRGb3JFcnJvciA9IGF3YWl0IGNsb25lZFJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBnZXQgdGV4dCBmcm9tIHJlc3BvbnNlIGFmdGVyIEpTT04gcGFyc2UgZmFpbGVkXCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIHJlc3BvbnNlIHdhcyBub3QgdmFsaWQgSlNPTiB3aGVuIGdlbmVyYXRpbmcgd29ya3NoZWV0LiBSZWNlaXZlZDogJHtyZXNwb25zZVRleHRGb3JFcnJvci5zdWJzdHJpbmcoMCwyMDApfS4uLmApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY2FuZGlkYXRlcyAmJiByZXN1bHQuY2FuZGlkYXRlcy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jYW5kaWRhdGVzWzBdLmNvbnRlbnQgJiYgcmVzdWx0LmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0cyAmJlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHJlc3VsdC5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ29udGVudCh0ZXh0KTsgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb250ZW50IGdlbmVyYXRlZCBmb3Igd29ya3NoZWV0IG9yIHVuZXhwZWN0ZWQgcmVzcG9uc2Ugc3RydWN0dXJlLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIHdvcmtzaGVldCBmcm9tIGxlc3NvbiBwbGFuOlwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIHNldEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUgd29ya3NoZWV0OiAke2Vyci5tZXNzYWdlfS5gKTtcbiAgICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDb250ZW50KCcnKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgaGFzU2Vlbk1vZGFsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hhc1NlZW5FZHVjYXRpb25hbE1hdGVyaWFsSW5mb01vZGFsVjExX1dvcmtzaGVldEZyb21MUCcpOyBcbiAgICAgICAgICBpZiAoIWhhc1NlZW5Nb2RhbCkge1xuICAgICAgICAgICAgICBzZXRTaG93SW5mb01vZGFsKHRydWUpO1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGFzU2VlbkVkdWNhdGlvbmFsTWF0ZXJpYWxJbmZvTW9kYWxWMTFfV29ya3NoZWV0RnJvbUxQJywgJ3RydWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U3ViamVjdHNMaXN0KE9iamVjdC5rZXlzKGFsbEN1cnJpY3VsYURhdGEpKTtcbiAgICAgICAgfSwgW10pOyBcblxuICAgICAgICBjb25zdCBDdXN0b21TZWxlY3QgPSAoeyBpZCwgdmFsdWUsIG9uQ2hhbmdlLCBvcHRpb25zLCBwbGFjZWhvbGRlciwgZGlzYWJsZWQgfSkgPT4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsXCI+XG4gICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZCB8fCBvcHRpb25zLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHAtMyBwci0xMCBiZy1zbGF0ZS03MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS02MDAgcm91bmRlZC1tZCBzaGFkb3ctc20gZm9jdXM6cmluZy1za3ktNTAwIGZvY3VzOmJvcmRlci1za3ktNTAwIHRleHQtZ3JheS0xMDAgcGxhY2Vob2xkZXItc2xhdGUtNDAwIGFwcGVhcmFuY2Utbm9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Rpc2FibGVkIHx8IG9wdGlvbnMubGVuZ3RoID09PSAwID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj57cGxhY2Vob2xkZXJ9PC9vcHRpb24+XG4gICAgICAgICAgICAgIHtvcHRpb25zLm1hcChvcHQgPT4gPG9wdGlvbiBrZXk9e29wdH0gdmFsdWU9e29wdH0+e29wdH08L29wdGlvbj4pfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8Q2hldnJvbkRvd25JY29uIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1zbGF0ZS00MDAgYWJzb2x1dGUgcmlnaHQtMyB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIHBvaW50ZXItZXZlbnRzLW5vbmVcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuXG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLXNsYXRlLTkwMCB0by1zbGF0ZS04MDAgdGV4dC1ncmF5LTEwMCBwLTQgc206cC02IGxnOnAtOCBmb250LXNhbnNcIj5cbiAgICAgICAgICAgIHtzaG93SW5mb01vZGFsICYmIDxJbmZvTW9kYWwgLz59XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwibWItNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIHNtOnRleHQtNHhsIGZvbnQtYm9sZCB0ZXh0LXRyYW5zcGFyZW50IGJnLWNsaXAtdGV4dCBiZy1ncmFkaWVudC10by1yIGZyb20tc2t5LTQwMCB0by1ibHVlLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIEFJLVBvd2VyZWQgQ3VycmljdWx1bSBBc3Npc3RhbnRcbiAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxDb250ZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2h0bWxDb250ZW50XSwgeyB0eXBlOiAndGV4dC9odG1sJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSAnQUlfQ3VycmljdWx1bV9BcHAuaHRtbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEb3dubG9hZCBBcHAgU291cmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBiZy1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNjAwIHJvdW5kZWQtZnVsbCB0ZXh0LXNreS00MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RG93bmxvYWRJY29uIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LW1kIHRleHQtc2xhdGUtMzAwXCI+XG4gICAgICAgICAgICAgICAgICBZb3VyIFBhcnRuZXIgaW4gQ3JhZnRpbmcgRWR1Y2F0aW9uYWwgTWF0ZXJpYWxzXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0zIHRleHQtc20gdGV4dC1zbGF0ZS00MDBcIj5cbiAgICAgICAgICAgICAgICAgIFNlbGVjdCB5b3VyIHN1YmplY3QgYW5kIG9wdGlvbnMgYmVsb3cgdG8gZ2VuZXJhdGUgY3VzdG9taXplZCBjb250ZW50LlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW5mb01vZGFsKHRydWUpfSBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC0yIHRleHQtc2t5LTQwMCBob3Zlcjp0ZXh0LXNreS0zMDAgdW5kZXJsaW5lIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJIb3cgdG8gdXNlIHRoaXMgdG9vbFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgKEhvdyB0byB1c2UgZWZmZWN0aXZlbHk/KVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgICB7LyogR29vZ2xlIEF1dGggU2VjdGlvbiAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IHAtNCBiZy1zbGF0ZS04MDAgcm91bmRlZC1sZyBzaGFkb3ctbWQgZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHNwYWNlLXktMyBzbTpzcGFjZS15LTBcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAge2lzTG9nZ2VkSW4gJiYgdXNlckluZm8gPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmVlbi00MDBcIj5Mb2dnZWQgaW4gYXM6IHt1c2VySW5mby5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNDAwXCI+TG9naW4gd2l0aCBHb29nbGUgdG8gc2F2ZSBvciBvcGVuIGFzIEdvb2dsZSBEb2MuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2dvb2dsZUF1dGhFcnJvciAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTQwMCBtdC0xXCI+e2dvb2dsZUF1dGhFcnJvcn08L3A+fVxuICAgICAgICAgICAgICAgICAgICAgICB7R09PR0xFX0NMSUVOVF9JRCA9PT0gJ1lPVVJfR09PR0xFX0NMSUVOVF9JRCcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQteWVsbG93LTQwMCBtdC0xXCI+R29vZ2xlIENsaWVudCBJRCBub3QgY29uZmlndXJlZC4gTG9naW4vVXBsb2FkIHdpbGwgbm90IHdvcmsuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHtpc0xvZ2dlZEluID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR29vZ2xlTG9nb3V0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBiZy1yZWQtNjAwIGhvdmVyOmJnLXJlZC03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLW1kIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExvZ091dEljb24gY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz4gTG9nb3V0XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR29vZ2xlTG9naW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshZ2FwaUxvYWRlZCB8fCAhZ2lzTG9hZGVkIHx8IEdPT0dMRV9DTElFTlRfSUQgPT09ICdZT1VSX0dPT0dMRV9DTElFTlRfSUQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCBkaXNhYmxlZDpiZy1zbGF0ZS02MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLW1kIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8TG9nSW5JY29uIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+IExvZ2luIHdpdGggR29vZ2xlXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuXG4gICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCBzaGFkb3ctMnhsIHJvdW5kZWQteGwgcC02IHNtOnAtOCBzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJtYXRlcmlhbFR5cGVcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2t5LTMwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgIFR5cGUgb2YgTWF0ZXJpYWxcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTNcIj4gXG4gICAgICAgICAgICAgICAgICAgIHttYXRlcmlhbFR5cGVzLm1hcCgodHlwZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dHlwZS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hdGVyaWFsVHlwZSh0eXBlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZS5pZCAhPT0gJ2xlc3NvblBsYW4nKSB7IC8vIENsZWFyIGxhc3QgbGVzc29uIHBsYW4gaWYgdXNlciBzZWxlY3RzIHNvbWV0aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RHZW5lcmF0ZWRMZXNzb25QbGFuKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTMgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgZWFzZS1pbi1vdXQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXNreS01MDAgZm9jdXM6cmluZy1vcGFjaXR5LTc1XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7bWF0ZXJpYWxUeXBlID09PSB0eXBlLmlkID8gJ2JnLXNreS02MDAgdGV4dC13aGl0ZSBzaGFkb3ctbWQgc2NhbGUtMTA1JyA6ICdiZy1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNjAwIHRleHQtc2xhdGUtMzAwIGhvdmVyOnRleHQtd2hpdGUnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge3R5cGUuaWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm10LTEgc206bXQtMCBzbTptbC0yIHRleHQteHMgc206dGV4dC1zbSBmb250LW1lZGl1bVwiPnt0eXBlLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHtwYXJzZUVycm9yICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTcwMCBiZy1vcGFjaXR5LTgwIGJvcmRlciBib3JkZXItcmVkLTkwMCB0ZXh0LXJlZC0xMDAgcC0zIHJvdW5kZWQtbWQgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkludGVybmFsIEN1cnJpY3VsdW0gRGF0YSBFcnJvcjo8L3N0cm9uZz4ge3BhcnNlRXJyb3J9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD5UaGUgcHJlLWxvYWRlZCBjdXJyaWN1bHVtIGRhdGEgY291bGQgbm90IGJlIHBhcnNlZC4gUGxlYXNlIGNoZWNrIHRoZSBjb25zb2xlIGZvciBkZXRhaWxzLiBEcm9wZG93bnMgbWF5IG5vdCBmdW5jdGlvbiBjb3JyZWN0bHkuPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInN1YmplY3RTZWxlY3RcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2t5LTMwMCBtYi0xXCI+U3ViamVjdDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8Q3VzdG9tU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJzdWJqZWN0U2VsZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRTdWJqZWN0fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRTdWJqZWN0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtzdWJqZWN0c0xpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgU3ViamVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1YmplY3RzTGlzdC5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInVuaXRTZWxlY3RcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2t5LTMwMCBtYi0xXCI+VW5pdDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPEN1c3RvbVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInVuaXRTZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRVbml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkVW5pdChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3VuaXRzTGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgVW5pdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshc2VsZWN0ZWRTdWJqZWN0IHx8IHVuaXRzTGlzdC5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInRvcGljU2VsZWN0XCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNreS0zMDAgbWItMVwiPlRvcGljIC8gNWUgU2VxdWVuY2U8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxDdXN0b21TZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ0b3BpY1NlbGVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFRvcGljfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkVG9waWMoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXt0b3BpY3NMaXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBUb3BpYy9TZXF1ZW5jZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshc2VsZWN0ZWRVbml0IHx8IHRvcGljc0xpc3QubGVuZ3RoID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJsZXNzb25TZWxlY3RcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2t5LTMwMCBtYi0xXCI+TGVzc29uPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8Q3VzdG9tU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibGVzc29uU2VsZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkTGVzc29ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkTGVzc29uKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17bGVzc29uc0xpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IExlc3NvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshc2VsZWN0ZWRUb3BpYyB8fCBsZXNzb25zTGlzdC5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzb3VyY2VUZXh0XCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNreS0zMDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICBBZGRpdGlvbmFsIFNvdXJjZSBUZXh0IChPcHRpb25hbClcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJzb3VyY2VUZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NvdXJjZVRleHR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U291cmNlVGV4dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHJvd3M9XCI1XCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBiZy1zbGF0ZS03MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS02MDAgcm91bmRlZC1tZCBzaGFkb3ctc20gZm9jdXM6cmluZy1za3ktNTAwIGZvY3VzOmJvcmRlci1za3ktNTAwIHRleHQtZ3JheS0xMDAgcGxhY2Vob2xkZXItc2xhdGUtNDAwXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXN0ZSByZWxldmFudCB0ZXh0IGZyb20geW91ciBjdXJyaWN1bHVtIGRvY3VtZW50cywga2V5IGNvbmNlcHRzLCB2b2NhYnVsYXJ5LCBvciBzcGVjaWZpYyBpbnN0cnVjdGlvbnMgaGVyZS4uLiBUaGlzIHRleHQgd2lsbCBiZSB1c2VkIElOIEFERElUSU9OIHRvIHRoZSBzZWxlY3RlZCBVbml0L1RvcGljL0xlc3Nvbi5cIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICBQcm92aWRlIHNwZWNpZmljIGNvbnRlbnQgZXhjZXJwdHMgaGVyZSB0byBmdXJ0aGVyIGd1aWRlIHRoZSBBSS4gSWYgbm8gY3VycmljdWx1bSBpcyBzZWxlY3RlZCBhYm92ZSwgdGhpcyBmaWVsZCBjYW4gZGVmaW5lIHRoZSBnZW5lcmFsIHRvcGljLlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1za3ktNTAwIHRvLWJsdWUtNjAwIGhvdmVyOmZyb20tc2t5LTYwMCBob3Zlcjp0by1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMyBweC00IHJvdW5kZWQtbWQgc2hhZG93LW1kIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwIGVhc2UtaW4tb3V0IGRpc2FibGVkOm9wYWNpdHktNzAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXJJY29uIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgR2VuZXJhdGluZy4uLlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICdHZW5lcmF0ZSBNYXRlcmlhbCdcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZm9ybT5cblxuICAgICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBiZy1yZWQtNzAwIGJnLW9wYWNpdHktODAgYm9yZGVyIGJvcmRlci1yZWQtOTAwIHRleHQtcmVkLTEwMCBwLTQgcm91bmRlZC1tZCBmbGV4IGl0ZW1zLXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZUljb24gY2xhc3NOYW1lPVwidy01IGgtNSBtci0zIGZsZXgtc2hyaW5rLTAgbXQtMC41XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5FcnJvcjwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPntlcnJvcn08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7Z2VuZXJhdGVkQ29udGVudCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGJnLXNsYXRlLTgwMCBzaGFkb3ctMnhsIHJvdW5kZWQteGwgcC02IHNtOnAtOFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIHRleHQtc2t5LTQwMCBtYi0yIHNtOm1iLTBcIj5HZW5lcmF0ZWQgTWF0ZXJpYWw8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsdWUgPSBnZW5lcmF0ZWRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dGFyZWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcHlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29weVRvQ2xpcGJvYXJkQnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvcHlCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGNvcHlCdXR0b24uaW5uZXJUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weUJ1dHRvbi5pbm5lclRleHQgPSAnQ29waWVkISc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgY29weUJ1dHRvbi5pbm5lclRleHQgPSBvcmlnaW5hbFRleHQ7IH0sIDIwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyBhbGVydCgnQ29udGVudCBjb3BpZWQgdG8gY2xpcGJvYXJkIScpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7IGFsZXJ0KCdGYWlsZWQgdG8gY29weSBjb250ZW50LicpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJjb3B5VG9DbGlwYm9hcmRCdXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctdGVhbC02MDAgaG92ZXI6YmctdGVhbC03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtMyByb3VuZGVkLW1kIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3B5IHRvIENsaXBib2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzTG9nZ2VkSW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVVwbG9hZFRvRHJpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZ0RvYyB8fCAhZ2FwaUxvYWRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIGRpc2FibGVkOmJnLXNsYXRlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMiBweC0zIHJvdW5kZWQtbWQgdHJhbnNpdGlvbiBkdXJhdGlvbi0xNTAgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNQcm9jZXNzaW5nRG9jICYmIHVwbG9hZFN0YXR1cy5pbmNsdWRlcyhcIlVwbG9hZGluZ1wiKSA/IDxMb2FkZXJJY29uIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiLz4gOiA8VXBsb2FkQ2xvdWRJY29uIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1Byb2Nlc3NpbmdEb2MgJiYgdXBsb2FkU3RhdHVzLmluY2x1ZGVzKFwiVXBsb2FkaW5nXCIpID8gJ1VwbG9hZGluZy4uLicgOiAnVXBsb2FkIHRvIERyaXZlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzTG9nZ2VkSW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU9wZW5Jbkdvb2dsZURvY3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZ0RvYyB8fCAhZ2FwaUxvYWRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBiZy1za3ktNTAwIGhvdmVyOmJnLXNreS02MDAgZGlzYWJsZWQ6Ymctc2xhdGUtNjAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0yIHB4LTMgcm91bmRlZC1tZCB0cmFuc2l0aW9uIGR1cmF0aW9uLTE1MCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1Byb2Nlc3NpbmdEb2MgJiYgdXBsb2FkU3RhdHVzLmluY2x1ZGVzKFwiQ3JlYXRpbmdcIikgPyA8TG9hZGVySWNvbiBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIi8+IDogPEV4dGVybmFsTGlua0ljb24gY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNQcm9jZXNzaW5nRG9jICYmIHVwbG9hZFN0YXR1cy5pbmNsdWRlcyhcIkNyZWF0aW5nXCIpID8gJ0NyZWF0aW5nIERvYy4uLicgOiAnT3BlbiBpbiBHb29nbGUgRG9jcyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge3VwbG9hZFN0YXR1cyAmJiA8cCBjbGFzc05hbWU9e2B0ZXh0LXhzIG10LTIgbWItMyAke3VwbG9hZFN0YXR1cy5zdGFydHNXaXRoKCdTdWNjZXNzJykgfHwgdXBsb2FkU3RhdHVzLmluY2x1ZGVzKCdPcGVuaW5nJykgPyAndGV4dC1ncmVlbi00MDAnIDogJ3RleHQtcmVkLTQwMCd9YH0+e3VwbG9hZFN0YXR1c308L3A+fVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogQnV0dG9uIHRvIGdlbmVyYXRlIHdvcmtzaGVldCBmcm9tIGxlc3NvbiBwbGFuICovfVxuICAgICAgICAgICAgICAgICAge2xhc3RHZW5lcmF0ZWRMZXNzb25QbGFuICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHB0LTQgYm9yZGVyLXQgYm9yZGVyLXNsYXRlLTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlV29ya3NoZWV0RnJvbUxlc3NvblBsYW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ30gLy8gRGlzYWJsZSBpZiBhbnkgZ2VuZXJhdGlvbiBpcyBpbiBwcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1pbmRpZ28tNjAwIGhvdmVyOmJnLWluZGlnby03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLW1kIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwIHRleHQtc20gZGlzYWJsZWQ6b3BhY2l0eS03MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8RWRpdDNJY29uIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBHZW5lcmF0ZSBXb3Jrc2hlZXQgZm9yIHRoaXMgTGVzc29uIFBsYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvc2UgcHJvc2UtaW52ZXJ0IHByb3NlLXNtIHNtOnByb3NlLWJhc2UgbWF4LXctbm9uZSBiZy1zbGF0ZS03MDAgcC00IHJvdW5kZWQtbWQgd2hpdGVzcGFjZS1wcmUtd3JhcCBvdmVyZmxvdy14LWF1dG8gbXQtNFwiPlxuICAgICAgICAgICAgICAgICAgICB7Z2VuZXJhdGVkQ29udGVudH1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtdC0xMiBweS02IGJvcmRlci10IGJvcmRlci1zbGF0ZS03MDAgcHgtNFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICBBSS1Qb3dlcmVkIEN1cnJpY3VsdW0gQXNzaXN0YW50ICZjb3B5OyB7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfS4gQWxsIFJpZ2h0cyBSZXNlcnZlZCAoZm9yIHRoaXMgdG9vbCdzIFVJKS5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwIG10LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxzdHJvbmc+RGlzY2xhaW1lcjo8L3N0cm9uZz4gVGhpcyB0b29sIHVzZXMgYXJ0aWZpY2lhbCBpbnRlbGxpZ2VuY2UgdG8gZ2VuZXJhdGUgZWR1Y2F0aW9uYWwgbWF0ZXJpYWxzLiBcbiAgICAgICAgICAgICAgICAgIEFsbCBnZW5lcmF0ZWQgY29udGVudCBzaG91bGQgYmUgY2FyZWZ1bGx5IHJldmlld2VkIGJ5IHF1YWxpZmllZCBlZHVjYXRvcnMgZm9yIGFjY3VyYWN5LCBjb21wbGV0ZW5lc3MsIFxuICAgICAgICAgICAgICAgICAgYW5kIHBlZGFnb2dpY2FsIHNvdW5kbmVzcyBiZWZvcmUgdXNlIGluIGFueSBlZHVjYXRpb25hbCBzZXR0aW5nLiBUaGUgdXNlciBhc3N1bWVzIGZ1bGwgcmVzcG9uc2liaWxpdHkgXG4gICAgICAgICAgICAgICAgICBmb3IgdGhlIGFwcGxpY2F0aW9uIG9mIGFueSBtYXRlcmlhbHMgZ2VuZXJhdGVkIGJ5IHRoaXMgdG9vbC5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbmRlciB0aGUgQXBwIHRvIHRoZSBET01cbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XG4gICAgICBjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChjb250YWluZXIpO1xuICAgICAgcm9vdC5yZW5kZXIoPEFwcCAvPik7XG4gICAgIl0sIm1hcHBpbmdzIjoiOzs7K0NBQ0EsbUtBQUFBLG1CQUFBLFlBQUFBLG9CQUFBLFdBQUFDLENBQUEsU0FBQUMsQ0FBQSxFQUFBRCxDQUFBLE9BQUFFLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxTQUFBLEVBQUFDLENBQUEsR0FBQUgsQ0FBQSxDQUFBSSxjQUFBLEVBQUFDLENBQUEsd0JBQUFDLE1BQUEsR0FBQUEsTUFBQSxPQUFBQyxDQUFBLEdBQUFGLENBQUEsQ0FBQUcsUUFBQSxrQkFBQUMsQ0FBQSxHQUFBSixDQUFBLENBQUFLLGFBQUEsdUJBQUFDLENBQUEsR0FBQU4sQ0FBQSxDQUFBTyxXQUFBLDhCQUFBQyxFQUFBZCxDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxFQUFBRyxDQUFBLElBQUFGLE1BQUEsQ0FBQWEsY0FBQSxDQUFBZixDQUFBLEVBQUFELENBQUEsSUFBQWlCLEtBQUEsRUFBQWYsQ0FBQSxFQUFBZ0IsVUFBQSxHQUFBYixDQUFBLEVBQUFjLFlBQUEsR0FBQWQsQ0FBQSxFQUFBZSxRQUFBLEdBQUFmLENBQUEsYUFBQVUsQ0FBQSxtQkFBQWQsQ0FBQSxJ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</script><style id="googleidentityservice_button_styles">.qJTHM{-webkit-user-select:none;color:#202124;direction:ltr;-webkit-touch-callout:none;font-family:"Roboto-Regular",arial,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;margin:0;overflow:hidden;-webkit-text-size-adjust:100%}.ynRLnc{left:-9999px;position:absolute;top:-9999px}.L6cTce{display:none}.bltWBb{word-break:break-all}.hSRGPd{color:#1a73e8;cursor:pointer;font-weight:500;text-decoration:none}.Bz112c-W3lGp{height:16px;width:16px}.Bz112c-E3DyYd{height:20px;width:20px}.Bz112c-r9oPif{height:24px;width:24px}.Bz112c-r4WDKb{height:42px;width:42px}.Bz112c-uaxL4e{-webkit-border-radius:10px;border-radius:10px}.LgbsSe-Bz112c{display:block}.S9gUrf-YoZ4jf,.S9gUrf-YoZ4jf *{border:none;margin:0;padding:0}.fFW7wc-ibnC6b>.aZ2wEe>div{border-color:#4285f4}.P1ekSe-ZMv3u>div:nth-child(1){background-color:#1a73e8!important}.P1ekSe-ZMv3u>div:nth-child(2),.P1ekSe-ZMv3u>div:nth-child(3){background-image:linear-gradient(to right,rgba(255,255,255,.7),rgba(255,255,255,.7)),linear-gradient(to right,#1a73e8,#1a73e8)!important}.haAclf{display:inline-block}.nsm7Bb-HzV7m-LgbsSe{-webkit-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s;transition:background-color .218s,border-color .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dadce0;color:#3c4043;cursor:pointer;font-family:"Google Sans",arial,sans-serif;font-size:14px;height:40px;letter-spacing:0.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}@media screen and (-ms-high-contrast:active){.nsm7Bb-HzV7m-LgbsSe{border:2px solid windowText;color:windowText}}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe{font-size:14px;height:32px;letter-spacing:0.25px;padding:0 10px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe{font-size:11px;height:20px;letter-spacing:0.3px;padding:0 8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe{padding:0;width:40px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe{width:32px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe{width:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK{-webkit-border-radius:20px;border-radius:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.pSzOP-SxQuSe{-webkit-border-radius:16px;border-radius:16px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.purZT-SxQuSe{-webkit-border-radius:10px;border-radius:10px}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc{border:none;color:#fff}.nsm7Bb-HzV7m-LgbsSe.MFS4be-v3pZbf-Ia7Qfc{background-color:#1a73e8}.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{background-color:#202124;color:#e8eaed}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:18px;margin-right:8px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:14px;min-width:14px;width:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:10px;min-width:10px;width:10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin-left:8px;margin-right:-4px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:10px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:4px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;height:36px;margin-left:-10px;margin-right:12px;min-width:36px;width:36px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c,.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:28px;margin-left:-8px;margin-right:10px;min-width:28px;width:28px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:16px;margin-left:-6px;margin-right:8px;min-width:16px;width:16px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:3px;border-radius:3px;margin-left:2px;margin-right:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:14px;border-radius:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:8px;border-radius:8px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:100%;position:relative;width:100%}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX{justify-content:center}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:1;flex-grow:1;font-family:"Google Sans",arial,sans-serif;font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-weight:300}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:0;flex-grow:0}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-MJoBVe{-webkit-transition:background-color .218s;transition:background-color .218s;bottom:0;left:0;position:absolute;right:0;top:0}.nsm7Bb-HzV7m-LgbsSe:hover,.nsm7Bb-HzV7m-LgbsSe:focus{-webkit-box-shadow:none;box-shadow:none;border-color:rgb(210,227,252);outline:none}.nsm7Bb-HzV7m-LgbsSe:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.04)}.nsm7Bb-HzV7m-LgbsSe:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.1)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.24)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.32)}.nsm7Bb-HzV7m-LgbsSe .n1UuX-DkfjY{-webkit-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;height:20px;margin-left:-4px;margin-right:8px;min-width:20px;width:20px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-family:"Roboto";font-size:12px;text-align:left}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .ssJRIf,.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .fmcmS{overflow:hidden;text-overflow:ellipsis}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;color:#5f6368;fill:#5f6368;font-size:11px;font-weight:400}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#e8eaed;fill:#e8eaed}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .Bz112c{height:18px;margin:-3px -3px -3px 2px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px;margin-left:12px;margin-right:-10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.L5Fo6c-sM5MNb{border:0;display:block;left:0;position:relative;top:0}.L5Fo6c-bF1uUb{-webkit-border-radius:4px;border-radius:4px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.L5Fo6c-bF1uUb:focus{border:none;outline:none}sentinel{}</style></head>
<body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"><div class="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-gray-100 p-4 sm:p-6 lg:p-8 font-sans"><div class="max-w-4xl mx-auto"><header class="mb-6 text-center"><div class="flex justify-between items-center mb-2"><h1 class="text-3xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-blue-500">AI-Powered Curriculum Assistant</h1><button title="Download App Source" class="p-2 bg-slate-700 hover:bg-slate-600 rounded-full text-sky-400 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg></button></div><p class="mt-1 text-md text-slate-300">Your Partner in Crafting Educational Materials</p><p class="mt-3 text-sm text-slate-400">Select your subject and options below to generate customized content.<button class="ml-2 text-sky-400 hover:text-sky-300 underline text-xs" aria-label="How to use this tool">(How to use effectively?)</button></p></header><div class="mb-6 p-4 bg-slate-800 rounded-lg shadow-md flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0"><div><p class="text-sm text-slate-400">Login with Google to save or open as Google Doc.</p></div><button class="flex items-center bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 text-white font-semibold py-2 px-4 rounded-md transition duration-150 text-sm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg> Login with Google</button></div><form class="bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8 space-y-6"><div><label for="materialType" class="block text-sm font-medium text-sky-300 mb-1">Type of Material</label><div class="grid grid-cols-2 md:grid-cols-4 gap-3"><button type="button" class="flex flex-col sm:flex-row items-center justify-center p-3 rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-75
                          bg-sky-600 text-white shadow-md scale-105"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-2"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg><span class="mt-1 sm:mt-0 sm:ml-2 text-xs sm:text-sm font-medium">Lesson Plan</span></button><button type="button" class="flex flex-col sm:flex-row items-center justify-center p-3 rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-75
                          bg-slate-700 hover:bg-slate-600 text-slate-300 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><line x1="10" y1="9" x2="8" y2="9"></line></svg><span class="mt-1 sm:mt-0 sm:ml-2 text-xs sm:text-sm font-medium">Worksheet</span></button><button type="button" class="flex flex-col sm:flex-row items-center justify-center p-3 rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-75
                          bg-slate-700 hover:bg-slate-600 text-slate-300 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg><span class="mt-1 sm:mt-0 sm:ml-2 text-xs sm:text-sm font-medium">Reading Material</span></button><button type="button" class="flex flex-col sm:flex-row items-center justify-center p-3 rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-75
                          bg-slate-700 hover:bg-slate-600 text-slate-300 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-2"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg><span class="mt-1 sm:mt-0 sm:ml-2 text-xs sm:text-sm font-medium">Cluster Questions</span></button></div></div><div><label for="subjectSelect" class="block text-sm font-medium text-sky-300 mb-1">Subject</label><div class="relative w-full"><select id="subjectSelect" class="w-full p-3 pr-10 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400 appearance-none
                          "><option value="">Select Subject</option><option value="Biology">Biology</option><option value="Earth &amp; Space Science">Earth &amp; Space Science</option></select><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"><polyline points="6 9 12 15 18 9"></polyline></svg></div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label for="unitSelect" class="block text-sm font-medium text-sky-300 mb-1">Unit</label><div class="relative w-full"><select id="unitSelect" disabled="" class="w-full p-3 pr-10 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400 appearance-none
                          opacity-50 cursor-not-allowed"><option value="">Select Unit</option></select><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"><polyline points="6 9 12 15 18 9"></polyline></svg></div></div><div><label for="topicSelect" class="block text-sm font-medium text-sky-300 mb-1">Topic / 5e Sequence</label><div class="relative w-full"><select id="topicSelect" disabled="" class="w-full p-3 pr-10 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400 appearance-none
                          opacity-50 cursor-not-allowed"><option value="">Select Topic/Sequence</option></select><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"><polyline points="6 9 12 15 18 9"></polyline></svg></div></div><div><label for="lessonSelect" class="block text-sm font-medium text-sky-300 mb-1">Lesson</label><div class="relative w-full"><select id="lessonSelect" disabled="" class="w-full p-3 pr-10 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400 appearance-none
                          opacity-50 cursor-not-allowed"><option value="">Select Lesson</option></select><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"><polyline points="6 9 12 15 18 9"></polyline></svg></div></div></div><div><label for="sourceText" class="block text-sm font-medium text-sky-300 mb-1">Additional Source Text (Optional)</label><textarea id="sourceText" rows="5" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400" placeholder="Paste relevant text from your curriculum documents, key concepts, vocabulary, or specific instructions here... This text will be used IN ADDITION to the selected Unit/Topic/Lesson."></textarea><p class="mt-1 text-xs text-slate-500">Provide specific content excerpts here to further guide the AI. If no curriculum is selected above, this field can define the general topic.</p></div><button type="submit" class="w-full flex items-center justify-center bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white font-semibold py-3 px-4 rounded-md shadow-md transition duration-150 ease-in-out disabled:opacity-70 disabled:cursor-not-allowed">Generate Material</button></form></div><footer class="text-center mt-12 py-6 border-t border-slate-700 px-4"><p class="text-sm text-slate-400">AI-Powered Curriculum Assistant  2025. All Rights Reserved (for this tool's UI).</p><p class="text-xs text-slate-500 mt-2"><strong>Disclaimer:</strong> This tool uses artificial intelligence to generate educational materials. All generated content should be carefully reviewed by qualified educators for accuracy, completeness, and pedagogical soundness before use in any educational setting. The user assumes full responsibility for the application of any materials generated by this tool.</p></footer></div></div>

    <script type="text/babel">
      // --- Icon Components (Lucide-React inspired SVGs) ---
      const BookOpenIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
          <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
        </svg>
      );

      const ClipboardListIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect>
          <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
          <path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path>
        </svg>
      );

      const FileTextIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
          <polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line><line x1="10" y1="9" x2="8" y2="9"></line>
        </svg>
      );

      const HelpCircleIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
      );
      
      const LoaderIcon = ({ className }) => (
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={`${className} animate-spin`}>
              <line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line>
              <line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line>
              <line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line>
              <line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>
          </svg>
      );

      const AlertTriangleIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path>
          <line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
      );

      const ChevronDownIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      );

      const LogInIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
      );

      const LogOutIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
      );

      const UploadCloudIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M12 12v9"/><path d="m16 16-4-4-4 4"/></svg>
      );
      const ExternalLinkIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      );
      const Edit3Icon = ({ className }) => ( 
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
      );
      const DownloadIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      );


      // --- Google API Configuration ---
      const GOOGLE_CLIENT_ID = '937880952155-o3q3ocm7vcck3qnbkni74dcsnbfjpd0p.apps.googleusercontent.com';
      const GOOGLE_API_KEY = ''; 
      const DRIVE_API_DISCOVERY_DOCS = ["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"];
      const DRIVE_API_SCOPES = 'https://www.googleapis.com/auth/drive.file';


      // --- Curriculum Data and Parsing Logic ---
      const biologyPdfTextContent = `
New Visions Biology Curriculum Overview

Unit: Marathon Runner - Homeostasis
Driving Question: How does the human body maintain dynamic equilibrium and respond to internal and
external changes in its environment?
Anchor Phenomenon: Marathon Runner Collapse
Topic: Gas Exchange and Cellular Respiration
Investigative Question: Did the marathon runner run out of breath or not get enough oxygen?
- Planning Investigation on Sugar & Yeast
- Analyzing Cellular Respiration
- Constructing Input/Output Models
- Analyzing Blood Gas Levels
- Explaining Homeostasis Feedback
Topic: Muscles & Energy
Investigative Question: Did the marathon runner's muscles get tired?
- Exploring Muscle Fatigue
- ATP and Energy Models
System Interactions Analysis
- Applying Feedback Models
- Evidence-Based Explanation

Unit: Humans vs. Bacteria - Natural Selection and Evolution
Driving Question: How has evolution shaped how humans and bacteria interact? How can we prevent future
outbreaks of bacterial infections?
Anchor Phenomenon: The number of deaths from infectious diseases is increasing globally.
Topic: The Black Death
Investigative Question: Why were some people able to survive the Black Death?
- Historical Account Review
- Disease Transmission Simulation
- Evaluating Survival Claims
Trait Variation Analysis
Designing Cholera Prevention

Unit: Evolution of Sick Humans - Mismatch Between Body and Environment
Driving Question: How have our environments and culture changed over time? How have these changes
impacted our health?
Anchor Phenomenon: Student unable to digest dairy after arriving in NYC.
Topic: Lactase Persistence
Investigative Question: Why are some people able to digest dairy into adulthood?
Global Lactose Map Analysis
Digestive Sample Investigation
Genetic Explanation of Lactase
Mutation Impact Modeling
- Application to School Health Design

Unit: Saving the Mountain Lion - Genetics and Variation
Driving Question: How can we save the mountain lion?
Anchor Phenomenon: A mountain lion was hit by a car on a highway outside NYC.
Topic: Mountain Lion Populations
Investigative Question: How can we figure out where the Connecticut Cat came from?
- Intro Texts & Video
Genetic Data Analysis
Modeling Population Origin
Allele Frequency Review
- Habitat and Genetic Link

Unit: Food for All - Energy and Matter in Ecosystems
Driving Question: What caused an epidemic of pellagra in the early 20th century?
Anchor Phenomenon: Pellagra epidemic in the early 20th century Southeastern US.
Topic: The SuperFood That Changed the World
Investigative Question: Why was corn used as a primary source and was it the cause of pellagra?
- Historical Context Discussion
- Investigating Corn Dependency
Comparing Corn Processing Techniques
- Diet and Deficiency Mapping
Solution Planning for Nutrition Equity

Unit: Woolly Mammoth - Ecology and Biodiversity
Driving Question: What is the story of woolly mammoth extinction? What types of information do we need to
know in order to evaluate the cause of a species' extinction?
Anchor Phenomenon: Woolly Mammoth Extinction
Topic: Tuskless Elephants
Investigative Question: Why are there more tuskless elephants now than in the past?
- Analyzing Tuskless Population Graph
- Linking Poaching to Trait Changes
Conservation Concerns Discussion
- Designing Intervention Models
- Evaluating Extinction Arguments
`;

      const essPdfTextContent = `
Earth and Space Science Curriculum Overview

Unit 1: Discovering New Worlds
Performance Expectations: HS-ESS1-1, HS-ESS1-3, HS-ESS1-4
Anchor Phenomenon: Observation of a new exoplanet
Topic: How the Sun Works
- How does the Sun generate energy?
What is the composition of the Sun?
- What is the role of nuclear fusion?
Topic: Star Life Cycles
- How do stars change over time?
- What types of stars are stable?
What happens in a supernova?
Topic: Planets and Orbits
What factors allow planets to maintain stable temperature?
What is the importance of distance from a star?

Unit 2: Earthquakes, Volcanoes, and Tsunamis: Who's at Risk?
Performance Expectations: HS-ESS3-1, HS-ESS3-2
Anchor Phenomenon: A recent major geological event
Topic: Earthquake Risk
- How do earthquakes form?
Where is earthquake risk highest?
Topic: Volcano Risk
- Why do volcanoes form?
Which areas are most at risk for eruptions?
Topic: Tsunami Risk
- What causes tsunamis?
- How can we prepare for tsunamis?

Unit 3: Climate Change Throughout Human History
Performance Expectations: HS-ESS2-2, HS-ESS2-4, HS-ESS3-1
Anchor Phenomenon: Ice core data showing CO2 fluctuations
Topic: Earth's Climate Record
- How do we know Earth's climate has changed?
- What evidence shows long-term patterns?
Topic: Human Impacts
- How have humans affected climate?
- What are signs of anthropogenic climate change?
Topic: Natural Factors
- How do volcanoes and solar cycles affect climate?

Unit 4: More Hurricanes and Blizzards in NYC?
Performance Expectations: HS-ESS3-5, HS-ESS2-8
Anchor Phenomenon: Increased frequency of extreme weather events in NYC
Topic: Atmosphere and Weather Variables (3E)
- What is the atmosphere made of?
- How does air behave at different altitudes?
Topic: Blizzards (5E)
What causes blizzards?
- How can we predict severe winter storms?
Topic: Paths of Severe Storms (5E)
- Why do storms follow patterns?
- How do global winds affect storms?
Topic: Hurricanes (5E)
- How do hurricanes form?
- Why do hurricanes occur in patterns?

Unit 5: Equitable Solutions for a Sustainable Future
Performance Expectations: HS-ESS3-3, HS-ESS3-4, HS-ETS1-1
Anchor Phenomenon: Local community facing an environmental challenge
Topic: Design Thinking
- How can we design sustainable solutions?
- What are the criteria and constraints for solutions?
Topic: Environmental Justice
- What are the inequities in environmental impacts?
- How can solutions be equitable?
Topic: Local Action Plans
- How do we assess sustainability in our community?
- What projects can we implement?

Unit 6: Probability of Life Elsewhere
Performance Expectations: HS-ESS1-2, HS-ESS1-4, HS-ESS1-6, HS-ESS2-5, HS-ESS2-7
Anchor Phenomenon: The Drake Equation and Fermi Paradox
Topic: Stability of the Solar System (5E)
- How often do asteroids hit Earth?
- How was life affected by past impacts?
Topic: Coevolution of Earth and Life (5E)
- How did life evolve to intelligence?
- What conditions were required?
Topic: Origin of the Universe (5E)
- How did the universe form?
- How many galaxies exist?
- What does that mean for life elsewhere?
`;

      function parseCurriculumTextToStructure(text, subjectName) {
          const lines = text.split('\n').map(line => line.trim()).filter(line => line);
          const curriculum = { units: [] };
          let currentUnit = null;
          let currentTopic = null;
          let unitAnchorPhenomenon = null; 

          const ignoredLineStarts = [
              '--- PAGE',
              'New Visions Biology Curriculum Overview',
              'Earth and Space Science Curriculum Overview',
              'Driving Question:',
              'Investigative Question:',
              'Performance Expectations:'
          ];

          for (const line of lines) {
              if (ignoredLineStarts.some(start => line.startsWith(start) || line.match(/^HS-[A-Z0-9-]+/))) {
                  continue;
              }

              let unitMatch = line.match(/^Unit: (.*?) -/); 
              if (!unitMatch) {
                  unitMatch = line.match(/^Unit \d+: (.*)/); 
              }
              
              if (unitMatch) {
                  const unitTitle = unitMatch[1].trim();
                  currentUnit = { title: unitTitle, "5e_sequences": [] };
                  curriculum.units.push(currentUnit);
                  currentTopic = null;
                  unitAnchorPhenomenon = null; 
                  continue;
              }
              
              const anchorMatch = line.match(/^Anchor Phenomenon: (.*)/);
              if (anchorMatch && currentUnit && !unitAnchorPhenomenon) { 
                  unitAnchorPhenomenon = anchorMatch[1].trim();
                  const anchorTopic = {
                      title: `Anchor: ${unitAnchorPhenomenon}`,
                      lesson_titles: [`Exploring: ${unitAnchorPhenomenon}`]
                  };
                  currentUnit["5e_sequences"].unshift(anchorTopic); 
                  continue; 
              }

              const topicMatch = line.match(/^Topic: (.*)/);
              if (topicMatch && currentUnit) {
                  const topicTitle = topicMatch[1].trim();
                  currentTopic = { title: topicTitle, lesson_titles: [] };
                  currentUnit["5e_sequences"].push(currentTopic);
                  continue;
              }

              if (currentTopic && currentUnit) { 
                  let isLesson = false;
                  let lessonText = '';

                  if (line.startsWith('- ')) {
                      isLesson = true;
                      lessonText = line.substring(2).trim();
                  } else if (!line.match(/^Unit[:\s]/) && 
                             !line.match(/^Topic:/) &&
                             !line.match(/^Anchor Phenomenon:/) && 
                             !ignoredLineStarts.some(start => line.startsWith(start))) {
                      isLesson = true;
                      lessonText = line.trim();
                  }
                  
                  if (isLesson && lessonText) {
                      if (!currentTopic.lesson_titles.includes(lessonText)) {
                          currentTopic.lesson_titles.push(lessonText);
                      }
                  }
              }
          }
          curriculum.units.forEach(unit => {
              unit["5e_sequences"] = unit["5e_sequences"].filter(seq => seq.title && seq.lesson_titles.length > 0);
          });
          curriculum.units = curriculum.units.filter(unit => unit.title && unit["5e_sequences"].length > 0);
          
          return curriculum;
      }

      const allCurriculaData = {
          "Biology": parseCurriculumTextToStructure(biologyPdfTextContent, "Biology"),
          "Earth & Space Science": parseCurriculumTextToStructure(essPdfTextContent, "Earth & Space Science")
      };


      // --- Main Application Component ---
      function App() { 
        const [materialType, setMaterialType] = React.useState('lessonPlan');
        const [sourceText, setSourceText] = React.useState('');
        const [generatedContent, setGeneratedContent] = React.useState('');
        const [lastGeneratedLessonPlan, setLastGeneratedLessonPlan] = React.useState(null); 
        const [isLoading, setIsLoading] = React.useState(false);
        const [error, setError] = React.useState('');
        const [showInfoModal, setShowInfoModal] = React.useState(false);

        const [selectedSubject, setSelectedSubject] = React.useState('');
        const [subjectsList, setSubjectsList] = React.useState([]);
        
        const [currentCurriculumData, setCurrentCurriculumData] = React.useState(null); 
        const [selectedUnit, setSelectedUnit] = React.useState('');
        const [selectedTopic, setSelectedTopic] = React.useState(''); 
        const [selectedLesson, setSelectedLesson] = React.useState(''); 

        const [unitsList, setUnitsList] = React.useState([]); 
        const [topicsList, setTopicsList] = React.useState([]); 
        const [lessonsList, setLessonsList] = React.useState([]); 
        const [parseError, setParseError] = React.useState('');

        // Google Auth State
        const [gapiLoaded, setGapiLoaded] = React.useState(false);
        const [gisLoaded, setGisLoaded] = React.useState(false);
        const [tokenClient, setTokenClient] = React.useState(null);
        const [isLoggedIn, setIsLoggedIn] = React.useState(false);
        const [userInfo, setUserInfo] = React.useState(null);
        const [googleAuthError, setGoogleAuthError] = React.useState('');
        const [uploadStatus, setUploadStatus] = React.useState(''); 
        const [isProcessingDoc, setIsProcessingDoc] = React.useState(false); 


        const materialTypes = [
          { id: 'lessonPlan', name: 'Lesson Plan', icon: <ClipboardListIcon className="w-5 h-5 mr-2" /> },
          { id: 'worksheet', name: 'Worksheet', icon: <FileTextIcon className="w-5 h-5 mr-2" /> },
          { id: 'readingMaterial', name: 'Reading Material', icon: <BookOpenIcon className="w-5 h-5 mr-2" /> },
          { id: 'clusterQuestions', name: 'Cluster Questions', icon: <HelpCircleIcon className="w-5 h-5 mr-2" /> },
        ];
        
        const InfoModal = () => (
          <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 overflow-y-auto">
            <div className="bg-slate-800 text-gray-100 p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
              <h3 className="text-2xl font-semibold text-sky-400 mb-4">How to Use This Tool Effectively</h3>
              
              <div className="mb-6">
                  <h4 className="text-lg font-semibold text-sky-500 mb-2">1. Select Subject & Curriculum</h4>
                  <p className="text-sm text-slate-300 mb-2">
                  First, select a Subject. The curriculum for the selected subject is pre-loaded. The "Anchor Phenomenon" for each unit is its first topic.
                  </p>
              </div>
              <div className="mb-6">
                  <h4 className="text-lg font-semibold text-sky-500 mb-2">2. Login with Google (Optional but Recommended)</h4>
                  <p className="text-sm text-slate-300 mb-2">
                  To save or open your generated material as a Google Doc, click "Login with Google".
                  </p>
                  <p className="text-sm text-yellow-500 font-semibold mb-1">
                      IMPORTANT: For Google features to work, the Google Client ID (`{GOOGLE_CLIENT_ID}`)
                      must be correctly configured in your Google Cloud Console (especially "Authorized JavaScript origins").
                  </p>
              </div>
              <div className="mb-6">
                  <h4 className="text-lg font-semibold text-sky-500 mb-2">3. Select Material Type & Options</h4>
                  <p className="text-sm text-slate-300 mb-2">Choose the type of educational material you want.</p>
                  <p className="text-sm text-slate-300 mb-2">Use the dropdowns to select Unit, Topic, and Lesson for context.</p>
              </div>
               <div className="mb-6">
                  <h4 className="text-lg font-semibold text-sky-500 mb-2">4. Generate & Interact</h4>
                  <p className="text-sm text-slate-300 mb-3">
                  Click "Generate Material". Once generated, you can copy it, upload to Drive, or open it directly as a Google Doc (if logged in). 
                  If you generate a Lesson Plan, a button will appear to generate a worksheet specifically for that lesson plan.
                  </p>
              </div>
              <button
                onClick={() => setShowInfoModal(false)}
                className="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md transition duration-150"
              >
                Got it!
              </button>
            </div>
          </div>
        );

        // --- Google API Initialization ---
        React.useEffect(() => {
          const scriptGapi = document.createElement('script');
          scriptGapi.src = 'https://apis.google.com/js/api.js';
          scriptGapi.async = true;
          scriptGapi.defer = true;
          scriptGapi.onload = () => {
              window.gapi.load('client', () => { 
                  window.gapi.client.init({
                      apiKey: GOOGLE_API_KEY, 
                      discoveryDocs: DRIVE_API_DISCOVERY_DOCS,
                  }).then(() => {
                      setGapiLoaded(true);
                      console.log("GAPI client initialized");
                  }).catch(error => {
                      console.error("Error initializing GAPI client:", error);
                      setGoogleAuthError("Failed to initialize Google API Client. Check console.");
                  });
              });
          };
          document.body.appendChild(scriptGapi);

          const scriptGis = document.createElement('script');
          scriptGis.src = 'https://accounts.google.com/gsi/client';
          scriptGis.async = true;
          scriptGis.defer = true;
          scriptGis.onload = () => {
              setGisLoaded(true);
              console.log("GIS client loaded");
          };
          document.body.appendChild(scriptGis);

          return () => {
              document.body.removeChild(scriptGapi);
              document.body.removeChild(scriptGis);
          };
        }, []);

        React.useEffect(() => {
          if (gisLoaded && GOOGLE_CLIENT_ID && GOOGLE_CLIENT_ID !== 'YOUR_GOOGLE_CLIENT_ID') { 
              try {
                  const client = window.google.accounts.oauth2.initTokenClient({
                      client_id: GOOGLE_CLIENT_ID,
                      scope: DRIVE_API_SCOPES,
                      callback: (tokenResponse) => {
                          if (tokenResponse && tokenResponse.access_token) {
                              setIsLoggedIn(true);
                              const decodedToken = tokenResponse.id_token ? JSON.parse(atob(tokenResponse.id_token.split('.')[1])) : {};
                              setUserInfo({ name: decodedToken.name || decodedToken.email || 'Google User' }); 
                              setGoogleAuthError('');
                              console.log("Google Sign-In successful.");
                          } else {
                              console.error("Google Sign-In: No access token.", tokenResponse);
                              setGoogleAuthError("Login failed: No access token. Check console.");
                              setIsLoggedIn(false);
                          }
                      },
                      error_callback: (error) => {
                          console.error("Google Sign-In Error:", error);
                          let detailedError = `Login Error: ${error.reason || error.type || error.message || 'Unknown error'}. `;
                          if (error.type === 'popup_closed_by_user' || error.reason === 'popup_closed_by_user') {
                            detailedError += "The sign-in popup was closed before completion. Please try again.";
                          } else if (error.type === 'popup_failed_to_open' || error.reason === 'popup_failed_to_open'){
                            detailedError += "The sign-in popup failed to open. Please check if your browser is blocking popups.";
                          } else {
                            detailedError += "Check Client ID & 'Authorized JavaScript origins' in Google Cloud Console.";
                          }
                          setGoogleAuthError(detailedError);
                          setIsLoggedIn(false);
                      }
                  });
                  setTokenClient(client);
              } catch (e) {
                  console.error("Error initializing GIS token client:", e);
                  setGoogleAuthError("Failed to init Google Sign-In. Check Client ID.");
              }
          } else if (GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID') {
              setGoogleAuthError("Google Client ID not configured. Please update the code with your actual Client ID from Google Cloud Console.");
              console.warn("Google Client ID is not configured.");
          }
        }, [gisLoaded]);


        const handleGoogleLogin = () => {
          setGoogleAuthError('');
          if (GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID') {
              setGoogleAuthError("Google Client ID is not configured. Please update the code.");
              return;
          }
          if (!gisLoaded || !tokenClient) {
              setGoogleAuthError("Google Sign-In is not ready. Please wait or check console for errors.");
              console.error("Google Sign-In not ready (gisLoaded, tokenClient):", gisLoaded, tokenClient);
              return;
          }
          try {
              tokenClient.requestAccessToken();
          } catch (e) {
              console.error("Error requesting access token:", e);
              setGoogleAuthError("Error requesting access token. Check console.");
          }
        };

        const handleGoogleLogout = () => {
          setIsLoggedIn(false);
          setUserInfo(null);
          console.log("User logged out.");
        };
        
        const createAndUploadGoogleDoc = async (content, fileNameToUse, openAfterCreate = false) => {
            if (!isLoggedIn) {
                setUploadStatus("Please login with Google first.");
                return null;
            }
            if (!content) {
                setUploadStatus("No content available.");
                return null;
            }
            if (!gapiLoaded || !window.gapi.client || !window.gapi.client.drive) {
                setUploadStatus("Google Drive API not ready.");
                return null;
            }

            setIsProcessingDoc(true);
            setUploadStatus(openAfterCreate ? "Creating Google Doc..." : "Uploading to Google Drive...");

            const metadata = {
                name: fileNameToUse,
                mimeType: 'application/vnd.google-apps.document',
            };

            const boundary = '-------314159265358979323846';
            const delimiter = "\r\n--" + boundary + "\r\n";
            const close_delim = "\r\n--" + boundary + "--";
            const multipartRequestBody =
                delimiter +
                'Content-Type: application/json; charset=UTF-8\r\n\r\n' +
                JSON.stringify(metadata) +
                delimiter +
                'Content-Type: text/plain; charset=UTF-8\r\n\r\n' +
                content +
                close_delim;

            try {
                const request = window.gapi.client.request({
                    path: '/upload/drive/v3/files',
                    method: 'POST',
                    params: { uploadType: 'multipart' },
                    headers: { 'Content-Type': 'multipart/related; boundary="' + boundary + '"' },
                    body: multipartRequestBody
                });
                const response = await request;
                console.log("File action successful:", response.result);
                
                if (openAfterCreate && response.result && response.result.webViewLink) {
                    setUploadStatus(`Google Doc created! Opening...`);
                    window.open(response.result.webViewLink, '_blank');
                } else if (openAfterCreate) {
                     setUploadStatus(`Google Doc created, but no link to open. Find it in Drive.`);
                } 
                else {
                    setUploadStatus(`Success! File "${fileNameToUse}" uploaded to Google Drive.`);
                }
                setIsProcessingDoc(false);
                return response.result; 
            } catch (error) {
                console.error("Error with Google Drive action:", error);
                const errorMsg = error.result?.error?.message || error.message || 'Unknown error';
                setUploadStatus(`Action failed: ${errorMsg}. Check console.`);
                setIsProcessingDoc(false);
                return null;
            }
        };

        const handleUploadToDrive = () => {
            const materialTitle = selectedLesson || selectedTopic || selectedUnit || materialType;
            const fileName = `${selectedSubject || 'Generated Material'}_${materialTitle.replace(/[^a-zA-Z0-9\s-_]/g, '').replace(/\s+/g, '_')}.gdoc`;
            createAndUploadGoogleDoc(generatedContent, fileName, false);
        };

        const handleOpenInGoogleDocs = () => {
            const materialTitle = selectedLesson || selectedTopic || selectedUnit || materialType;
            const fileName = `${selectedSubject || 'Generated Material'}_${materialTitle.replace(/[^a-zA-Z0-9\s-_]/g, '').replace(/\s+/g, '_')}.gdoc`;
            createAndUploadGoogleDoc(generatedContent, fileName, true);
        };


        // --- Curriculum Dropdown Logic ---
        React.useEffect(() => {
          setSubjectsList(Object.keys(allCurriculaData));
        }, []);

        React.useEffect(() => {
          if (selectedSubject && allCurriculaData[selectedSubject]) {
              setCurrentCurriculumData(allCurriculaData[selectedSubject]);
              setUnitsList(allCurriculaData[selectedSubject].units.map(u => u.title));
              setSelectedUnit(''); setSelectedTopic(''); setSelectedLesson('');
              setTopicsList([]); setLessonsList([]);
          } else {
              setCurrentCurriculumData(null); setUnitsList([]);
              setSelectedUnit(''); setSelectedTopic(''); setSelectedLesson('');
              setTopicsList([]); setLessonsList([]);
          }
        }, [selectedSubject]);
        
        React.useEffect(() => {
          if (selectedUnit && currentCurriculumData && currentCurriculumData.units) {
            const unit = currentCurriculumData.units.find(u => u.title === selectedUnit);
            setTopicsList(unit && unit["5e_sequences"] ? unit["5e_sequences"].map(seq => seq.title) : []);
            setSelectedTopic(''); setSelectedLesson(''); setLessonsList([]); 
          } else if (!selectedUnit) { 
              setTopicsList([]); setLessonsList([]);
              setSelectedTopic(''); setSelectedLesson('');
          }
        }, [selectedUnit, currentCurriculumData]);

        React.useEffect(() => {
          if (selectedTopic && selectedUnit && currentCurriculumData && currentCurriculumData.units) {
            const unit = currentCurriculumData.units.find(u => u.title === selectedUnit);
            const topicSequence = unit?.["5e_sequences"]?.find(seq => seq.title === selectedTopic);
            setLessonsList(topicSequence ? topicSequence.lesson_titles : []);
            setSelectedLesson(''); 
          } else if (!selectedTopic) { 
              setLessonsList([]); setSelectedLesson('');
          }
        }, [selectedTopic, selectedUnit, currentCurriculumData]);


        const constructPrompt = (isForWorksheetFromLessonPlan = false, lessonPlanContent = "") => {
          let subjectFocus = "";
          let unitDetails = "";
          let topicDetails = "";
          let lessonDetails = "";

          if (selectedUnit) unitDetails = `Unit: "${selectedUnit}"`;
          if (selectedTopic) topicDetails = `Topic/5e Sequence: "${selectedTopic}"`;
          if (selectedLesson) lessonDetails = `Lesson: "${selectedLesson}"`;

          if (selectedSubject) {
              subjectFocus = `Subject: ${selectedSubject}`;
              if (unitDetails) subjectFocus += `, ${unitDetails}`;
              if (topicDetails) subjectFocus += `, ${topicDetails}`;
              if (lessonDetails) subjectFocus += `, ${lessonDetails}`;
              if (!unitDetails) subjectFocus += ` (general)`;
          } else {
              if (!sourceText.trim() && !isForWorksheetFromLessonPlan) { 
                   setError("Please select a Subject, and optionally Unit/Topic/Lesson, or provide 'Additional Source Text' to define a topic.");
                   return ''; 
              }
              subjectFocus = `Topic to be inferred from Source Text or Lesson Plan`;
          }
          
          let currentMaterialType = isForWorksheetFromLessonPlan ? 'worksheet' : materialType;

          let prompt = `You are an expert instructional designer. The user is requesting educational material for ${selectedSubject ? 'the subject: ' + selectedSubject : 'a science topic'}.
          Please generate the content with formatting optimized for direct copy-pasting into Google Docs. 
          This means: highly organized text, clear paragraph separation (one blank line between paragraphs), bold main section titles (e.g., **Section Title**), 
          numbered primary lists (e.g., 1. Item A, 2. Item B), and lettered indented sub-lists (e.g., a. Sub-item 1, b. Sub-item 2). 
          Avoid complex text formatting, asterisks for lists/emphasis, and any elements that do not transfer well to a standard word processor environment.
          The descriptive text in parentheses within the following specific instructions (like "(A clear, engaging title...)") is for your guidance on content and should NOT be part of the final generated material.

          Generate educational material based on the following specifications.
          The user is providing a subject focus derived from their curriculum structure and optionally some additional source text.
          The additional source text may contain relevant information from curricula like "New Vision HS Biology," "MLL cBiology," and the "NYS Culturally Responsive-Sustaining Education Framework."
          Use this information and your expertise to create high-quality, relevant content.

          Subject Focus: ${subjectFocus}
          Additional Source Text (use this to supplement information for the subject focus if provided, otherwise rely on general knowledge for the subject focus):
          ---
          ${isForWorksheetFromLessonPlan ? "N/A - Worksheet is based on the provided Lesson Plan content below." : (sourceText || "No additional source text provided. Rely on general knowledge for the subject focus.")}
          ---
          ${isForWorksheetFromLessonPlan ? `\n\nLesson Plan Content to Base Worksheet On:\n---\n${lessonPlanContent}\n---\n` : ""}
          Material Type: ${currentMaterialType}
          `;

            switch (currentMaterialType) { // Use currentMaterialType here
            case 'lessonPlan':
              prompt += `
              Generate a Lesson Plan with the following structure:

              **Lesson Title and Overview:**
              (Content: A clear, engaging title that reflects the content focus. A short summary of goals within the lesson. Title should be specific to the Subject Focus.)

              **Aim:**
              (Content: A clear question outlining the main goal or purpose of the lesson, specific to the Subject Focus. Do not include explanation.)

              **Do Now:**
              (Content: A brief activity or question designed to engage students at the beginning of the lesson. Related to the Subject Focus, serving as a warm-up to activate prior knowledge. Incorporate elements of the Culturally Responsive-Sustaining Education Framework from NYS. If possible, model an activity style from the relevant curriculum (e.g., New Vision HS Biology or Earth Science) based on provided source text or general knowledge of it.)

              **Learning Objectives:**
              (Content: A list of 3 specific, measurable learning objectives students should achieve for the Subject Focus. Format as a numbered list. One sentence per objective. Align with relevant standards. Model from the relevant curriculum if possible.)
              Example Format:
              1. Objective one.
              2. Objective two.
              3. Objective three.

              **Standards Alignment:**
              (Content: Detailed alignment with relevant NYS educational standards (e.g., NYSSLS) for the Subject Focus. List 3 specific standards addressed. Format as a numbered list.)
              Example Format:
              1. Standard one.
              2. Standard two.
              3. Standard three.

              **Prior Knowledge Activation:**
              (Content: 1-2 questions to activate students' prior knowledge related to the Subject Focus. Follow the Culturally Responsive-Sustaining Education Framework.)

              **Lesson Activities (Teacher Sequence & Student Engagement):**
              (Content: A sequence of steps for the teacher for the Subject Focus. Include relevant parts from the specified curriculum and MLL cBiology curriculum from source text or general knowledge. Include scaffolded material and strategies from the specified curriculum. Incorporate at least 1 engaging activity from the specified curriculum style within this lesson flow. Activity must align with aim and objectives for the Subject Focus. Follow the Culturally Responsive-Sustaining Education Framework.)

              **Engaging Activities (Optional Day 2 / Enrichment):**
              (Content: Describe one optional Day 2 activity (LAB or enrichment) to deepen understanding of the Subject Focus. Clearly label it as "Optional Day 2 Activity". This activity should be in the style of the specified curriculum.)

              **Closure:**
              (Content: General questions for students to summarize what they learned about the Subject Focus. Follow the Culturally Responsive-Sustaining Education Framework.)

              **Differentiation:**
              (Content: Specific scaffolds/supports for the Subject Focus.)
              Students With Disabilities (SWD): (Describe specific strategies using clear, concise language. Use numbered or lettered sub-lists if multiple strategies are provided.)
              Multilingual Learners (MLLs):
              Visual Strategies: (Use a numbered or lettered list for strategies)
              1. (Strategy 1 description)
              2. (Strategy 2 description)
              Sentence Stems: (Use a numbered or lettered list for stems)
              1. (Stem 1 example)
              2. (Stem 2 example)
              3. (Stem 3 example)
              Collaboration Strategies: (Use a numbered or lettered list for strategies)
              1. (Strategy 1 description)
              2. (Strategy 2 description)
              (Follow the Culturally Responsive-Sustaining Education Framework.)
              `;
              break;
            case 'worksheet':
              prompt += `
              Generate a Student Worksheet. 
              ${isForWorksheetFromLessonPlan 
                ? "This worksheet MUST be based on the 'Lesson Plan Content to Base Worksheet On' provided above. Extract key concepts, activities, questions, and vocabulary from the lesson plan to create relevant worksheet items." 
                : "This worksheet should be based on the Subject Focus and any Additional Source Text."
              }
              
              The worksheet should have the following characteristics:
              Content: (Based on the provided lesson plan or subject focus.)
              Bilingual: (All student-facing text - questions, instructions, sentence stems - MUST be in English AND Spanish. Clearly label each language. E.g., English: Question / Espaol: Pregunta. Ensure clear separation between languages for readability.)
              Sentence Stems/Starters: (Include these for answers to support students.)
              Questions/Problems: (Include questions and problems discussed in the lesson plan or typical for the subject focus. Use numbered lists for questions.)
              Note-Taking Space: (Include a designated area for notes, clearly labeled.)
              Curriculum Alignment: (Use sample question styles from the specified curriculum from source text or general knowledge.)
              Framework: (Adhere to the Culturally Responsive-Sustaining Education Framework.)

              Example structure for a bilingual question with stem:
              1. English: Based on the lesson about ${selectedLesson || selectedTopic || selectedUnit || 'the topic'}, what is...? To answer, you can start with: "Based on the lesson, ..."
                 Espaol: Basado en la leccin sobre ${selectedLesson || selectedTopic || selectedUnit || 'el tema'}, qu es...? Para responder, puedes comenzar con: "Basado en la leccin, ..."
                 [Space for answer]
              `;
              break;
            case 'readingMaterial':
              prompt += `
              Generate Reading Material for the Subject Focus with the following specifications:
              Topic Relevancy: (Article must be relevant to the Subject Focus and suitable as support material for a lesson.)
              Length: (600-1000 words, multiple paragraphs. Ensure clear paragraph breaks.)
              Differentiation: (The article should be written to be accessible. Include a separate, clearly labeled section or call-outs for differentiation strategies for MLLs and SWDs, rather than embedding them directly in the main text in a confusing way.)
              Bilingual: (The ENTIRE article MUST be bilingual. First, provide the complete article in English, including a title in English. Then, after the complete English article, use a clear separator like "--- SPANISH TRANSLATION ---". Following the separator, provide the complete article in Spanish, including a title in Spanish.)

              Example of bilingual article structure:
              **Title of Article in English**
              [Full English article text, with multiple paragraphs...]

              --- SPANISH TRANSLATION ---

              **Ttulo del Artculo en Espaol**
              [Texto completo del artculo en espaol, con mltiples prrafos...]
              `;
              break;
            case 'clusterQuestions':
              prompt += `
              Generate a set of Cluster Questions for the Subject Focus following the new NYS Biology Regents format (adapt for Earth Science if that's the selected subject, focusing on appropriate question styles). Ensure clear formatting for questions and answer choices.
              Content: (Based on the provided Subject Focus.)
              Structure:
              Multiple Choice Questions (MCQs): (Generate 5 MCQs. Format as:
                 1. Question text...
                    a) Choice A
                    b) Choice B
                    c) Choice C
                    d) Choice D
              )
              Data Analysis / Reading Comprehension Questions: (Generate 2 questions. These should involve interpreting a provided graph, table, or short passage related to the Subject Focus. Clearly label any provided data or passage. Format questions clearly.)
              CER (Claim-Evidence-Reasoning) Question: (Generate 1 CER question. This should require students to make a claim, support it with evidence potentially from a provided scenario or data related to Subject Focus, and explain their reasoning. Clearly delineate the Claim, Evidence, and Reasoning sections or prompts.)
              Curriculum Alignment: (Use material and styles from the specified curriculum from source text or general knowledge.)
              Graphics/Models: (For some questions, describe necessary graphics, models, or diagrams relevant to the Subject Focus. E.g., "[Instruction: Include a diagram of a relevant model for ${selectedLesson || selectedTopic || selectedUnit || 'the topic'} here, showing X, Y, and Z.]". The AI should not try to draw them but describe them clearly.)
              Format: (Model after NYS cluster question samples, focusing on textual clarity for Google Docs.)
              `;
              break;
            default:
              return ''; 
          }
          return prompt;
        };

        const handleSubmit = async (e) => {
          e.preventDefault();
          
          const currentPrompt = constructPrompt();
          if (!currentPrompt) { 
              setIsLoading(false);
              return;
          }
          setError(''); 
          setGeneratedContent(''); 
          setUploadStatus(''); 
          if (materialType !== 'lessonPlan') { // Clear last lesson plan if not generating a lesson plan
            setLastGeneratedLessonPlan(null);
          }


          setIsLoading(true);

          try {
              let chatHistory = [];
              chatHistory.push({ role: "user", parts: [{ text: currentPrompt }] });
              const payload = { contents: chatHistory };
              const apiKey = ""; 
              const llmApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

              const response = await fetch(llmApiUrl, {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify(payload)
              });

              if (!response.ok) {
                  // Try to get text first for better error diagnosis
                  let errorText = `API request failed with status ${response.status}`;
                  try {
                      const text = await response.text();
                      errorText += `. Response: ${text.substring(0, 500)}${text.length > 500 ? '...' : ''}`; // Log first 500 chars
                  } catch (textErr) {
                      errorText += ". Additionally, failed to read response text.";
                  }
                  console.error('API Error Full Response Text (if available):', errorText);
                  throw new Error(errorText);
              }

              let result;
              try {
                  result = await response.json();
              } catch (jsonError) {
                  console.error("Failed to parse API response as JSON:", jsonError);
                  // Try to get the text of the response if JSON parsing fails
                  // This requires the response to be cloned if you want to read it multiple times,
                  // or ensure this is the first time .text() is called.
                  // For simplicity here, we'll assume this is the first attempt if .json() fails.
                  let responseTextForError = "Could not read response body."
                  try {
                    // Create a new reference to the response to read its body as text
                    // This is a simplified approach. In more complex scenarios, you might clone the response earlier.
                     const clonedResponse = response.clone();
                     responseTextForError = await clonedResponse.text();
                  } catch (e) {
                      console.error("Could not get text from response after JSON parse failed", e);
                  }
                  throw new Error(`API response was not valid JSON. Received: ${responseTextForError.substring(0, 200)}...`);
              }


              if (result.candidates && result.candidates.length > 0 &&
                  result.candidates[0].content && result.candidates[0].content.parts &&
                  result.candidates[0].content.parts.length > 0) {
                  const text = result.candidates[0].content.parts[0].text;
                  setGeneratedContent(text);
                  if (materialType === 'lessonPlan') {
                    setLastGeneratedLessonPlan(text); // Save if it's a lesson plan
                  } else {
                    setLastGeneratedLessonPlan(null); // Clear if it's not
                  }
              } else {
                  console.error('Unexpected API response structure:', result);
                   if (result.promptFeedback && result.promptFeedback.blockReason) {
                       throw new Error(`Content generation blocked: ${result.promptFeedback.blockReason} - ${result.promptFeedback.blockReasonMessage || ''}`);
                  }
                  throw new Error('No content generated or unexpected response structure.');
                  setLastGeneratedLessonPlan(null);
              }
          } catch (err) {
              console.error("Error generating content:", err);
              setError(`Failed to generate content. ${err.message}. Please check the console for more details.`);
              setGeneratedContent('');
              setLastGeneratedLessonPlan(null);
          } finally {
              setIsLoading(false);
          }
        };

        const handleGenerateWorksheetFromLessonPlan = async () => {
            if (!lastGeneratedLessonPlan) {
                setError("No lesson plan available to generate a worksheet from. Please generate a lesson plan first.");
                return;
            }
            setError('');
            setGeneratedContent('');
            setUploadStatus('');
            setIsLoading(true);

            const promptForWorksheet = constructPrompt(true, lastGeneratedLessonPlan);

            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: promptForWorksheet }] });
                const payload = { contents: chatHistory };
                const apiKey = "";
                const llmApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(llmApiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                if (!response.ok) {
                    let errorText = `API request failed with status ${response.status}`;
                    try {
                        const text = await response.text();
                        errorText += `. Response: ${text.substring(0, 500)}${text.length > 500 ? '...' : ''}`;
                    } catch (textErr) {
                        errorText += ". Additionally, failed to read response text.";
                    }
                    console.error('API Error Full Response Text (if available):', errorText);
                    throw new Error(errorText);
                }

                let result;
                try {
                    result = await response.json();
                } catch (jsonError) {
                    console.error("Failed to parse API response as JSON:", jsonError);
                    let responseTextForError = "Could not read response body."
                    try {
                       const clonedResponse = response.clone();
                       responseTextForError = await clonedResponse.text();
                    } catch (e) {
                        console.error("Could not get text from response after JSON parse failed", e);
                    }
                    throw new Error(`API response was not valid JSON when generating worksheet. Received: ${responseTextForError.substring(0,200)}...`);
                }

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    setGeneratedContent(text); 
                } else {
                    throw new Error('No content generated for worksheet or unexpected response structure.');
                }
            } catch (err) {
                console.error("Error generating worksheet from lesson plan:", err);
                setError(`Failed to generate worksheet: ${err.message}.`);
                setGeneratedContent('');
            } finally {
                setIsLoading(false);
            }
        };
        
        React.useEffect(() => {
          const hasSeenModal = localStorage.getItem('hasSeenEducationalMaterialInfoModalV11_WorksheetFromLP'); 
          if (!hasSeenModal) {
              setShowInfoModal(true);
              localStorage.setItem('hasSeenEducationalMaterialInfoModalV11_WorksheetFromLP', 'true');
          }
          setSubjectsList(Object.keys(allCurriculaData));
        }, []); 

        const CustomSelect = ({ id, value, onChange, options, placeholder, disabled }) => (
          <div className="relative w-full">
            <select
              id={id}
              value={value}
              onChange={onChange}
              disabled={disabled || options.length === 0}
              className={`w-full p-3 pr-10 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400 appearance-none
                          ${disabled || options.length === 0 ? 'opacity-50 cursor-not-allowed' : ''}`}
            >
              <option value="">{placeholder}</option>
              {options.map(opt => <option key={opt} value={opt}>{opt}</option>)}
            </select>
            <ChevronDownIcon className="w-5 h-5 text-slate-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none" />
          </div>
        );


        return (
          <div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-gray-100 p-4 sm:p-6 lg:p-8 font-sans">
            {showInfoModal && <InfoModal />}
            <div className="max-w-4xl mx-auto">
              <header className="mb-6 text-center">
                <div className="flex justify-between items-center mb-2">
                    <h1 className="text-3xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-blue-500">
                      AI-Powered Curriculum Assistant
                    </h1>
                    <button
                        onClick={() => {
                            const htmlContent = document.documentElement.outerHTML;
                            const blob = new Blob([htmlContent], { type: 'text/html' });
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = 'AI_Curriculum_App.html';
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            URL.revokeObjectURL(url);
                        }}
                        title="Download App Source"
                        className="p-2 bg-slate-700 hover:bg-slate-600 rounded-full text-sky-400 transition-colors"
                    >
                        <DownloadIcon className="w-5 h-5" />
                    </button>
                </div>
                 <p className="mt-1 text-md text-slate-300">
                  Your Partner in Crafting Educational Materials
                </p>
                 <p className="mt-3 text-sm text-slate-400">
                  Select your subject and options below to generate customized content.
                  <button 
                      onClick={() => setShowInfoModal(true)} 
                      className="ml-2 text-sky-400 hover:text-sky-300 underline text-xs"
                      aria-label="How to use this tool"
                  >
                      (How to use effectively?)
                  </button>
                </p>
              </header>

              {/* Google Auth Section */}
              <div className="mb-6 p-4 bg-slate-800 rounded-lg shadow-md flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0">
                  <div>
                      {isLoggedIn && userInfo ? (
                          <p className="text-sm text-green-400">Logged in as: {userInfo.name}</p>
                      ) : (
                          <p className="text-sm text-slate-400">Login with Google to save or open as Google Doc.</p>
                      )}
                      {googleAuthError && <p className="text-xs text-red-400 mt-1">{googleAuthError}</p>}
                       {GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID' && (
                          <p className="text-xs text-yellow-400 mt-1">Google Client ID not configured. Login/Upload will not work.</p>
                      )}
                  </div>
                  {isLoggedIn ? (
                      <button
                          onClick={handleGoogleLogout}
                          className="flex items-center bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md transition duration-150 text-sm"
                      >
                          <LogOutIcon className="w-4 h-4 mr-2" /> Logout
                      </button>
                  ) : (
                      <button
                          onClick={handleGoogleLogin}
                          disabled={!gapiLoaded || !gisLoaded || GOOGLE_CLIENT_ID === 'YOUR_GOOGLE_CLIENT_ID'}
                          className="flex items-center bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 text-white font-semibold py-2 px-4 rounded-md transition duration-150 text-sm"
                      >
                         <LogInIcon className="w-4 h-4 mr-2" /> Login with Google
                      </button>
                  )}
              </div>


              <form onSubmit={handleSubmit} className="bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8 space-y-6">
                <div>
                  <label htmlFor="materialType" className="block text-sm font-medium text-sky-300 mb-1">
                    Type of Material
                  </label>
                  <div className="grid grid-cols-2 md:grid-cols-4 gap-3"> 
                    {materialTypes.map((type) => (
                      <button
                        key={type.id}
                        type="button"
                        onClick={() => {
                            setMaterialType(type.id);
                            if (type.id !== 'lessonPlan') { // Clear last lesson plan if user selects something else
                                setLastGeneratedLessonPlan(null);
                            }
                        }}
                        className={`flex flex-col sm:flex-row items-center justify-center p-3 rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-75
                          ${materialType === type.id ? 'bg-sky-600 text-white shadow-md scale-105' : 'bg-slate-700 hover:bg-slate-600 text-slate-300 hover:text-white'}`}
                      >
                        {type.icon}
                        <span className="mt-1 sm:mt-0 sm:ml-2 text-xs sm:text-sm font-medium">{type.name}</span>
                      </button>
                    ))}
                  </div>
                </div>
                
                {parseError && (
                  <div className="bg-red-700 bg-opacity-80 border border-red-900 text-red-100 p-3 rounded-md text-xs">
                    <p><strong>Internal Curriculum Data Error:</strong> {parseError}</p>
                    <p>The pre-loaded curriculum data could not be parsed. Please check the console for details. Dropdowns may not function correctly.</p>
                  </div>
                )}

                <div>
                  <label htmlFor="subjectSelect" className="block text-sm font-medium text-sky-300 mb-1">Subject</label>
                  <CustomSelect
                      id="subjectSelect"
                      value={selectedSubject}
                      onChange={(e) => setSelectedSubject(e.target.value)}
                      options={subjectsList}
                      placeholder="Select Subject"
                      disabled={subjectsList.length === 0}
                  />
                </div>
                
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                      <label htmlFor="unitSelect" className="block text-sm font-medium text-sky-300 mb-1">Unit</label>
                      <CustomSelect
                          id="unitSelect"
                          value={selectedUnit}
                          onChange={(e) => setSelectedUnit(e.target.value)}
                          options={unitsList}
                          placeholder="Select Unit"
                          disabled={!selectedSubject || unitsList.length === 0}
                      />
                  </div>
                  <div>
                      <label htmlFor="topicSelect" className="block text-sm font-medium text-sky-300 mb-1">Topic / 5e Sequence</label>
                      <CustomSelect
                          id="topicSelect"
                          value={selectedTopic}
                          onChange={(e) => setSelectedTopic(e.target.value)}
                          options={topicsList}
                          placeholder="Select Topic/Sequence"
                          disabled={!selectedUnit || topicsList.length === 0}
                      />
                  </div>
                  <div>
                      <label htmlFor="lessonSelect" className="block text-sm font-medium text-sky-300 mb-1">Lesson</label>
                      <CustomSelect
                          id="lessonSelect"
                          value={selectedLesson}
                          onChange={(e) => setSelectedLesson(e.target.value)}
                          options={lessonsList}
                          placeholder="Select Lesson"
                          disabled={!selectedTopic || lessonsList.length === 0}
                      />
                  </div>
                </div>


                <div>
                  <label htmlFor="sourceText" className="block text-sm font-medium text-sky-300 mb-1">
                    Additional Source Text (Optional)
                  </label>
                  <textarea
                    id="sourceText"
                    value={sourceText}
                    onChange={(e) => setSourceText(e.target.value)}
                    rows="5"
                    className="w-full p-3 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-gray-100 placeholder-slate-400"
                    placeholder="Paste relevant text from your curriculum documents, key concepts, vocabulary, or specific instructions here... This text will be used IN ADDITION to the selected Unit/Topic/Lesson."
                  />
                  <p className="mt-1 text-xs text-slate-500">
                    Provide specific content excerpts here to further guide the AI. If no curriculum is selected above, this field can define the general topic.
                  </p>
                </div>

                <button
                  type="submit"
                  disabled={isLoading}
                  className="w-full flex items-center justify-center bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white font-semibold py-3 px-4 rounded-md shadow-md transition duration-150 ease-in-out disabled:opacity-70 disabled:cursor-not-allowed"
                >
                  {isLoading ? (
                    <>
                      <LoaderIcon className="w-5 h-5 mr-2" />
                      Generating...
                    </>
                  ) : (
                    'Generate Material'
                  )}
                </button>
              </form>

              {error && (
                <div className="mt-6 bg-red-700 bg-opacity-80 border border-red-900 text-red-100 p-4 rounded-md flex items-start">
                  <AlertTriangleIcon className="w-5 h-5 mr-3 flex-shrink-0 mt-0.5" />
                  <div>
                      <h4 className="font-semibold">Error</h4>
                      <p className="text-sm">{error}</p>
                  </div>
                </div>
              )}

              {generatedContent && (
                <div className="mt-8 bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8">
                  <div className="flex flex-col sm:flex-row justify-between items-center mb-4">
                      <h2 className="text-2xl font-semibold text-sky-400 mb-2 sm:mb-0">Generated Material</h2>
                      <div className="flex flex-wrap gap-2">
                          <button
                              onClick={() => { 
                                  const textarea = document.createElement('textarea');
                                  textarea.value = generatedContent;
                                  document.body.appendChild(textarea);
                                  textarea.select();
                                  try {
                                      document.execCommand('copy');
                                      const copyButton = document.getElementById('copyToClipboardButton');
                                      if(copyButton) {
                                          const originalText = copyButton.innerText;
                                          copyButton.innerText = 'Copied!';
                                          setTimeout(() => { copyButton.innerText = originalText; }, 2000);
                                      } else { alert('Content copied to clipboard!'); }
                                  } catch (err) { alert('Failed to copy content.'); }
                                  document.body.removeChild(textarea);
                              }}
                              id="copyToClipboardButton"
                              className="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-3 rounded-md transition duration-150 text-sm"
                          >
                              Copy to Clipboard
                          </button>
                          {isLoggedIn && (
                              <button
                                  onClick={handleUploadToDrive}
                                  disabled={isProcessingDoc || !gapiLoaded}
                                  className="flex items-center bg-green-600 hover:bg-green-700 disabled:bg-slate-600 text-white font-semibold py-2 px-3 rounded-md transition duration-150 text-sm"
                              >
                                 {isProcessingDoc && uploadStatus.includes("Uploading") ? <LoaderIcon className="w-4 h-4 mr-2"/> : <UploadCloudIcon className="w-4 h-4 mr-2" />}
                                  {isProcessingDoc && uploadStatus.includes("Uploading") ? 'Uploading...' : 'Upload to Drive'}
                              </button>
                          )}
                           {isLoggedIn && (
                              <button
                                  onClick={handleOpenInGoogleDocs}
                                  disabled={isProcessingDoc || !gapiLoaded}
                                  className="flex items-center bg-sky-500 hover:bg-sky-600 disabled:bg-slate-600 text-white font-semibold py-2 px-3 rounded-md transition duration-150 text-sm"
                              >
                                 {isProcessingDoc && uploadStatus.includes("Creating") ? <LoaderIcon className="w-4 h-4 mr-2"/> : <ExternalLinkIcon className="w-4 h-4 mr-2" />}
                                 {isProcessingDoc && uploadStatus.includes("Creating") ? 'Creating Doc...' : 'Open in Google Docs'}
                              </button>
                          )}
                      </div>
                  </div>
                  {uploadStatus && <p className={`text-xs mt-2 mb-3 ${uploadStatus.startsWith('Success') || uploadStatus.includes('Opening') ? 'text-green-400' : 'text-red-400'}`}>{uploadStatus}</p>}
                  
                  {/* Button to generate worksheet from lesson plan */}
                  {lastGeneratedLessonPlan && (
                    <div className="mt-4 pt-4 border-t border-slate-700">
                        <button
                            onClick={handleGenerateWorksheetFromLessonPlan}
                            disabled={isLoading} // Disable if any generation is in progress
                            className="w-full flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md transition duration-150 text-sm disabled:opacity-70"
                        >
                           <Edit3Icon className="w-4 h-4 mr-2" />
                           Generate Worksheet for this Lesson Plan
                        </button>
                    </div>
                  )}

                  <div className="prose prose-invert prose-sm sm:prose-base max-w-none bg-slate-700 p-4 rounded-md whitespace-pre-wrap overflow-x-auto mt-4">
                    {generatedContent}
                  </div>
                </div>
              )}
            </div>
             <footer className="text-center mt-12 py-6 border-t border-slate-700 px-4">
              <p className="text-sm text-slate-400">
                  AI-Powered Curriculum Assistant &copy; {new Date().getFullYear()}. All Rights Reserved (for this tool's UI).
              </p>
              <p className="text-xs text-slate-500 mt-2">
                  <strong>Disclaimer:</strong> This tool uses artificial intelligence to generate educational materials. 
                  All generated content should be carefully reviewed by qualified educators for accuracy, completeness, 
                  and pedagogical soundness before use in any educational setting. The user assumes full responsibility 
                  for the application of any materials generated by this tool.
              </p>
            </footer>
          </div>
        );
      }

      // Render the App to the DOM
      const container = document.getElementById('root');
      const root = ReactDOM.createRoot(container);
      root.render(<App />);
    </script>


<script src="https://apis.google.com/js/api.js" async="" defer="" gapi_processed="true"></script><script src="https://accounts.google.com/gsi/client" async="" defer=""></script><iframe id="apiproxy3e7e17040819ab4516c66898a9f98b5de0bb85310.2063851136" name="apiproxy3e7e17040819ab4516c66898a9f98b5de0bb85310.2063851136" src="https://content.googleapis.com/static/proxy.html?usegapi=1&amp;jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.lb.en.nJpyt-fjzo8.O%2Fd%3D1%2Frs%3DAHpOoo9fTqXSCmwMDsu9FH68l5KSqr6MBg%2Fm%3D__features__#parent=https%3A%2F%2F3hxy2rcgpr0l4h51gfcniaqbrmzf40dlk0s8j0dj2hq9zbbd89-h761100114.scf.usercontent.goog&amp;rpctoken=697856806" tabindex="-1" aria-hidden="true" style="width: 1px; height: 1px; position: absolute; top: -100px; display: none;"></iframe></body></html>